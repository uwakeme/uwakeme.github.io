<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>【前端】HTML5现代Web开发完全指南：从基础特性到高级应用的全面实践 | Uwakeme</title><meta name="author" content="Wake"><meta name="copyright" content="Wake"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="前言HTML5作为Web标准的重大革新，不仅仅是HTML的第五个版本，更是现代Web开发的基石。它引入了语义化标签、多媒体支持、离线存储、地理定位等众多新特性，同时配合CSS3和JavaScript，构建了完整的现代Web开发生态。就像从传统建筑到现代摩天大楼的演进一样，HTML5将Web开发从静态页面时代带入了富交互应用时代。本文将全面介绍HTML5的核心特性、开发实践和最佳应用，帮助开发者掌握">
<meta property="og:type" content="article">
<meta property="og:title" content="【前端】HTML5现代Web开发完全指南：从基础特性到高级应用的全面实践">
<meta property="og:url" content="https://uwakeme.tech/2025/01/29/%E5%89%8D%E7%AB%AF/%E3%80%90%E5%89%8D%E7%AB%AF%E3%80%91HTML5%E7%8E%B0%E4%BB%A3Web%E5%BC%80%E5%8F%91%E5%AE%8C%E5%85%A8%E6%8C%87%E5%8D%97%EF%BC%9A%E4%BB%8E%E5%9F%BA%E7%A1%80%E7%89%B9%E6%80%A7%E5%88%B0%E9%AB%98%E7%BA%A7%E5%BA%94%E7%94%A8%E7%9A%84%E5%85%A8%E9%9D%A2%E5%AE%9E%E8%B7%B5/index.html">
<meta property="og:site_name" content="Uwakeme">
<meta property="og:description" content="前言HTML5作为Web标准的重大革新，不仅仅是HTML的第五个版本，更是现代Web开发的基石。它引入了语义化标签、多媒体支持、离线存储、地理定位等众多新特性，同时配合CSS3和JavaScript，构建了完整的现代Web开发生态。就像从传统建筑到现代摩天大楼的演进一样，HTML5将Web开发从静态页面时代带入了富交互应用时代。本文将全面介绍HTML5的核心特性、开发实践和最佳应用，帮助开发者掌握">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/html5.svg">
<meta property="article:published_time" content="2025-01-28T16:00:00.000Z">
<meta property="article:modified_time" content="2025-07-31T09:40:17.047Z">
<meta property="article:author" content="Wake">
<meta property="article:tag" content="Web开发">
<meta property="article:tag" content="响应式设计">
<meta property="article:tag" content="HTML5">
<meta property="article:tag" content="前端技术">
<meta property="article:tag" content="移动端">
<meta property="article:tag" content="Web API">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/html5.svg"><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "【前端】HTML5现代Web开发完全指南：从基础特性到高级应用的全面实践",
  "url": "https://uwakeme.tech/2025/01/29/%E5%89%8D%E7%AB%AF/%E3%80%90%E5%89%8D%E7%AB%AF%E3%80%91HTML5%E7%8E%B0%E4%BB%A3Web%E5%BC%80%E5%8F%91%E5%AE%8C%E5%85%A8%E6%8C%87%E5%8D%97%EF%BC%9A%E4%BB%8E%E5%9F%BA%E7%A1%80%E7%89%B9%E6%80%A7%E5%88%B0%E9%AB%98%E7%BA%A7%E5%BA%94%E7%94%A8%E7%9A%84%E5%85%A8%E9%9D%A2%E5%AE%9E%E8%B7%B5/",
  "image": "https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/html5.svg",
  "datePublished": "2025-01-28T16:00:00.000Z",
  "dateModified": "2025-07-31T09:40:17.047Z",
  "author": [
    {
      "@type": "Person",
      "name": "Wake",
      "url": "https://uwakeme.tech/about/"
    }
  ]
}</script><link rel="shortcut icon" href="/img/avatar.jpeg"><link rel="canonical" href="https://uwakeme.tech/2025/01/29/%E5%89%8D%E7%AB%AF/%E3%80%90%E5%89%8D%E7%AB%AF%E3%80%91HTML5%E7%8E%B0%E4%BB%A3Web%E5%BC%80%E5%8F%91%E5%AE%8C%E5%85%A8%E6%8C%87%E5%8D%97%EF%BC%9A%E4%BB%8E%E5%9F%BA%E7%A1%80%E7%89%B9%E6%80%A7%E5%88%B0%E9%AB%98%E7%BA%A7%E5%BA%94%E7%94%A8%E7%9A%84%E5%85%A8%E9%9D%A2%E5%AE%9E%E8%B7%B5/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"><link rel="preconnect" href="//hm.baidu.com"><link rel="preconnect" href="//busuanzi.ibruce.info"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!false && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          theme === 'dark' ? activateDarkMode() : theme === 'light' ? activateLightMode() : null
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><script>var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?f96f39b60e7cc4fbcbd971a88f91f326";
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(hm, s);
})();
btf.addGlobalFn('pjaxComplete', () => {
  _hmt.push(['_trackPageview',window.location.pathname])
}, 'baidu_analytics')
</script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/local-search.xml","preload":false,"top_n_per_article":1,"unescape":false,"languages":{"hits_empty":"未找到符合您查询的内容：${query}","hits_stats":"共找到 ${hits} 篇文章"}},
  translate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false,"highlightFullpage":false,"highlightMacStyle":false},
  copy: {
    success: '复制成功',
    error: '复制失败',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'null',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid@4.12.0/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyloadPlugin: true,
  isAnchor: true,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '【前端】HTML5现代Web开发完全指南：从基础特性到高级应用的全面实践',
  isHighlightShrink: false,
  isToc: true,
  pageType: 'post'
}</script><meta name="generator" content="Hexo 7.3.0"><script>function loadCss(l){var d=document,h=d.head,s=d.createElement('link');s.rel='stylesheet';s.href=l;!function e(f){if (d.body)return f();setTimeout(function(){e(f)})}(function(){h.appendChild(s);});}loadCss('/style.css');loadCss('https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css');loadCss('https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.4/sharejs/dist/css/share.min.css');</script><noscript><link rel="stylesheet" href="/style.css"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.4/sharejs/dist/css/share.min.css"></noscript></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0OCIgaGVpZ2h0PSI0OCIgdmlld0JveD0iMCAwIDI0IDI0Ij48Y2lyY2xlIGN4PSI0IiBjeT0iMTIiIHI9IjMiIGZpbGw9ImN1cnJlbnRDb2xvciI+PGFuaW1hdGUgaWQ9InN2Z1NwaW5uZXJzM0RvdHNTY2FsZTAiIGF0dHJpYnV0ZU5hbWU9InIiIGJlZ2luPSIwO3N2Z1NwaW5uZXJzM0RvdHNTY2FsZTEuZW5kLTAuMjVzIiBkdXI9IjAuNzVzIiB2YWx1ZXM9IjM7LjI7MyIvPjwvY2lyY2xlPjxjaXJjbGUgY3g9IjEyIiBjeT0iMTIiIHI9IjMiIGZpbGw9ImN1cnJlbnRDb2xvciI+PGFuaW1hdGUgYXR0cmlidXRlTmFtZT0iciIgYmVnaW49InN2Z1NwaW5uZXJzM0RvdHNTY2FsZTAuZW5kLTAuNnMiIGR1cj0iMC43NXMiIHZhbHVlcz0iMzsuMjszIi8+PC9jaXJjbGU+PGNpcmNsZSBjeD0iMjAiIGN5PSIxMiIgcj0iMyIgZmlsbD0iY3VycmVudENvbG9yIj48YW5pbWF0ZSBpZD0ic3ZnU3Bpbm5lcnMzRG90c1NjYWxlMSIgYXR0cmlidXRlTmFtZT0iciIgYmVnaW49InN2Z1NwaW5uZXJzM0RvdHNTY2FsZTAuZW5kLTAuNDVzIiBkdXI9IjAuNzVzIiB2YWx1ZXM9IjM7LjI7MyIvPjwvY2lyY2xlPjwvc3ZnPg==" data-original="/img/avatar.jpeg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"></div><div class="site-data text-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">203</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">569</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">26</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/links/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url(https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/html5.svg);"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><span class="site-name">Uwakeme</span></a><a class="nav-page-title" href="/"><span class="site-name">【前端】HTML5现代Web开发完全指南：从基础特性到高级应用的全面实践</span><span class="site-name"><i class="fa-solid fa-circle-arrow-left"></i><span>  返回首页</span></span></a></span><div id="menus"><div id="search-button"><span class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></span></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/links/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav><div id="post-info"><h1 class="post-title">【前端】HTML5现代Web开发完全指南：从基础特性到高级应用的全面实践</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2025-01-28T16:00:00.000Z" title="发表于 2025-01-29 00:00:00">2025-01-29</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2025-07-31T09:40:17.047Z" title="更新于 2025-07-31 17:40:17">2025-07-31</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E5%89%8D%E7%AB%AF/">前端</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">总字数:</span><span class="word-count">16.4k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>87分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">浏览量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span><span class="post-meta-separator">|</span><span class="post-meta-commentcount"><i class="far fa-comments fa-fw post-meta-icon"></i><span class="post-meta-label">评论数:</span><a href="/2025/01/29/%E5%89%8D%E7%AB%AF/%E3%80%90%E5%89%8D%E7%AB%AF%E3%80%91HTML5%E7%8E%B0%E4%BB%A3Web%E5%BC%80%E5%8F%91%E5%AE%8C%E5%85%A8%E6%8C%87%E5%8D%97%EF%BC%9A%E4%BB%8E%E5%9F%BA%E7%A1%80%E7%89%B9%E6%80%A7%E5%88%B0%E9%AB%98%E7%BA%A7%E5%BA%94%E7%94%A8%E7%9A%84%E5%85%A8%E9%9D%A2%E5%AE%9E%E8%B7%B5/#post-comment"><span class="gitalk-comment-count"><i class="fa-solid fa-spinner fa-spin"></i></span></a></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="container post-content" id="article-container"><div id="post-outdate-notice" data="{&quot;limitDay&quot;:1000,&quot;messagePrev&quot;:&quot;本文最后更新于&quot;,&quot;messageNext&quot;:&quot;天前，文中内容可能已过时，请谨慎参考。&quot;,&quot;postUpdate&quot;:&quot;2025-07-31 17:40:17&quot;}" hidden=""></div><h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>HTML5作为Web标准的重大革新，不仅仅是HTML的第五个版本，更是现代Web开发的基石。它引入了语义化标签、多媒体支持、离线存储、地理定位等众多新特性，同时配合CSS3和JavaScript，构建了完整的现代Web开发生态。就像从传统建筑到现代摩天大楼的演进一样，HTML5将Web开发从静态页面时代带入了富交互应用时代。本文将全面介绍HTML5的核心特性、开发实践和最佳应用，帮助开发者掌握现代Web开发的核心技术。</p>
<h1 id="一、HTML5概述与核心特性"><a href="#一、HTML5概述与核心特性" class="headerlink" title="一、HTML5概述与核心特性"></a>一、HTML5概述与核心特性</h1><h2 id="（一）HTML5的发展历程"><a href="#（一）HTML5的发展历程" class="headerlink" title="（一）HTML5的发展历程"></a>（一）HTML5的发展历程</h2><p><strong>HTML5的技术演进：</strong></p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">HTML发展历程：</span><br><span class="line"></span><br><span class="line">HTML 1.0 (1993)：</span><br><span class="line">├── 基础标签：&lt;html&gt;、&lt;head&gt;、&lt;body&gt;</span><br><span class="line">├── 文本格式：&lt;h1&gt;-&lt;h6&gt;、&lt;p&gt;、&lt;br&gt;</span><br><span class="line">├── 链接图片：&lt;a&gt;、&lt;img&gt;</span><br><span class="line">└── 列表表格：&lt;ul&gt;、&lt;ol&gt;、&lt;table&gt;</span><br><span class="line"></span><br><span class="line">HTML 4.01 (1999)：</span><br><span class="line">├── 表单增强：&lt;form&gt;、&lt;input&gt;、&lt;select&gt;</span><br><span class="line">├── 样式分离：引入CSS支持</span><br><span class="line">├── 脚本支持：&lt;script&gt;标签</span><br><span class="line">└── 框架支持：&lt;frameset&gt;、&lt;frame&gt;</span><br><span class="line"></span><br><span class="line">XHTML 1.0 (2000)：</span><br><span class="line">├── XML语法：严格的标签闭合</span><br><span class="line">├── 小写标签：统一标签命名规范</span><br><span class="line">├── 属性引号：所有属性值必须加引号</span><br><span class="line">└── 文档类型：DOCTYPE声明</span><br><span class="line"></span><br><span class="line">HTML5 (2014)：</span><br><span class="line">├── 语义化标签：&lt;header&gt;、&lt;nav&gt;、&lt;section&gt;、&lt;article&gt;</span><br><span class="line">├── 多媒体支持：&lt;video&gt;、&lt;audio&gt;、&lt;canvas&gt;</span><br><span class="line">├── 表单增强：新的input类型和属性</span><br><span class="line">├── 离线存储：localStorage、sessionStorage</span><br><span class="line">├── 地理定位：Geolocation API</span><br><span class="line">├── 拖拽支持：Drag and Drop API</span><br><span class="line">├── Web Workers：多线程支持</span><br><span class="line">└── WebSocket：实时通信</span><br></pre></td></tr></tbody></table></figure>

<p><strong>HTML5与传统HTML的对比：</strong></p>
<table>
<thead>
<tr>
<th>特性</th>
<th>HTML 4.01</th>
<th>HTML5</th>
</tr>
</thead>
<tbody><tr>
<td><strong>文档类型</strong></td>
<td>复杂的DOCTYPE</td>
<td>简化的<code>&lt;!DOCTYPE html&gt;</code></td>
</tr>
<tr>
<td><strong>语义化</strong></td>
<td>依赖div+class</td>
<td>语义化标签</td>
</tr>
<tr>
<td><strong>多媒体</strong></td>
<td>依赖插件</td>
<td>原生支持</td>
</tr>
<tr>
<td><strong>表单</strong></td>
<td>基础表单元素</td>
<td>丰富的input类型</td>
</tr>
<tr>
<td><strong>存储</strong></td>
<td>仅Cookie</td>
<td>多种存储方案</td>
</tr>
<tr>
<td><strong>图形</strong></td>
<td>依赖Flash/SVG</td>
<td>Canvas原生支持</td>
</tr>
<tr>
<td><strong>通信</strong></td>
<td>轮询/长连接</td>
<td>WebSocket实时通信</td>
</tr>
<tr>
<td><strong>离线</strong></td>
<td>不支持</td>
<td>Application Cache</td>
</tr>
</tbody></table>
<h2 id="（二）HTML5核心特性详解"><a href="#（二）HTML5核心特性详解" class="headerlink" title="（二）HTML5核心特性详解"></a>（二）HTML5核心特性详解</h2><p><strong>语义化标签：</strong></p>
<figure class="highlight html"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- HTML5语义化标签：提供更好的文档结构和SEO支持 --&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"zh-CN"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>HTML5语义化页面结构<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 页面头部：包含导航、logo等 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">header</span> <span class="attr">class</span>=<span class="string">"site-header"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">nav</span> <span class="attr">class</span>=<span class="string">"main-navigation"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#home"</span>&gt;</span>首页<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#about"</span>&gt;</span>关于<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#services"</span>&gt;</span>服务<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#contact"</span>&gt;</span>联系<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">nav</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">header</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">&lt;!-- 主要内容区域 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">main</span> <span class="attr">class</span>=<span class="string">"main-content"</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 文章内容：独立的内容单元 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">article</span> <span class="attr">class</span>=<span class="string">"blog-post"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">header</span> <span class="attr">class</span>=<span class="string">"post-header"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">h1</span>&gt;</span>HTML5现代Web开发<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">time</span> <span class="attr">datetime</span>=<span class="string">"2025-01-29"</span>&gt;</span>2025年1月29日<span class="tag">&lt;/<span class="name">time</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">address</span> <span class="attr">class</span>=<span class="string">"author"</span>&gt;</span></span><br><span class="line">                    作者：<span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"mailto:author@example.com"</span>&gt;</span>张三<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">address</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">header</span>&gt;</span></span><br><span class="line">            </span><br><span class="line">            <span class="comment">&lt;!-- 文章正文 --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">section</span> <span class="attr">class</span>=<span class="string">"post-content"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">h2</span>&gt;</span>HTML5的核心特性<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">p</span>&gt;</span>HTML5引入了许多新的语义化标签，使得网页结构更加清晰...<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">                </span><br><span class="line">                <span class="comment">&lt;!-- 代码示例 --&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">figure</span> <span class="attr">class</span>=<span class="string">"code-example"</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">pre</span>&gt;</span><span class="tag">&lt;<span class="name">code</span>&gt;</span><span class="symbol">&amp;lt;</span>section<span class="symbol">&amp;gt;</span>内容区域<span class="symbol">&amp;lt;</span>/section<span class="symbol">&amp;gt;</span><span class="tag">&lt;/<span class="name">code</span>&gt;</span><span class="tag">&lt;/<span class="name">pre</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">figcaption</span>&gt;</span>HTML5语义化标签示例<span class="tag">&lt;/<span class="name">figcaption</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">figure</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">section</span>&gt;</span></span><br><span class="line">            </span><br><span class="line">            <span class="comment">&lt;!-- 相关内容 --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">aside</span> <span class="attr">class</span>=<span class="string">"related-content"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">h3</span>&gt;</span>相关文章<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>CSS3新特性详解<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>JavaScript ES6入门<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">aside</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">article</span>&gt;</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">&lt;!-- 另一个内容区域 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">section</span> <span class="attr">class</span>=<span class="string">"features-section"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">h2</span>&gt;</span>HTML5新特性<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"features-grid"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">article</span> <span class="attr">class</span>=<span class="string">"feature-item"</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">h3</span>&gt;</span>语义化标签<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">p</span>&gt;</span>提供更好的文档结构和可访问性<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">article</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">article</span> <span class="attr">class</span>=<span class="string">"feature-item"</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">h3</span>&gt;</span>多媒体支持<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">p</span>&gt;</span>原生支持音频和视频播放<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">article</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">article</span> <span class="attr">class</span>=<span class="string">"feature-item"</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">h3</span>&gt;</span>Canvas绘图<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">p</span>&gt;</span>强大的2D图形绘制能力<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">article</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">section</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">main</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">&lt;!-- 页面底部 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">footer</span> <span class="attr">class</span>=<span class="string">"site-footer"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">section</span> <span class="attr">class</span>=<span class="string">"footer-content"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"contact-info"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">h4</span>&gt;</span>联系信息<span class="tag">&lt;/<span class="name">h4</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">address</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">p</span>&gt;</span>地址：北京市朝阳区某某街道123号<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">p</span>&gt;</span>电话：<span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"tel:+86-10-12345678"</span>&gt;</span>010-12345678<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">p</span>&gt;</span>邮箱：<span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"mailto:info@example.com"</span>&gt;</span>info@example.com<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">address</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">section</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">small</span> <span class="attr">class</span>=<span class="string">"copyright"</span>&gt;</span></span><br><span class="line">            <span class="symbol">&amp;copy;</span> 2025 示例网站. 保留所有权利.</span><br><span class="line">        <span class="tag">&lt;/<span class="name">small</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">footer</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>

<p><strong>多媒体支持：</strong></p>
<figure class="highlight html"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- HTML5原生多媒体支持：无需插件即可播放音视频 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">section</span> <span class="attr">class</span>=<span class="string">"multimedia-demo"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>HTML5多媒体特性<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">&lt;!-- 视频播放：支持多种格式和控制选项 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"video-container"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">video</span> </span></span><br><span class="line"><span class="tag">            <span class="attr">width</span>=<span class="string">"800"</span> </span></span><br><span class="line"><span class="tag">            <span class="attr">height</span>=<span class="string">"450"</span> </span></span><br><span class="line"><span class="tag">            <span class="attr">controls</span> </span></span><br><span class="line"><span class="tag">            <span class="attr">preload</span>=<span class="string">"metadata"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">poster</span>=<span class="string">"video-poster.jpg"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">crossorigin</span>=<span class="string">"anonymous"</span></span></span><br><span class="line"><span class="tag">        &gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- 多格式支持：浏览器会选择支持的格式 --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">source</span> <span class="attr">src</span>=<span class="string">"demo-video.mp4"</span> <span class="attr">type</span>=<span class="string">"video/mp4"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">source</span> <span class="attr">src</span>=<span class="string">"demo-video.webm"</span> <span class="attr">type</span>=<span class="string">"video/webm"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">source</span> <span class="attr">src</span>=<span class="string">"demo-video.ogg"</span> <span class="attr">type</span>=<span class="string">"video/ogg"</span>&gt;</span></span><br><span class="line">            </span><br><span class="line">            <span class="comment">&lt;!-- 字幕支持：提供多语言字幕 --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">track</span> </span></span><br><span class="line"><span class="tag">                <span class="attr">kind</span>=<span class="string">"subtitles"</span> </span></span><br><span class="line"><span class="tag">                <span class="attr">src</span>=<span class="string">"subtitles-zh.vtt"</span> </span></span><br><span class="line"><span class="tag">                <span class="attr">srclang</span>=<span class="string">"zh"</span> </span></span><br><span class="line"><span class="tag">                <span class="attr">label</span>=<span class="string">"中文字幕"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">default</span></span></span><br><span class="line"><span class="tag">            &gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">track</span> </span></span><br><span class="line"><span class="tag">                <span class="attr">kind</span>=<span class="string">"subtitles"</span> </span></span><br><span class="line"><span class="tag">                <span class="attr">src</span>=<span class="string">"subtitles-en.vtt"</span> </span></span><br><span class="line"><span class="tag">                <span class="attr">srclang</span>=<span class="string">"en"</span> </span></span><br><span class="line"><span class="tag">                <span class="attr">label</span>=<span class="string">"English Subtitles"</span></span></span><br><span class="line"><span class="tag">            &gt;</span></span><br><span class="line">            </span><br><span class="line">            <span class="comment">&lt;!-- 降级处理：不支持video标签时的提示 --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">p</span>&gt;</span>您的浏览器不支持HTML5视频播放。</span><br><span class="line">               <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"demo-video.mp4"</span>&gt;</span>点击下载视频<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">video</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">&lt;!-- 音频播放：支持背景音乐和音效 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"audio-container"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h3</span>&gt;</span>音频播放示例<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">audio</span> </span></span><br><span class="line"><span class="tag">            <span class="attr">controls</span> </span></span><br><span class="line"><span class="tag">            <span class="attr">preload</span>=<span class="string">"none"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">loop</span></span></span><br><span class="line"><span class="tag">        &gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">source</span> <span class="attr">src</span>=<span class="string">"background-music.mp3"</span> <span class="attr">type</span>=<span class="string">"audio/mpeg"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">source</span> <span class="attr">src</span>=<span class="string">"background-music.ogg"</span> <span class="attr">type</span>=<span class="string">"audio/ogg"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">source</span> <span class="attr">src</span>=<span class="string">"background-music.wav"</span> <span class="attr">type</span>=<span class="string">"audio/wav"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">p</span>&gt;</span>您的浏览器不支持HTML5音频播放。<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">audio</span>&gt;</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">&lt;!-- 音效按钮：通过JavaScript控制播放 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"sound-effects"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">button</span> <span class="attr">onclick</span>=<span class="string">"playSound('click')"</span>&gt;</span>点击音效<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">button</span> <span class="attr">onclick</span>=<span class="string">"playSound('success')"</span>&gt;</span>成功音效<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">button</span> <span class="attr">onclick</span>=<span class="string">"playSound('error')"</span>&gt;</span>错误音效<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">            </span><br><span class="line">            <span class="comment">&lt;!-- 隐藏的音频元素：用于音效播放 --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">audio</span> <span class="attr">id</span>=<span class="string">"click-sound"</span> <span class="attr">preload</span>=<span class="string">"auto"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">source</span> <span class="attr">src</span>=<span class="string">"sounds/click.mp3"</span> <span class="attr">type</span>=<span class="string">"audio/mpeg"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">audio</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">audio</span> <span class="attr">id</span>=<span class="string">"success-sound"</span> <span class="attr">preload</span>=<span class="string">"auto"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">source</span> <span class="attr">src</span>=<span class="string">"sounds/success.mp3"</span> <span class="attr">type</span>=<span class="string">"audio/mpeg"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">audio</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">audio</span> <span class="attr">id</span>=<span class="string">"error-sound"</span> <span class="attr">preload</span>=<span class="string">"auto"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">source</span> <span class="attr">src</span>=<span class="string">"sounds/error.mp3"</span> <span class="attr">type</span>=<span class="string">"audio/mpeg"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">audio</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">section</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="comment">// 音效播放函数：控制音频播放</span></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">function</span> <span class="title function_">playSound</span>(<span class="params">soundType</span>) {</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> audio = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(soundType + <span class="string">'-sound'</span>);</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">if</span> (audio) {</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 重置播放位置，支持快速连续播放</span></span></span><br><span class="line"><span class="language-javascript">        audio.<span class="property">currentTime</span> = <span class="number">0</span>;</span></span><br><span class="line"><span class="language-javascript">        audio.<span class="title function_">play</span>().<span class="title function_">catch</span>(<span class="function"><span class="params">error</span> =&gt;</span> {</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">console</span>.<span class="title function_">warn</span>(<span class="string">'音频播放失败：'</span>, error);</span></span><br><span class="line"><span class="language-javascript">        });</span></span><br><span class="line"><span class="language-javascript">    }</span></span><br><span class="line"><span class="language-javascript">}</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="comment">// 视频播放控制：添加自定义功能</span></span></span><br><span class="line"><span class="language-javascript"><span class="variable language_">document</span>.<span class="title function_">addEventListener</span>(<span class="string">'DOMContentLoaded'</span>, <span class="keyword">function</span>(<span class="params"></span>) {</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> video = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">'video'</span>);</span></span><br><span class="line"><span class="language-javascript">    </span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">if</span> (video) {</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 监听视频事件</span></span></span><br><span class="line"><span class="language-javascript">        video.<span class="title function_">addEventListener</span>(<span class="string">'loadstart'</span>, <span class="function">() =&gt;</span> {</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">'开始加载视频'</span>);</span></span><br><span class="line"><span class="language-javascript">        });</span></span><br><span class="line"><span class="language-javascript">        </span></span><br><span class="line"><span class="language-javascript">        video.<span class="title function_">addEventListener</span>(<span class="string">'canplay'</span>, <span class="function">() =&gt;</span> {</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">'视频可以播放'</span>);</span></span><br><span class="line"><span class="language-javascript">        });</span></span><br><span class="line"><span class="language-javascript">        </span></span><br><span class="line"><span class="language-javascript">        video.<span class="title function_">addEventListener</span>(<span class="string">'play'</span>, <span class="function">() =&gt;</span> {</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">'视频开始播放'</span>);</span></span><br><span class="line"><span class="language-javascript">        });</span></span><br><span class="line"><span class="language-javascript">        </span></span><br><span class="line"><span class="language-javascript">        video.<span class="title function_">addEventListener</span>(<span class="string">'pause'</span>, <span class="function">() =&gt;</span> {</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">'视频暂停'</span>);</span></span><br><span class="line"><span class="language-javascript">        });</span></span><br><span class="line"><span class="language-javascript">        </span></span><br><span class="line"><span class="language-javascript">        video.<span class="title function_">addEventListener</span>(<span class="string">'ended'</span>, <span class="function">() =&gt;</span> {</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">'视频播放结束'</span>);</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// 可以在这里添加播放结束后的逻辑</span></span></span><br><span class="line"><span class="language-javascript">        });</span></span><br><span class="line"><span class="language-javascript">        </span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 播放进度监听</span></span></span><br><span class="line"><span class="language-javascript">        video.<span class="title function_">addEventListener</span>(<span class="string">'timeupdate'</span>, <span class="function">() =&gt;</span> {</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">const</span> progress = (video.<span class="property">currentTime</span> / video.<span class="property">duration</span>) * <span class="number">100</span>;</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// 可以在这里更新自定义进度条</span></span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`播放进度: <span class="subst">${progress.toFixed(<span class="number">2</span>)}</span>%`</span>);</span></span><br><span class="line"><span class="language-javascript">        });</span></span><br><span class="line"><span class="language-javascript">    }</span></span><br><span class="line"><span class="language-javascript">});</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>

<p><strong>Canvas绘图：</strong></p>
<figure class="highlight html"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- HTML5 Canvas：强大的2D图形绘制能力 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">section</span> <span class="attr">class</span>=<span class="string">"canvas-demo"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>Canvas绘图示例<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 基础绘图画布 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"canvas-container"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h3</span>&gt;</span>基础图形绘制<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">canvas</span></span></span><br><span class="line"><span class="tag">            <span class="attr">id</span>=<span class="string">"basic-canvas"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">width</span>=<span class="string">"800"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">height</span>=<span class="string">"400"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">style</span>=<span class="string">"border: 1px solid #ccc;"</span></span></span><br><span class="line"><span class="tag">        &gt;</span></span><br><span class="line">            您的浏览器不支持Canvas，请升级浏览器。</span><br><span class="line">        <span class="tag">&lt;/<span class="name">canvas</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"canvas-controls"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">button</span> <span class="attr">onclick</span>=<span class="string">"drawBasicShapes()"</span>&gt;</span>绘制基础图形<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">button</span> <span class="attr">onclick</span>=<span class="string">"clearCanvas('basic-canvas')"</span>&gt;</span>清除画布<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 交互式绘图 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"canvas-container"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h3</span>&gt;</span>交互式绘图<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">canvas</span></span></span><br><span class="line"><span class="tag">            <span class="attr">id</span>=<span class="string">"interactive-canvas"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">width</span>=<span class="string">"800"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">height</span>=<span class="string">"400"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">style</span>=<span class="string">"border: 1px solid #ccc; cursor: crosshair;"</span></span></span><br><span class="line"><span class="tag">        &gt;</span><span class="tag">&lt;/<span class="name">canvas</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"drawing-controls"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">label</span>&gt;</span>画笔颜色：</span><br><span class="line">                <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"color"</span> <span class="attr">id</span>=<span class="string">"brush-color"</span> <span class="attr">value</span>=<span class="string">"#000000"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">label</span>&gt;</span>画笔大小：</span><br><span class="line">                <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"range"</span> <span class="attr">id</span>=<span class="string">"brush-size"</span> <span class="attr">min</span>=<span class="string">"1"</span> <span class="attr">max</span>=<span class="string">"50"</span> <span class="attr">value</span>=<span class="string">"5"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">"brush-size-display"</span>&gt;</span>5<span class="tag">&lt;/<span class="name">span</span>&gt;</span>px</span><br><span class="line">            <span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">button</span> <span class="attr">onclick</span>=<span class="string">"clearCanvas('interactive-canvas')"</span>&gt;</span>清除画布<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">button</span> <span class="attr">onclick</span>=<span class="string">"saveCanvas()"</span>&gt;</span>保存图片<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 动画演示 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"canvas-container"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h3</span>&gt;</span>Canvas动画<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">canvas</span></span></span><br><span class="line"><span class="tag">            <span class="attr">id</span>=<span class="string">"animation-canvas"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">width</span>=<span class="string">"800"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">height</span>=<span class="string">"400"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">style</span>=<span class="string">"border: 1px solid #ccc;"</span></span></span><br><span class="line"><span class="tag">        &gt;</span><span class="tag">&lt;/<span class="name">canvas</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"animation-controls"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">button</span> <span class="attr">onclick</span>=<span class="string">"startAnimation()"</span>&gt;</span>开始动画<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">button</span> <span class="attr">onclick</span>=<span class="string">"stopAnimation()"</span>&gt;</span>停止动画<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">button</span> <span class="attr">onclick</span>=<span class="string">"resetAnimation()"</span>&gt;</span>重置动画<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">section</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="comment">// Canvas绘图功能实现</span></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">class</span> <span class="title class_">CanvasDrawing</span> {</span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">constructor</span>(<span class="params"></span>) {</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">this</span>.<span class="property">isDrawing</span> = <span class="literal">false</span>;</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">this</span>.<span class="property">animationId</span> = <span class="literal">null</span>;</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">this</span>.<span class="property">balls</span> = [];</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">this</span>.<span class="title function_">initInteractiveCanvas</span>();</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">this</span>.<span class="title function_">initAnimation</span>();</span></span><br><span class="line"><span class="language-javascript">    }</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 绘制基础图形</span></span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">drawBasicShapes</span>(<span class="params"></span>) {</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> canvas = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">'basic-canvas'</span>);</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> ctx = canvas.<span class="title function_">getContext</span>(<span class="string">'2d'</span>);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 清除画布</span></span></span><br><span class="line"><span class="language-javascript">        ctx.<span class="title function_">clearRect</span>(<span class="number">0</span>, <span class="number">0</span>, canvas.<span class="property">width</span>, canvas.<span class="property">height</span>);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 绘制矩形</span></span></span><br><span class="line"><span class="language-javascript">        ctx.<span class="property">fillStyle</span> = <span class="string">'#ff6b6b'</span>;</span></span><br><span class="line"><span class="language-javascript">        ctx.<span class="title function_">fillRect</span>(<span class="number">50</span>, <span class="number">50</span>, <span class="number">100</span>, <span class="number">80</span>);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 绘制描边矩形</span></span></span><br><span class="line"><span class="language-javascript">        ctx.<span class="property">strokeStyle</span> = <span class="string">'#4ecdc4'</span>;</span></span><br><span class="line"><span class="language-javascript">        ctx.<span class="property">lineWidth</span> = <span class="number">3</span>;</span></span><br><span class="line"><span class="language-javascript">        ctx.<span class="title function_">strokeRect</span>(<span class="number">200</span>, <span class="number">50</span>, <span class="number">100</span>, <span class="number">80</span>);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 绘制圆形</span></span></span><br><span class="line"><span class="language-javascript">        ctx.<span class="title function_">beginPath</span>();</span></span><br><span class="line"><span class="language-javascript">        ctx.<span class="title function_">arc</span>(<span class="number">400</span>, <span class="number">90</span>, <span class="number">40</span>, <span class="number">0</span>, <span class="number">2</span> * <span class="title class_">Math</span>.<span class="property">PI</span>);</span></span><br><span class="line"><span class="language-javascript">        ctx.<span class="property">fillStyle</span> = <span class="string">'#45b7d1'</span>;</span></span><br><span class="line"><span class="language-javascript">        ctx.<span class="title function_">fill</span>();</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 绘制路径</span></span></span><br><span class="line"><span class="language-javascript">        ctx.<span class="title function_">beginPath</span>();</span></span><br><span class="line"><span class="language-javascript">        ctx.<span class="title function_">moveTo</span>(<span class="number">500</span>, <span class="number">50</span>);</span></span><br><span class="line"><span class="language-javascript">        ctx.<span class="title function_">lineTo</span>(<span class="number">550</span>, <span class="number">130</span>);</span></span><br><span class="line"><span class="language-javascript">        ctx.<span class="title function_">lineTo</span>(<span class="number">600</span>, <span class="number">50</span>);</span></span><br><span class="line"><span class="language-javascript">        ctx.<span class="title function_">closePath</span>();</span></span><br><span class="line"><span class="language-javascript">        ctx.<span class="property">fillStyle</span> = <span class="string">'#f9ca24'</span>;</span></span><br><span class="line"><span class="language-javascript">        ctx.<span class="title function_">fill</span>();</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 绘制文字</span></span></span><br><span class="line"><span class="language-javascript">        ctx.<span class="property">font</span> = <span class="string">'24px Arial'</span>;</span></span><br><span class="line"><span class="language-javascript">        ctx.<span class="property">fillStyle</span> = <span class="string">'#2d3436'</span>;</span></span><br><span class="line"><span class="language-javascript">        ctx.<span class="title function_">fillText</span>(<span class="string">'HTML5 Canvas绘图'</span>, <span class="number">50</span>, <span class="number">200</span>);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 绘制渐变</span></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> gradient = ctx.<span class="title function_">createLinearGradient</span>(<span class="number">50</span>, <span class="number">250</span>, <span class="number">200</span>, <span class="number">350</span>);</span></span><br><span class="line"><span class="language-javascript">        gradient.<span class="title function_">addColorStop</span>(<span class="number">0</span>, <span class="string">'#ff7675'</span>);</span></span><br><span class="line"><span class="language-javascript">        gradient.<span class="title function_">addColorStop</span>(<span class="number">1</span>, <span class="string">'#fd79a8'</span>);</span></span><br><span class="line"><span class="language-javascript">        ctx.<span class="property">fillStyle</span> = gradient;</span></span><br><span class="line"><span class="language-javascript">        ctx.<span class="title function_">fillRect</span>(<span class="number">50</span>, <span class="number">250</span>, <span class="number">150</span>, <span class="number">100</span>);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 绘制图像（如果有的话）</span></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> img = <span class="keyword">new</span> <span class="title class_">Image</span>();</span></span><br><span class="line"><span class="language-javascript">        img.<span class="property">onload</span> = <span class="keyword">function</span>(<span class="params"></span>) {</span></span><br><span class="line"><span class="language-javascript">            ctx.<span class="title function_">drawImage</span>(img, <span class="number">250</span>, <span class="number">250</span>, <span class="number">100</span>, <span class="number">100</span>);</span></span><br><span class="line"><span class="language-javascript">        };</span></span><br><span class="line"><span class="language-javascript">        img.<span class="property">src</span> = <span class="string">'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgZmlsbD0iIzc0YjlmZiIvPjx0ZXh0IHg9IjUwIiB5PSI1NSIgZm9udC1mYW1pbHk9IkFyaWFsIiBmb250LXNpemU9IjE0IiBmaWxsPSJ3aGl0ZSIgdGV4dC1hbmNob3I9Im1pZGRsZSI+SVNWRzwvdGV4dD48L3N2Zz4='</span>;</span></span><br><span class="line"><span class="language-javascript">    }</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 初始化交互式画布</span></span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">initInteractiveCanvas</span>(<span class="params"></span>) {</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> canvas = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">'interactive-canvas'</span>);</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> ctx = canvas.<span class="title function_">getContext</span>(<span class="string">'2d'</span>);</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> brushSizeSlider = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">'brush-size'</span>);</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> brushSizeDisplay = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">'brush-size-display'</span>);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 画笔大小显示更新</span></span></span><br><span class="line"><span class="language-javascript">        brushSizeSlider.<span class="title function_">addEventListener</span>(<span class="string">'input'</span>, <span class="function">(<span class="params">e</span>) =&gt;</span> {</span></span><br><span class="line"><span class="language-javascript">            brushSizeDisplay.<span class="property">textContent</span> = e.<span class="property">target</span>.<span class="property">value</span>;</span></span><br><span class="line"><span class="language-javascript">        });</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 鼠标事件处理</span></span></span><br><span class="line"><span class="language-javascript">        canvas.<span class="title function_">addEventListener</span>(<span class="string">'mousedown'</span>, <span class="function">(<span class="params">e</span>) =&gt;</span> {</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">this</span>.<span class="property">isDrawing</span> = <span class="literal">true</span>;</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">this</span>.<span class="title function_">draw</span>(e, ctx, canvas);</span></span><br><span class="line"><span class="language-javascript">        });</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        canvas.<span class="title function_">addEventListener</span>(<span class="string">'mousemove'</span>, <span class="function">(<span class="params">e</span>) =&gt;</span> {</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">isDrawing</span>) {</span></span><br><span class="line"><span class="language-javascript">                <span class="variable language_">this</span>.<span class="title function_">draw</span>(e, ctx, canvas);</span></span><br><span class="line"><span class="language-javascript">            }</span></span><br><span class="line"><span class="language-javascript">        });</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        canvas.<span class="title function_">addEventListener</span>(<span class="string">'mouseup'</span>, <span class="function">() =&gt;</span> {</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">this</span>.<span class="property">isDrawing</span> = <span class="literal">false</span>;</span></span><br><span class="line"><span class="language-javascript">            ctx.<span class="title function_">beginPath</span>();</span></span><br><span class="line"><span class="language-javascript">        });</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        canvas.<span class="title function_">addEventListener</span>(<span class="string">'mouseout'</span>, <span class="function">() =&gt;</span> {</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">this</span>.<span class="property">isDrawing</span> = <span class="literal">false</span>;</span></span><br><span class="line"><span class="language-javascript">            ctx.<span class="title function_">beginPath</span>();</span></span><br><span class="line"><span class="language-javascript">        });</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 触摸事件处理（移动端支持）</span></span></span><br><span class="line"><span class="language-javascript">        canvas.<span class="title function_">addEventListener</span>(<span class="string">'touchstart'</span>, <span class="function">(<span class="params">e</span>) =&gt;</span> {</span></span><br><span class="line"><span class="language-javascript">            e.<span class="title function_">preventDefault</span>();</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">this</span>.<span class="property">isDrawing</span> = <span class="literal">true</span>;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">const</span> touch = e.<span class="property">touches</span>[<span class="number">0</span>];</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">const</span> mouseEvent = <span class="keyword">new</span> <span class="title class_">MouseEvent</span>(<span class="string">'mousedown'</span>, {</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">clientX</span>: touch.<span class="property">clientX</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">clientY</span>: touch.<span class="property">clientY</span></span></span><br><span class="line"><span class="language-javascript">            });</span></span><br><span class="line"><span class="language-javascript">            canvas.<span class="title function_">dispatchEvent</span>(mouseEvent);</span></span><br><span class="line"><span class="language-javascript">        });</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        canvas.<span class="title function_">addEventListener</span>(<span class="string">'touchmove'</span>, <span class="function">(<span class="params">e</span>) =&gt;</span> {</span></span><br><span class="line"><span class="language-javascript">            e.<span class="title function_">preventDefault</span>();</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">isDrawing</span>) {</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">const</span> touch = e.<span class="property">touches</span>[<span class="number">0</span>];</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">const</span> mouseEvent = <span class="keyword">new</span> <span class="title class_">MouseEvent</span>(<span class="string">'mousemove'</span>, {</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">clientX</span>: touch.<span class="property">clientX</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">clientY</span>: touch.<span class="property">clientY</span></span></span><br><span class="line"><span class="language-javascript">                });</span></span><br><span class="line"><span class="language-javascript">                canvas.<span class="title function_">dispatchEvent</span>(mouseEvent);</span></span><br><span class="line"><span class="language-javascript">            }</span></span><br><span class="line"><span class="language-javascript">        });</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        canvas.<span class="title function_">addEventListener</span>(<span class="string">'touchend'</span>, <span class="function">(<span class="params">e</span>) =&gt;</span> {</span></span><br><span class="line"><span class="language-javascript">            e.<span class="title function_">preventDefault</span>();</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">this</span>.<span class="property">isDrawing</span> = <span class="literal">false</span>;</span></span><br><span class="line"><span class="language-javascript">            ctx.<span class="title function_">beginPath</span>();</span></span><br><span class="line"><span class="language-javascript">        });</span></span><br><span class="line"><span class="language-javascript">    }</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 绘制函数</span></span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">draw</span>(<span class="params">e, ctx, canvas</span>) {</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> rect = canvas.<span class="title function_">getBoundingClientRect</span>();</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> x = e.<span class="property">clientX</span> - rect.<span class="property">left</span>;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> y = e.<span class="property">clientY</span> - rect.<span class="property">top</span>;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> color = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">'brush-color'</span>).<span class="property">value</span>;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> size = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">'brush-size'</span>).<span class="property">value</span>;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        ctx.<span class="property">lineWidth</span> = size;</span></span><br><span class="line"><span class="language-javascript">        ctx.<span class="property">lineCap</span> = <span class="string">'round'</span>;</span></span><br><span class="line"><span class="language-javascript">        ctx.<span class="property">strokeStyle</span> = color;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        ctx.<span class="title function_">lineTo</span>(x, y);</span></span><br><span class="line"><span class="language-javascript">        ctx.<span class="title function_">stroke</span>();</span></span><br><span class="line"><span class="language-javascript">        ctx.<span class="title function_">beginPath</span>();</span></span><br><span class="line"><span class="language-javascript">        ctx.<span class="title function_">moveTo</span>(x, y);</span></span><br><span class="line"><span class="language-javascript">    }</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 初始化动画</span></span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">initAnimation</span>(<span class="params"></span>) {</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 创建小球对象</span></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) {</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">this</span>.<span class="property">balls</span>.<span class="title function_">push</span>({</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">x</span>: <span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">800</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">y</span>: <span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">400</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">vx</span>: (<span class="title class_">Math</span>.<span class="title function_">random</span>() - <span class="number">0.5</span>) * <span class="number">4</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">vy</span>: (<span class="title class_">Math</span>.<span class="title function_">random</span>() - <span class="number">0.5</span>) * <span class="number">4</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">radius</span>: <span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">20</span> + <span class="number">10</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">color</span>: <span class="string">`hsl(<span class="subst">${<span class="built_in">Math</span>.random() * <span class="number">360</span>}</span>, 70%, 60%)`</span></span></span><br><span class="line"><span class="language-javascript">            });</span></span><br><span class="line"><span class="language-javascript">        }</span></span><br><span class="line"><span class="language-javascript">    }</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 动画循环</span></span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">animate</span>(<span class="params"></span>) {</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> canvas = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">'animation-canvas'</span>);</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> ctx = canvas.<span class="title function_">getContext</span>(<span class="string">'2d'</span>);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 清除画布</span></span></span><br><span class="line"><span class="language-javascript">        ctx.<span class="title function_">clearRect</span>(<span class="number">0</span>, <span class="number">0</span>, canvas.<span class="property">width</span>, canvas.<span class="property">height</span>);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 更新和绘制小球</span></span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">this</span>.<span class="property">balls</span>.<span class="title function_">forEach</span>(<span class="function"><span class="params">ball</span> =&gt;</span> {</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// 更新位置</span></span></span><br><span class="line"><span class="language-javascript">            ball.<span class="property">x</span> += ball.<span class="property">vx</span>;</span></span><br><span class="line"><span class="language-javascript">            ball.<span class="property">y</span> += ball.<span class="property">vy</span>;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// 边界碰撞检测</span></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">if</span> (ball.<span class="property">x</span> + ball.<span class="property">radius</span> &gt; canvas.<span class="property">width</span> || ball.<span class="property">x</span> - ball.<span class="property">radius</span> &lt; <span class="number">0</span>) {</span></span><br><span class="line"><span class="language-javascript">                ball.<span class="property">vx</span> = -ball.<span class="property">vx</span>;</span></span><br><span class="line"><span class="language-javascript">            }</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">if</span> (ball.<span class="property">y</span> + ball.<span class="property">radius</span> &gt; canvas.<span class="property">height</span> || ball.<span class="property">y</span> - ball.<span class="property">radius</span> &lt; <span class="number">0</span>) {</span></span><br><span class="line"><span class="language-javascript">                ball.<span class="property">vy</span> = -ball.<span class="property">vy</span>;</span></span><br><span class="line"><span class="language-javascript">            }</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// 绘制小球</span></span></span><br><span class="line"><span class="language-javascript">            ctx.<span class="title function_">beginPath</span>();</span></span><br><span class="line"><span class="language-javascript">            ctx.<span class="title function_">arc</span>(ball.<span class="property">x</span>, ball.<span class="property">y</span>, ball.<span class="property">radius</span>, <span class="number">0</span>, <span class="number">2</span> * <span class="title class_">Math</span>.<span class="property">PI</span>);</span></span><br><span class="line"><span class="language-javascript">            ctx.<span class="property">fillStyle</span> = ball.<span class="property">color</span>;</span></span><br><span class="line"><span class="language-javascript">            ctx.<span class="title function_">fill</span>();</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// 添加阴影效果</span></span></span><br><span class="line"><span class="language-javascript">            ctx.<span class="property">shadowColor</span> = ball.<span class="property">color</span>;</span></span><br><span class="line"><span class="language-javascript">            ctx.<span class="property">shadowBlur</span> = <span class="number">10</span>;</span></span><br><span class="line"><span class="language-javascript">            ctx.<span class="title function_">fill</span>();</span></span><br><span class="line"><span class="language-javascript">            ctx.<span class="property">shadowBlur</span> = <span class="number">0</span>;</span></span><br><span class="line"><span class="language-javascript">        });</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 继续动画</span></span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">this</span>.<span class="property">animationId</span> = <span class="title function_">requestAnimationFrame</span>(<span class="function">() =&gt;</span> <span class="variable language_">this</span>.<span class="title function_">animate</span>());</span></span><br><span class="line"><span class="language-javascript">    }</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 开始动画</span></span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">startAnimation</span>(<span class="params"></span>) {</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">if</span> (!<span class="variable language_">this</span>.<span class="property">animationId</span>) {</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">this</span>.<span class="title function_">animate</span>();</span></span><br><span class="line"><span class="language-javascript">        }</span></span><br><span class="line"><span class="language-javascript">    }</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 停止动画</span></span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">stopAnimation</span>(<span class="params"></span>) {</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">animationId</span>) {</span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">cancelAnimationFrame</span>(<span class="variable language_">this</span>.<span class="property">animationId</span>);</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">this</span>.<span class="property">animationId</span> = <span class="literal">null</span>;</span></span><br><span class="line"><span class="language-javascript">        }</span></span><br><span class="line"><span class="language-javascript">    }</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 重置动画</span></span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">resetAnimation</span>(<span class="params"></span>) {</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">this</span>.<span class="title function_">stopAnimation</span>();</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">this</span>.<span class="title function_">initAnimation</span>();</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> canvas = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">'animation-canvas'</span>);</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> ctx = canvas.<span class="title function_">getContext</span>(<span class="string">'2d'</span>);</span></span><br><span class="line"><span class="language-javascript">        ctx.<span class="title function_">clearRect</span>(<span class="number">0</span>, <span class="number">0</span>, canvas.<span class="property">width</span>, canvas.<span class="property">height</span>);</span></span><br><span class="line"><span class="language-javascript">    }</span></span><br><span class="line"><span class="language-javascript">}</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="comment">// 全局函数</span></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">let</span> canvasDrawing;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="variable language_">document</span>.<span class="title function_">addEventListener</span>(<span class="string">'DOMContentLoaded'</span>, <span class="keyword">function</span>(<span class="params"></span>) {</span></span><br><span class="line"><span class="language-javascript">    canvasDrawing = <span class="keyword">new</span> <span class="title class_">CanvasDrawing</span>();</span></span><br><span class="line"><span class="language-javascript">});</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">function</span> <span class="title function_">drawBasicShapes</span>(<span class="params"></span>) {</span></span><br><span class="line"><span class="language-javascript">    canvasDrawing.<span class="title function_">drawBasicShapes</span>();</span></span><br><span class="line"><span class="language-javascript">}</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">function</span> <span class="title function_">clearCanvas</span>(<span class="params">canvasId</span>) {</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> canvas = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(canvasId);</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> ctx = canvas.<span class="title function_">getContext</span>(<span class="string">'2d'</span>);</span></span><br><span class="line"><span class="language-javascript">    ctx.<span class="title function_">clearRect</span>(<span class="number">0</span>, <span class="number">0</span>, canvas.<span class="property">width</span>, canvas.<span class="property">height</span>);</span></span><br><span class="line"><span class="language-javascript">}</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">function</span> <span class="title function_">saveCanvas</span>(<span class="params"></span>) {</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> canvas = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">'interactive-canvas'</span>);</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> link = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">'a'</span>);</span></span><br><span class="line"><span class="language-javascript">    link.<span class="property">download</span> = <span class="string">'canvas-drawing.png'</span>;</span></span><br><span class="line"><span class="language-javascript">    link.<span class="property">href</span> = canvas.<span class="title function_">toDataURL</span>();</span></span><br><span class="line"><span class="language-javascript">    link.<span class="title function_">click</span>();</span></span><br><span class="line"><span class="language-javascript">}</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">function</span> <span class="title function_">startAnimation</span>(<span class="params"></span>) {</span></span><br><span class="line"><span class="language-javascript">    canvasDrawing.<span class="title function_">startAnimation</span>();</span></span><br><span class="line"><span class="language-javascript">}</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">function</span> <span class="title function_">stopAnimation</span>(<span class="params"></span>) {</span></span><br><span class="line"><span class="language-javascript">    canvasDrawing.<span class="title function_">stopAnimation</span>();</span></span><br><span class="line"><span class="language-javascript">}</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">function</span> <span class="title function_">resetAnimation</span>(<span class="params"></span>) {</span></span><br><span class="line"><span class="language-javascript">    canvasDrawing.<span class="title function_">resetAnimation</span>();</span></span><br><span class="line"><span class="language-javascript">}</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>

<h1 id="二、HTML5表单增强与数据处理"><a href="#二、HTML5表单增强与数据处理" class="headerlink" title="二、HTML5表单增强与数据处理"></a>二、HTML5表单增强与数据处理</h1><h2 id="（一）新的表单元素和输入类型"><a href="#（一）新的表单元素和输入类型" class="headerlink" title="（一）新的表单元素和输入类型"></a>（一）新的表单元素和输入类型</h2><p><strong>HTML5表单增强：</strong></p>
<figure class="highlight html"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- HTML5表单增强：提供更丰富的输入类型和验证功能 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">section</span> <span class="attr">class</span>=<span class="string">"form-demo"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>HTML5表单增强特性<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">form</span> <span class="attr">id</span>=<span class="string">"enhanced-form"</span> <span class="attr">class</span>=<span class="string">"enhanced-form"</span> <span class="attr">novalidate</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">fieldset</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">legend</span>&gt;</span>基本信息<span class="tag">&lt;/<span class="name">legend</span>&gt;</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">&lt;!-- 文本输入：支持占位符和自动完成 --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"form-group"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">"username"</span>&gt;</span>用户名：<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">input</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">type</span>=<span class="string">"text"</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">id</span>=<span class="string">"username"</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">name</span>=<span class="string">"username"</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">placeholder</span>=<span class="string">"请输入用户名"</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">required</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">minlength</span>=<span class="string">"3"</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">maxlength</span>=<span class="string">"20"</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">pattern</span>=<span class="string">"[a-zA-Z0-9_]+"</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">autocomplete</span>=<span class="string">"username"</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">title</span>=<span class="string">"用户名只能包含字母、数字和下划线"</span></span></span><br><span class="line"><span class="tag">                &gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"error-message"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">&lt;!-- 邮箱输入：自动验证邮箱格式 --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"form-group"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">"email"</span>&gt;</span>邮箱地址：<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">input</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">type</span>=<span class="string">"email"</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">id</span>=<span class="string">"email"</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">name</span>=<span class="string">"email"</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">placeholder</span>=<span class="string">"example@domain.com"</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">required</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">autocomplete</span>=<span class="string">"email"</span></span></span><br><span class="line"><span class="tag">                &gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"error-message"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">&lt;!-- 电话输入：支持电话号码格式 --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"form-group"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">"phone"</span>&gt;</span>手机号码：<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">input</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">type</span>=<span class="string">"tel"</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">id</span>=<span class="string">"phone"</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">name</span>=<span class="string">"phone"</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">placeholder</span>=<span class="string">"13800138000"</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">pattern</span>=<span class="string">"1[3-9]\d{9}"</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">title</span>=<span class="string">"请输入正确的手机号码"</span></span></span><br><span class="line"><span class="tag">                &gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"error-message"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">&lt;!-- URL输入：自动验证URL格式 --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"form-group"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">"website"</span>&gt;</span>个人网站：<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">input</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">type</span>=<span class="string">"url"</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">id</span>=<span class="string">"website"</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">name</span>=<span class="string">"website"</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">placeholder</span>=<span class="string">"https://www.example.com"</span></span></span><br><span class="line"><span class="tag">                &gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"error-message"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">fieldset</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">fieldset</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">legend</span>&gt;</span>数值和日期<span class="tag">&lt;/<span class="name">legend</span>&gt;</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">&lt;!-- 数字输入：支持数值范围和步长 --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"form-group"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">"age"</span>&gt;</span>年龄：<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">input</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">type</span>=<span class="string">"number"</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">id</span>=<span class="string">"age"</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">name</span>=<span class="string">"age"</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">min</span>=<span class="string">"18"</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">max</span>=<span class="string">"100"</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">step</span>=<span class="string">"1"</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">placeholder</span>=<span class="string">"请输入年龄"</span></span></span><br><span class="line"><span class="tag">                &gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"error-message"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">&lt;!-- 范围输入：滑块选择 --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"form-group"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">"salary"</span>&gt;</span>期望薪资（千元）：<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">input</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">type</span>=<span class="string">"range"</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">id</span>=<span class="string">"salary"</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">name</span>=<span class="string">"salary"</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">min</span>=<span class="string">"5"</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">max</span>=<span class="string">"50"</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">step</span>=<span class="string">"1"</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">value</span>=<span class="string">"15"</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">oninput</span>=<span class="string">"updateSalaryDisplay(this.value)"</span></span></span><br><span class="line"><span class="tag">                &gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">output</span> <span class="attr">id</span>=<span class="string">"salary-display"</span>&gt;</span>15<span class="tag">&lt;/<span class="name">output</span>&gt;</span>k</span><br><span class="line">                <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"error-message"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">&lt;!-- 日期输入：日期选择器 --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"form-group"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">"birthday"</span>&gt;</span>出生日期：<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">input</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">type</span>=<span class="string">"date"</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">id</span>=<span class="string">"birthday"</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">name</span>=<span class="string">"birthday"</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">max</span>=<span class="string">"2005-12-31"</span></span></span><br><span class="line"><span class="tag">                &gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"error-message"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">&lt;!-- 时间输入：时间选择器 --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"form-group"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">"meeting-time"</span>&gt;</span>会议时间：<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">input</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">type</span>=<span class="string">"datetime-local"</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">id</span>=<span class="string">"meeting-time"</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">name</span>=<span class="string">"meeting-time"</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">min</span>=<span class="string">"2025-01-29T09:00"</span></span></span><br><span class="line"><span class="tag">                &gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"error-message"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">&lt;!-- 颜色输入：颜色选择器 --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"form-group"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">"favorite-color"</span>&gt;</span>喜欢的颜色：<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">input</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">type</span>=<span class="string">"color"</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">id</span>=<span class="string">"favorite-color"</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">name</span>=<span class="string">"favorite-color"</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">value</span>=<span class="string">"#3498db"</span></span></span><br><span class="line"><span class="tag">                &gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"error-message"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">fieldset</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">fieldset</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">legend</span>&gt;</span>文件和搜索<span class="tag">&lt;/<span class="name">legend</span>&gt;</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">&lt;!-- 文件上传：支持多文件和文件类型限制 --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"form-group"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">"avatar"</span>&gt;</span>头像上传：<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">input</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">type</span>=<span class="string">"file"</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">id</span>=<span class="string">"avatar"</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">name</span>=<span class="string">"avatar"</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">accept</span>=<span class="string">"image/*"</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">onchange</span>=<span class="string">"previewImage(this)"</span></span></span><br><span class="line"><span class="tag">                &gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"image-preview"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"error-message"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">&lt;!-- 多文件上传 --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"form-group"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">"documents"</span>&gt;</span>文档上传：<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">input</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">type</span>=<span class="string">"file"</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">id</span>=<span class="string">"documents"</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">name</span>=<span class="string">"documents"</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">multiple</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">accept</span>=<span class="string">".pdf,.doc,.docx,.txt"</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">onchange</span>=<span class="string">"showFileList(this)"</span></span></span><br><span class="line"><span class="tag">                &gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"file-list"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"error-message"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">&lt;!-- 搜索输入：搜索框样式 --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"form-group"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">"search"</span>&gt;</span>搜索：<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">input</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">type</span>=<span class="string">"search"</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">id</span>=<span class="string">"search"</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">name</span>=<span class="string">"search"</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">placeholder</span>=<span class="string">"搜索内容..."</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">list</span>=<span class="string">"search-suggestions"</span></span></span><br><span class="line"><span class="tag">                &gt;</span></span><br><span class="line">                <span class="comment">&lt;!-- 数据列表：提供搜索建议 --&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">datalist</span> <span class="attr">id</span>=<span class="string">"search-suggestions"</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">"HTML5"</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">"CSS3"</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">"JavaScript"</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">"Vue.js"</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">"React"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">datalist</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"error-message"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">fieldset</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">fieldset</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">legend</span>&gt;</span>其他控件<span class="tag">&lt;/<span class="name">legend</span>&gt;</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">&lt;!-- 进度条：显示进度 --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"form-group"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">label</span>&gt;</span>上传进度：<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">progress</span> <span class="attr">id</span>=<span class="string">"upload-progress"</span> <span class="attr">value</span>=<span class="string">"0"</span> <span class="attr">max</span>=<span class="string">"100"</span>&gt;</span>0%<span class="tag">&lt;/<span class="name">progress</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">"progress-text"</span>&gt;</span>0%<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">&lt;!-- 测量值：显示已知范围内的标量值 --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"form-group"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">label</span>&gt;</span>磁盘使用情况：<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">meter</span> <span class="attr">id</span>=<span class="string">"disk-usage"</span> <span class="attr">value</span>=<span class="string">"0.6"</span> <span class="attr">min</span>=<span class="string">"0"</span> <span class="attr">max</span>=<span class="string">"1"</span>&gt;</span>60%<span class="tag">&lt;/<span class="name">meter</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">span</span>&gt;</span>60% 已使用<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">&lt;!-- 详情展开：可折叠内容 --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">details</span> <span class="attr">class</span>=<span class="string">"form-group"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">summary</span>&gt;</span>高级设置<span class="tag">&lt;/<span class="name">summary</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"advanced-settings"</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">label</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span> <span class="attr">name</span>=<span class="string">"notifications"</span> <span class="attr">checked</span>&gt;</span></span><br><span class="line">                        接收邮件通知</span><br><span class="line">                    <span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">label</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span> <span class="attr">name</span>=<span class="string">"newsletter"</span>&gt;</span></span><br><span class="line">                        订阅新闻简报</span><br><span class="line">                    <span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">details</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">fieldset</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- 表单操作按钮 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"form-actions"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">"submit"</span>&gt;</span>提交表单<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">"reset"</span>&gt;</span>重置表单<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">onclick</span>=<span class="string">"validateForm()"</span>&gt;</span>验证表单<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">onclick</span>=<span class="string">"fillSampleData()"</span>&gt;</span>填充示例数据<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">section</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="comment">// HTML5表单处理和验证</span></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">class</span> <span class="title class_">FormHandler</span> {</span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">constructor</span>(<span class="params">formId</span>) {</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">this</span>.<span class="property">form</span> = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(formId);</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">this</span>.<span class="title function_">initFormHandling</span>();</span></span><br><span class="line"><span class="language-javascript">    }</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 初始化表单处理</span></span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">initFormHandling</span>(<span class="params"></span>) {</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">if</span> (!<span class="variable language_">this</span>.<span class="property">form</span>) <span class="keyword">return</span>;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 表单提交处理</span></span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">this</span>.<span class="property">form</span>.<span class="title function_">addEventListener</span>(<span class="string">'submit'</span>, <span class="function">(<span class="params">e</span>) =&gt;</span> {</span></span><br><span class="line"><span class="language-javascript">            e.<span class="title function_">preventDefault</span>();</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">this</span>.<span class="title function_">handleSubmit</span>();</span></span><br><span class="line"><span class="language-javascript">        });</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 实时验证</span></span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">this</span>.<span class="property">form</span>.<span class="title function_">addEventListener</span>(<span class="string">'input'</span>, <span class="function">(<span class="params">e</span>) =&gt;</span> {</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">this</span>.<span class="title function_">validateField</span>(e.<span class="property">target</span>);</span></span><br><span class="line"><span class="language-javascript">        });</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 失焦验证</span></span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">this</span>.<span class="property">form</span>.<span class="title function_">addEventListener</span>(<span class="string">'blur'</span>, <span class="function">(<span class="params">e</span>) =&gt;</span> {</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">this</span>.<span class="title function_">validateField</span>(e.<span class="property">target</span>);</span></span><br><span class="line"><span class="language-javascript">        }, <span class="literal">true</span>);</span></span><br><span class="line"><span class="language-javascript">    }</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 处理表单提交</span></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">async</span> <span class="title function_">handleSubmit</span>(<span class="params"></span>) {</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="title function_">validateForm</span>()) {</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">const</span> formData = <span class="keyword">new</span> <span class="title class_">FormData</span>(<span class="variable language_">this</span>.<span class="property">form</span>);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// 显示提交进度</span></span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">this</span>.<span class="title function_">showProgress</span>();</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">try</span> {</span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// 模拟表单提交</span></span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">await</span> <span class="variable language_">this</span>.<span class="title function_">submitForm</span>(formData);</span></span><br><span class="line"><span class="language-javascript">                <span class="variable language_">this</span>.<span class="title function_">showSuccess</span>(<span class="string">'表单提交成功！'</span>);</span></span><br><span class="line"><span class="language-javascript">            } <span class="keyword">catch</span> (error) {</span></span><br><span class="line"><span class="language-javascript">                <span class="variable language_">this</span>.<span class="title function_">showError</span>(<span class="string">'表单提交失败：'</span> + error.<span class="property">message</span>);</span></span><br><span class="line"><span class="language-javascript">            } <span class="keyword">finally</span> {</span></span><br><span class="line"><span class="language-javascript">                <span class="variable language_">this</span>.<span class="title function_">hideProgress</span>();</span></span><br><span class="line"><span class="language-javascript">            }</span></span><br><span class="line"><span class="language-javascript">        }</span></span><br><span class="line"><span class="language-javascript">    }</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 验证整个表单</span></span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">validateForm</span>(<span class="params"></span>) {</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">let</span> isValid = <span class="literal">true</span>;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> inputs = <span class="variable language_">this</span>.<span class="property">form</span>.<span class="title function_">querySelectorAll</span>(<span class="string">'input, select, textarea'</span>);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        inputs.<span class="title function_">forEach</span>(<span class="function"><span class="params">input</span> =&gt;</span> {</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">if</span> (!<span class="variable language_">this</span>.<span class="title function_">validateField</span>(input)) {</span></span><br><span class="line"><span class="language-javascript">                isValid = <span class="literal">false</span>;</span></span><br><span class="line"><span class="language-javascript">            }</span></span><br><span class="line"><span class="language-javascript">        });</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">return</span> isValid;</span></span><br><span class="line"><span class="language-javascript">    }</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 验证单个字段</span></span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">validateField</span>(<span class="params">field</span>) {</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> errorElement = field.<span class="property">parentNode</span>.<span class="title function_">querySelector</span>(<span class="string">'.error-message'</span>);</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">let</span> isValid = <span class="literal">true</span>;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">let</span> errorMessage = <span class="string">''</span>;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// HTML5原生验证</span></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">if</span> (!field.<span class="title function_">checkValidity</span>()) {</span></span><br><span class="line"><span class="language-javascript">            isValid = <span class="literal">false</span>;</span></span><br><span class="line"><span class="language-javascript">            errorMessage = field.<span class="property">validationMessage</span>;</span></span><br><span class="line"><span class="language-javascript">        }</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 自定义验证规则</span></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">if</span> (isValid) {</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">switch</span> (field.<span class="property">type</span>) {</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">case</span> <span class="string">'tel'</span>:</span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">if</span> (field.<span class="property">value</span> &amp;&amp; !<span class="regexp">/^1[3-9]\d{9}$/</span>.<span class="title function_">test</span>(field.<span class="property">value</span>)) {</span></span><br><span class="line"><span class="language-javascript">                        isValid = <span class="literal">false</span>;</span></span><br><span class="line"><span class="language-javascript">                        errorMessage = <span class="string">'请输入正确的手机号码'</span>;</span></span><br><span class="line"><span class="language-javascript">                    }</span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">break</span>;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">case</span> <span class="string">'file'</span>:</span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">if</span> (field.<span class="property">files</span>.<span class="property">length</span> &gt; <span class="number">0</span>) {</span></span><br><span class="line"><span class="language-javascript">                        <span class="keyword">const</span> file = field.<span class="property">files</span>[<span class="number">0</span>];</span></span><br><span class="line"><span class="language-javascript">                        <span class="keyword">if</span> (field.<span class="property">id</span> === <span class="string">'avatar'</span> &amp;&amp; file.<span class="property">size</span> &gt; <span class="number">2</span> * <span class="number">1024</span> * <span class="number">1024</span>) {</span></span><br><span class="line"><span class="language-javascript">                            isValid = <span class="literal">false</span>;</span></span><br><span class="line"><span class="language-javascript">                            errorMessage = <span class="string">'头像文件大小不能超过2MB'</span>;</span></span><br><span class="line"><span class="language-javascript">                        }</span></span><br><span class="line"><span class="language-javascript">                    }</span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">break</span>;</span></span><br><span class="line"><span class="language-javascript">            }</span></span><br><span class="line"><span class="language-javascript">        }</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 显示错误信息</span></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">if</span> (errorElement) {</span></span><br><span class="line"><span class="language-javascript">            errorElement.<span class="property">textContent</span> = errorMessage;</span></span><br><span class="line"><span class="language-javascript">            errorElement.<span class="property">style</span>.<span class="property">display</span> = errorMessage ? <span class="string">'block'</span> : <span class="string">'none'</span>;</span></span><br><span class="line"><span class="language-javascript">        }</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 添加样式类</span></span></span><br><span class="line"><span class="language-javascript">        field.<span class="property">classList</span>.<span class="title function_">toggle</span>(<span class="string">'invalid'</span>, !isValid);</span></span><br><span class="line"><span class="language-javascript">        field.<span class="property">classList</span>.<span class="title function_">toggle</span>(<span class="string">'valid'</span>, isValid &amp;&amp; field.<span class="property">value</span>);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">return</span> isValid;</span></span><br><span class="line"><span class="language-javascript">    }</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 模拟表单提交</span></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">async</span> <span class="title function_">submitForm</span>(<span class="params">formData</span>) {</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> {</span></span><br><span class="line"><span class="language-javascript">            <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> {</span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// 模拟网络请求</span></span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">if</span> (<span class="title class_">Math</span>.<span class="title function_">random</span>() &gt; <span class="number">0.1</span>) { <span class="comment">// 90%成功率</span></span></span><br><span class="line"><span class="language-javascript">                    <span class="title function_">resolve</span>({ <span class="attr">success</span>: <span class="literal">true</span>, <span class="attr">message</span>: <span class="string">'提交成功'</span> });</span></span><br><span class="line"><span class="language-javascript">                } <span class="keyword">else</span> {</span></span><br><span class="line"><span class="language-javascript">                    <span class="title function_">reject</span>(<span class="keyword">new</span> <span class="title class_">Error</span>(<span class="string">'网络错误'</span>));</span></span><br><span class="line"><span class="language-javascript">                }</span></span><br><span class="line"><span class="language-javascript">            }, <span class="number">2000</span>);</span></span><br><span class="line"><span class="language-javascript">        });</span></span><br><span class="line"><span class="language-javascript">    }</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 显示进度</span></span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">showProgress</span>(<span class="params"></span>) {</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> progress = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">'upload-progress'</span>);</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> progressText = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">'progress-text'</span>);</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">let</span> value = <span class="number">0</span>;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> interval = <span class="built_in">setInterval</span>(<span class="function">() =&gt;</span> {</span></span><br><span class="line"><span class="language-javascript">            value += <span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">20</span>;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">if</span> (value &gt;= <span class="number">100</span>) {</span></span><br><span class="line"><span class="language-javascript">                value = <span class="number">100</span>;</span></span><br><span class="line"><span class="language-javascript">                <span class="built_in">clearInterval</span>(interval);</span></span><br><span class="line"><span class="language-javascript">            }</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            progress.<span class="property">value</span> = value;</span></span><br><span class="line"><span class="language-javascript">            progressText.<span class="property">textContent</span> = <span class="title class_">Math</span>.<span class="title function_">round</span>(value) + <span class="string">'%'</span>;</span></span><br><span class="line"><span class="language-javascript">        }, <span class="number">100</span>);</span></span><br><span class="line"><span class="language-javascript">    }</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 隐藏进度</span></span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">hideProgress</span>(<span class="params"></span>) {</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> progress = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">'upload-progress'</span>);</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> progressText = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">'progress-text'</span>);</span></span><br><span class="line"><span class="language-javascript">        progress.<span class="property">value</span> = <span class="number">0</span>;</span></span><br><span class="line"><span class="language-javascript">        progressText.<span class="property">textContent</span> = <span class="string">'0%'</span>;</span></span><br><span class="line"><span class="language-javascript">    }</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 显示成功消息</span></span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">showSuccess</span>(<span class="params">message</span>) {</span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">alert</span>(<span class="string">'✅ '</span> + message);</span></span><br><span class="line"><span class="language-javascript">    }</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 显示错误消息</span></span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">showError</span>(<span class="params">message</span>) {</span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">alert</span>(<span class="string">'❌ '</span> + message);</span></span><br><span class="line"><span class="language-javascript">    }</span></span><br><span class="line"><span class="language-javascript">}</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="comment">// 全局函数</span></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">function</span> <span class="title function_">updateSalaryDisplay</span>(<span class="params">value</span>) {</span></span><br><span class="line"><span class="language-javascript">    <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">'salary-display'</span>).<span class="property">textContent</span> = value;</span></span><br><span class="line"><span class="language-javascript">}</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">function</span> <span class="title function_">previewImage</span>(<span class="params">input</span>) {</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> preview = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">'image-preview'</span>);</span></span><br><span class="line"><span class="language-javascript">    preview.<span class="property">innerHTML</span> = <span class="string">''</span>;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">if</span> (input.<span class="property">files</span> &amp;&amp; input.<span class="property">files</span>[<span class="number">0</span>]) {</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> reader = <span class="keyword">new</span> <span class="title class_">FileReader</span>();</span></span><br><span class="line"><span class="language-javascript">        reader.<span class="property">onload</span> = <span class="keyword">function</span>(<span class="params">e</span>) {</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">const</span> img = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">'img'</span>);</span></span><br><span class="line"><span class="language-javascript">            img.<span class="property">src</span> = e.<span class="property">target</span>.<span class="property">result</span>;</span></span><br><span class="line"><span class="language-javascript">            img.<span class="property">style</span>.<span class="property">maxWidth</span> = <span class="string">'200px'</span>;</span></span><br><span class="line"><span class="language-javascript">            img.<span class="property">style</span>.<span class="property">maxHeight</span> = <span class="string">'200px'</span>;</span></span><br><span class="line"><span class="language-javascript">            img.<span class="property">style</span>.<span class="property">marginTop</span> = <span class="string">'10px'</span>;</span></span><br><span class="line"><span class="language-javascript">            preview.<span class="title function_">appendChild</span>(img);</span></span><br><span class="line"><span class="language-javascript">        };</span></span><br><span class="line"><span class="language-javascript">        reader.<span class="title function_">readAsDataURL</span>(input.<span class="property">files</span>[<span class="number">0</span>]);</span></span><br><span class="line"><span class="language-javascript">    }</span></span><br><span class="line"><span class="language-javascript">}</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">function</span> <span class="title function_">showFileList</span>(<span class="params">input</span>) {</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> fileList = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">'file-list'</span>);</span></span><br><span class="line"><span class="language-javascript">    fileList.<span class="property">innerHTML</span> = <span class="string">''</span>;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">if</span> (input.<span class="property">files</span>.<span class="property">length</span> &gt; <span class="number">0</span>) {</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> ul = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">'ul'</span>);</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; input.<span class="property">files</span>.<span class="property">length</span>; i++) {</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">const</span> li = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">'li'</span>);</span></span><br><span class="line"><span class="language-javascript">            li.<span class="property">textContent</span> = <span class="string">`<span class="subst">${input.files[i].name}</span> (<span class="subst">${(input.files[i].size / <span class="number">1024</span>).toFixed(<span class="number">2</span>)}</span> KB)`</span>;</span></span><br><span class="line"><span class="language-javascript">            ul.<span class="title function_">appendChild</span>(li);</span></span><br><span class="line"><span class="language-javascript">        }</span></span><br><span class="line"><span class="language-javascript">        fileList.<span class="title function_">appendChild</span>(ul);</span></span><br><span class="line"><span class="language-javascript">    }</span></span><br><span class="line"><span class="language-javascript">}</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">function</span> <span class="title function_">validateForm</span>(<span class="params"></span>) {</span></span><br><span class="line"><span class="language-javascript">    formHandler.<span class="title function_">validateForm</span>();</span></span><br><span class="line"><span class="language-javascript">}</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">function</span> <span class="title function_">fillSampleData</span>(<span class="params"></span>) {</span></span><br><span class="line"><span class="language-javascript">    <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">'username'</span>).<span class="property">value</span> = <span class="string">'testuser'</span>;</span></span><br><span class="line"><span class="language-javascript">    <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">'email'</span>).<span class="property">value</span> = <span class="string">'test@example.com'</span>;</span></span><br><span class="line"><span class="language-javascript">    <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">'phone'</span>).<span class="property">value</span> = <span class="string">'13800138000'</span>;</span></span><br><span class="line"><span class="language-javascript">    <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">'website'</span>).<span class="property">value</span> = <span class="string">'https://www.example.com'</span>;</span></span><br><span class="line"><span class="language-javascript">    <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">'age'</span>).<span class="property">value</span> = <span class="string">'25'</span>;</span></span><br><span class="line"><span class="language-javascript">    <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">'birthday'</span>).<span class="property">value</span> = <span class="string">'1999-01-01'</span>;</span></span><br><span class="line"><span class="language-javascript">}</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="comment">// 初始化表单处理器</span></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">let</span> formHandler;</span></span><br><span class="line"><span class="language-javascript"><span class="variable language_">document</span>.<span class="title function_">addEventListener</span>(<span class="string">'DOMContentLoaded'</span>, <span class="keyword">function</span>(<span class="params"></span>) {</span></span><br><span class="line"><span class="language-javascript">    formHandler = <span class="keyword">new</span> <span class="title class_">FormHandler</span>(<span class="string">'enhanced-form'</span>);</span></span><br><span class="line"><span class="language-javascript">});</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>

<h1 id="三、HTML5-Web-API与高级功能"><a href="#三、HTML5-Web-API与高级功能" class="headerlink" title="三、HTML5 Web API与高级功能"></a>三、HTML5 Web API与高级功能</h1><h2 id="（一）Web存储技术"><a href="#（一）Web存储技术" class="headerlink" title="（一）Web存储技术"></a>（一）Web存储技术</h2><p><strong>本地存储和会话存储：</strong></p>
<figure class="highlight html"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- HTML5 Web存储：localStorage和sessionStorage --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">section</span> <span class="attr">class</span>=<span class="string">"storage-demo"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>Web存储技术演示<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- localStorage演示 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"storage-container"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h3</span>&gt;</span>localStorage（持久存储）<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"storage-controls"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">id</span>=<span class="string">"local-key"</span> <span class="attr">placeholder</span>=<span class="string">"键名"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">id</span>=<span class="string">"local-value"</span> <span class="attr">placeholder</span>=<span class="string">"值"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">button</span> <span class="attr">onclick</span>=<span class="string">"setLocalStorage()"</span>&gt;</span>存储数据<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">button</span> <span class="attr">onclick</span>=<span class="string">"getLocalStorage()"</span>&gt;</span>获取数据<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">button</span> <span class="attr">onclick</span>=<span class="string">"removeLocalStorage()"</span>&gt;</span>删除数据<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">button</span> <span class="attr">onclick</span>=<span class="string">"clearLocalStorage()"</span>&gt;</span>清空存储<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"local-result"</span> <span class="attr">class</span>=<span class="string">"result-display"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"local-list"</span> <span class="attr">class</span>=<span class="string">"storage-list"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- sessionStorage演示 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"storage-container"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h3</span>&gt;</span>sessionStorage（会话存储）<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"storage-controls"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">id</span>=<span class="string">"session-key"</span> <span class="attr">placeholder</span>=<span class="string">"键名"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">id</span>=<span class="string">"session-value"</span> <span class="attr">placeholder</span>=<span class="string">"值"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">button</span> <span class="attr">onclick</span>=<span class="string">"setSessionStorage()"</span>&gt;</span>存储数据<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">button</span> <span class="attr">onclick</span>=<span class="string">"getSessionStorage()"</span>&gt;</span>获取数据<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">button</span> <span class="attr">onclick</span>=<span class="string">"removeSessionStorage()"</span>&gt;</span>删除数据<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">button</span> <span class="attr">onclick</span>=<span class="string">"clearSessionStorage()"</span>&gt;</span>清空存储<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"session-result"</span> <span class="attr">class</span>=<span class="string">"result-display"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"session-list"</span> <span class="attr">class</span>=<span class="string">"storage-list"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 存储使用情况 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"storage-container"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h3</span>&gt;</span>存储使用情况<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"storage-info"</span> <span class="attr">class</span>=<span class="string">"storage-info"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">onclick</span>=<span class="string">"checkStorageQuota()"</span>&gt;</span>检查存储配额<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 实际应用示例：用户偏好设置 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"storage-container"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h3</span>&gt;</span>实际应用：用户偏好设置<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"preferences-form"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">label</span>&gt;</span></span><br><span class="line">                主题：</span><br><span class="line">                <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">"theme-select"</span> <span class="attr">onchange</span>=<span class="string">"savePreference('theme', this.value)"</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">"light"</span>&gt;</span>浅色主题<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">"dark"</span>&gt;</span>深色主题<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">"auto"</span>&gt;</span>自动<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line"></span><br><span class="line">            <span class="tag">&lt;<span class="name">label</span>&gt;</span></span><br><span class="line">                语言：</span><br><span class="line">                <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">"language-select"</span> <span class="attr">onchange</span>=<span class="string">"savePreference('language', this.value)"</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">"zh-CN"</span>&gt;</span>中文<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">"en-US"</span>&gt;</span>English<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">"ja-JP"</span>&gt;</span>日本語<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line"></span><br><span class="line">            <span class="tag">&lt;<span class="name">label</span>&gt;</span></span><br><span class="line">                字体大小：</span><br><span class="line">                <span class="tag">&lt;<span class="name">input</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">type</span>=<span class="string">"range"</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">id</span>=<span class="string">"font-size-range"</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">min</span>=<span class="string">"12"</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">max</span>=<span class="string">"24"</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">value</span>=<span class="string">"16"</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">onchange</span>=<span class="string">"savePreference('fontSize', this.value)"</span></span></span><br><span class="line"><span class="tag">                &gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">"font-size-display"</span>&gt;</span>16px<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line"></span><br><span class="line">            <span class="tag">&lt;<span class="name">label</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">input</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">type</span>=<span class="string">"checkbox"</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">id</span>=<span class="string">"notifications-checkbox"</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">onchange</span>=<span class="string">"savePreference('notifications', this.checked)"</span></span></span><br><span class="line"><span class="tag">                &gt;</span></span><br><span class="line">                启用通知</span><br><span class="line">            <span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line"></span><br><span class="line">            <span class="tag">&lt;<span class="name">button</span> <span class="attr">onclick</span>=<span class="string">"resetPreferences()"</span>&gt;</span>重置偏好<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">section</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="comment">// Web存储管理类</span></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">class</span> <span class="title class_">WebStorageManager</span> {</span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">constructor</span>(<span class="params"></span>) {</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">this</span>.<span class="title function_">initStorageDisplay</span>();</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">this</span>.<span class="title function_">loadUserPreferences</span>();</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">this</span>.<span class="title function_">monitorStorageChanges</span>();</span></span><br><span class="line"><span class="language-javascript">    }</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// localStorage操作</span></span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">setLocalStorage</span>(<span class="params"></span>) {</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> key = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">'local-key'</span>).<span class="property">value</span>;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> value = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">'local-value'</span>).<span class="property">value</span>;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">if</span> (!key) {</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">this</span>.<span class="title function_">showResult</span>(<span class="string">'local-result'</span>, <span class="string">'请输入键名'</span>, <span class="string">'error'</span>);</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">return</span>;</span></span><br><span class="line"><span class="language-javascript">        }</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">try</span> {</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(key, value);</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">this</span>.<span class="title function_">showResult</span>(<span class="string">'local-result'</span>, <span class="string">`已存储: <span class="subst">${key}</span> = <span class="subst">${value}</span>`</span>, <span class="string">'success'</span>);</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">this</span>.<span class="title function_">updateStorageList</span>(<span class="string">'local'</span>);</span></span><br><span class="line"><span class="language-javascript">        } <span class="keyword">catch</span> (error) {</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">this</span>.<span class="title function_">showResult</span>(<span class="string">'local-result'</span>, <span class="string">`存储失败: <span class="subst">${error.message}</span>`</span>, <span class="string">'error'</span>);</span></span><br><span class="line"><span class="language-javascript">        }</span></span><br><span class="line"><span class="language-javascript">    }</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">getLocalStorage</span>(<span class="params"></span>) {</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> key = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">'local-key'</span>).<span class="property">value</span>;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">if</span> (!key) {</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">this</span>.<span class="title function_">showResult</span>(<span class="string">'local-result'</span>, <span class="string">'请输入键名'</span>, <span class="string">'error'</span>);</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">return</span>;</span></span><br><span class="line"><span class="language-javascript">        }</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> value = <span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(key);</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">if</span> (value !== <span class="literal">null</span>) {</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">this</span>.<span class="title function_">showResult</span>(<span class="string">'local-result'</span>, <span class="string">`获取到: <span class="subst">${key}</span> = <span class="subst">${value}</span>`</span>, <span class="string">'success'</span>);</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">'local-value'</span>).<span class="property">value</span> = value;</span></span><br><span class="line"><span class="language-javascript">        } <span class="keyword">else</span> {</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">this</span>.<span class="title function_">showResult</span>(<span class="string">'local-result'</span>, <span class="string">`未找到键: <span class="subst">${key}</span>`</span>, <span class="string">'warning'</span>);</span></span><br><span class="line"><span class="language-javascript">        }</span></span><br><span class="line"><span class="language-javascript">    }</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">removeLocalStorage</span>(<span class="params"></span>) {</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> key = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">'local-key'</span>).<span class="property">value</span>;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">if</span> (!key) {</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">this</span>.<span class="title function_">showResult</span>(<span class="string">'local-result'</span>, <span class="string">'请输入键名'</span>, <span class="string">'error'</span>);</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">return</span>;</span></span><br><span class="line"><span class="language-javascript">        }</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">localStorage</span>.<span class="title function_">removeItem</span>(key);</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">this</span>.<span class="title function_">showResult</span>(<span class="string">'local-result'</span>, <span class="string">`已删除: <span class="subst">${key}</span>`</span>, <span class="string">'success'</span>);</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">this</span>.<span class="title function_">updateStorageList</span>(<span class="string">'local'</span>);</span></span><br><span class="line"><span class="language-javascript">    }</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">clearLocalStorage</span>(<span class="params"></span>) {</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">localStorage</span>.<span class="title function_">clear</span>();</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">this</span>.<span class="title function_">showResult</span>(<span class="string">'local-result'</span>, <span class="string">'已清空localStorage'</span>, <span class="string">'success'</span>);</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">this</span>.<span class="title function_">updateStorageList</span>(<span class="string">'local'</span>);</span></span><br><span class="line"><span class="language-javascript">    }</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// sessionStorage操作</span></span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">setSessionStorage</span>(<span class="params"></span>) {</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> key = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">'session-key'</span>).<span class="property">value</span>;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> value = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">'session-value'</span>).<span class="property">value</span>;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">if</span> (!key) {</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">this</span>.<span class="title function_">showResult</span>(<span class="string">'session-result'</span>, <span class="string">'请输入键名'</span>, <span class="string">'error'</span>);</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">return</span>;</span></span><br><span class="line"><span class="language-javascript">        }</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">try</span> {</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">sessionStorage</span>.<span class="title function_">setItem</span>(key, value);</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">this</span>.<span class="title function_">showResult</span>(<span class="string">'session-result'</span>, <span class="string">`已存储: <span class="subst">${key}</span> = <span class="subst">${value}</span>`</span>, <span class="string">'success'</span>);</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">this</span>.<span class="title function_">updateStorageList</span>(<span class="string">'session'</span>);</span></span><br><span class="line"><span class="language-javascript">        } <span class="keyword">catch</span> (error) {</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">this</span>.<span class="title function_">showResult</span>(<span class="string">'session-result'</span>, <span class="string">`存储失败: <span class="subst">${error.message}</span>`</span>, <span class="string">'error'</span>);</span></span><br><span class="line"><span class="language-javascript">        }</span></span><br><span class="line"><span class="language-javascript">    }</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">getSessionStorage</span>(<span class="params"></span>) {</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> key = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">'session-key'</span>).<span class="property">value</span>;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">if</span> (!key) {</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">this</span>.<span class="title function_">showResult</span>(<span class="string">'session-result'</span>, <span class="string">'请输入键名'</span>, <span class="string">'error'</span>);</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">return</span>;</span></span><br><span class="line"><span class="language-javascript">        }</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> value = <span class="variable language_">sessionStorage</span>.<span class="title function_">getItem</span>(key);</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">if</span> (value !== <span class="literal">null</span>) {</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">this</span>.<span class="title function_">showResult</span>(<span class="string">'session-result'</span>, <span class="string">`获取到: <span class="subst">${key}</span> = <span class="subst">${value}</span>`</span>, <span class="string">'success'</span>);</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">'session-value'</span>).<span class="property">value</span> = value;</span></span><br><span class="line"><span class="language-javascript">        } <span class="keyword">else</span> {</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">this</span>.<span class="title function_">showResult</span>(<span class="string">'session-result'</span>, <span class="string">`未找到键: <span class="subst">${key}</span>`</span>, <span class="string">'warning'</span>);</span></span><br><span class="line"><span class="language-javascript">        }</span></span><br><span class="line"><span class="language-javascript">    }</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">removeSessionStorage</span>(<span class="params"></span>) {</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> key = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">'session-key'</span>).<span class="property">value</span>;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">if</span> (!key) {</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">this</span>.<span class="title function_">showResult</span>(<span class="string">'session-result'</span>, <span class="string">'请输入键名'</span>, <span class="string">'error'</span>);</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">return</span>;</span></span><br><span class="line"><span class="language-javascript">        }</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">sessionStorage</span>.<span class="title function_">removeItem</span>(key);</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">this</span>.<span class="title function_">showResult</span>(<span class="string">'session-result'</span>, <span class="string">`已删除: <span class="subst">${key}</span>`</span>, <span class="string">'success'</span>);</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">this</span>.<span class="title function_">updateStorageList</span>(<span class="string">'session'</span>);</span></span><br><span class="line"><span class="language-javascript">    }</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">clearSessionStorage</span>(<span class="params"></span>) {</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">sessionStorage</span>.<span class="title function_">clear</span>();</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">this</span>.<span class="title function_">showResult</span>(<span class="string">'session-result'</span>, <span class="string">'已清空sessionStorage'</span>, <span class="string">'success'</span>);</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">this</span>.<span class="title function_">updateStorageList</span>(<span class="string">'session'</span>);</span></span><br><span class="line"><span class="language-javascript">    }</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 显示结果</span></span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">showResult</span>(<span class="params">elementId, message, type</span>) {</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> element = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(elementId);</span></span><br><span class="line"><span class="language-javascript">        element.<span class="property">textContent</span> = message;</span></span><br><span class="line"><span class="language-javascript">        element.<span class="property">className</span> = <span class="string">`result-display <span class="subst">${type}</span>`</span>;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 3秒后清除消息</span></span></span><br><span class="line"><span class="language-javascript">        <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> {</span></span><br><span class="line"><span class="language-javascript">            element.<span class="property">textContent</span> = <span class="string">''</span>;</span></span><br><span class="line"><span class="language-javascript">            element.<span class="property">className</span> = <span class="string">'result-display'</span>;</span></span><br><span class="line"><span class="language-javascript">        }, <span class="number">3000</span>);</span></span><br><span class="line"><span class="language-javascript">    }</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 更新存储列表显示</span></span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">updateStorageList</span>(<span class="params">storageType</span>) {</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> storage = storageType === <span class="string">'local'</span> ? <span class="variable language_">localStorage</span> : <span class="variable language_">sessionStorage</span>;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> listElement = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">`<span class="subst">${storageType}</span>-list`</span>);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        listElement.<span class="property">innerHTML</span> = <span class="string">''</span>;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">if</span> (storage.<span class="property">length</span> === <span class="number">0</span>) {</span></span><br><span class="line"><span class="language-javascript">            listElement.<span class="property">innerHTML</span> = <span class="string">'&lt;p&gt;暂无存储数据&lt;/p&gt;'</span>;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">return</span>;</span></span><br><span class="line"><span class="language-javascript">        }</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> ul = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">'ul'</span>);</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; storage.<span class="property">length</span>; i++) {</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">const</span> key = storage.<span class="title function_">key</span>(i);</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">const</span> value = storage.<span class="title function_">getItem</span>(key);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">const</span> li = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">'li'</span>);</span></span><br><span class="line"><span class="language-javascript">            li.<span class="property">innerHTML</span> = <span class="string">`</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">                &lt;strong&gt;<span class="subst">${key}</span>:&lt;/strong&gt; <span class="subst">${value}</span></span></span></span><br><span class="line"><span class="string"><span class="language-javascript">                &lt;button onclick="storageManager.deleteStorageItem('<span class="subst">${storageType}</span>', '<span class="subst">${key}</span>')"&gt;删除&lt;/button&gt;</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">            `</span>;</span></span><br><span class="line"><span class="language-javascript">            ul.<span class="title function_">appendChild</span>(li);</span></span><br><span class="line"><span class="language-javascript">        }</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        listElement.<span class="title function_">appendChild</span>(ul);</span></span><br><span class="line"><span class="language-javascript">    }</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 删除存储项</span></span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">deleteStorageItem</span>(<span class="params">storageType, key</span>) {</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> storage = storageType === <span class="string">'local'</span> ? <span class="variable language_">localStorage</span> : <span class="variable language_">sessionStorage</span>;</span></span><br><span class="line"><span class="language-javascript">        storage.<span class="title function_">removeItem</span>(key);</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">this</span>.<span class="title function_">updateStorageList</span>(storageType);</span></span><br><span class="line"><span class="language-javascript">    }</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 初始化存储显示</span></span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">initStorageDisplay</span>(<span class="params"></span>) {</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">this</span>.<span class="title function_">updateStorageList</span>(<span class="string">'local'</span>);</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">this</span>.<span class="title function_">updateStorageList</span>(<span class="string">'session'</span>);</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">this</span>.<span class="title function_">updateStorageInfo</span>();</span></span><br><span class="line"><span class="language-javascript">    }</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 更新存储信息</span></span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">updateStorageInfo</span>(<span class="params"></span>) {</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> info = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">'storage-info'</span>);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">let</span> localSize = <span class="number">0</span>;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">let</span> sessionSize = <span class="number">0</span>;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 计算localStorage大小</span></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">for</span> (<span class="keyword">let</span> key <span class="keyword">in</span> <span class="variable language_">localStorage</span>) {</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">if</span> (<span class="variable language_">localStorage</span>.<span class="title function_">hasOwnProperty</span>(key)) {</span></span><br><span class="line"><span class="language-javascript">                localSize += <span class="variable language_">localStorage</span>[key].<span class="property">length</span> + key.<span class="property">length</span>;</span></span><br><span class="line"><span class="language-javascript">            }</span></span><br><span class="line"><span class="language-javascript">        }</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 计算sessionStorage大小</span></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">for</span> (<span class="keyword">let</span> key <span class="keyword">in</span> <span class="variable language_">sessionStorage</span>) {</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">if</span> (<span class="variable language_">sessionStorage</span>.<span class="title function_">hasOwnProperty</span>(key)) {</span></span><br><span class="line"><span class="language-javascript">                sessionSize += <span class="variable language_">sessionStorage</span>[key].<span class="property">length</span> + key.<span class="property">length</span>;</span></span><br><span class="line"><span class="language-javascript">            }</span></span><br><span class="line"><span class="language-javascript">        }</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        info.<span class="property">innerHTML</span> = <span class="string">`</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">            &lt;p&gt;&lt;strong&gt;localStorage:&lt;/strong&gt; <span class="subst">${<span class="variable language_">localStorage</span>.length}</span> 项, 约 <span class="subst">${(localSize / <span class="number">1024</span>).toFixed(<span class="number">2</span>)}</span> KB&lt;/p&gt;</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">            &lt;p&gt;&lt;strong&gt;sessionStorage:&lt;/strong&gt; <span class="subst">${<span class="variable language_">sessionStorage</span>.length}</span> 项, 约 <span class="subst">${(sessionSize / <span class="number">1024</span>).toFixed(<span class="number">2</span>)}</span> KB&lt;/p&gt;</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">        `</span>;</span></span><br><span class="line"><span class="language-javascript">    }</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 检查存储配额</span></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">async</span> <span class="title function_">checkStorageQuota</span>(<span class="params"></span>) {</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">if</span> (<span class="string">'storage'</span> <span class="keyword">in</span> navigator &amp;&amp; <span class="string">'estimate'</span> <span class="keyword">in</span> navigator.<span class="property">storage</span>) {</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">try</span> {</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">const</span> estimate = <span class="keyword">await</span> navigator.<span class="property">storage</span>.<span class="title function_">estimate</span>();</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">const</span> used = estimate.<span class="property">usage</span>;</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">const</span> quota = estimate.<span class="property">quota</span>;</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">const</span> usedMB = (used / <span class="number">1024</span> / <span class="number">1024</span>).<span class="title function_">toFixed</span>(<span class="number">2</span>);</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">const</span> quotaMB = (quota / <span class="number">1024</span> / <span class="number">1024</span>).<span class="title function_">toFixed</span>(<span class="number">2</span>);</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">const</span> usagePercent = ((used / quota) * <span class="number">100</span>).<span class="title function_">toFixed</span>(<span class="number">2</span>);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                <span class="title function_">alert</span>(<span class="string">`存储配额信息：\n已使用: <span class="subst">${usedMB}</span> MB\n总配额: <span class="subst">${quotaMB}</span> MB\n使用率: <span class="subst">${usagePercent}</span>%`</span>);</span></span><br><span class="line"><span class="language-javascript">            } <span class="keyword">catch</span> (error) {</span></span><br><span class="line"><span class="language-javascript">                <span class="title function_">alert</span>(<span class="string">'无法获取存储配额信息: '</span> + error.<span class="property">message</span>);</span></span><br><span class="line"><span class="language-javascript">            }</span></span><br><span class="line"><span class="language-javascript">        } <span class="keyword">else</span> {</span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">alert</span>(<span class="string">'浏览器不支持存储配额API'</span>);</span></span><br><span class="line"><span class="language-javascript">        }</span></span><br><span class="line"><span class="language-javascript">    }</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 用户偏好设置</span></span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">savePreference</span>(<span class="params">key, value</span>) {</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> preferences = <span class="variable language_">this</span>.<span class="title function_">getPreferences</span>();</span></span><br><span class="line"><span class="language-javascript">        preferences[key] = value;</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(<span class="string">'userPreferences'</span>, <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(preferences));</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">this</span>.<span class="title function_">applyPreferences</span>();</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 更新字体大小显示</span></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">if</span> (key === <span class="string">'fontSize'</span>) {</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">'font-size-display'</span>).<span class="property">textContent</span> = value + <span class="string">'px'</span>;</span></span><br><span class="line"><span class="language-javascript">        }</span></span><br><span class="line"><span class="language-javascript">    }</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">getPreferences</span>(<span class="params"></span>) {</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> stored = <span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(<span class="string">'userPreferences'</span>);</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">return</span> stored ? <span class="title class_">JSON</span>.<span class="title function_">parse</span>(stored) : {};</span></span><br><span class="line"><span class="language-javascript">    }</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">loadUserPreferences</span>(<span class="params"></span>) {</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> preferences = <span class="variable language_">this</span>.<span class="title function_">getPreferences</span>();</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 应用保存的偏好设置</span></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">if</span> (preferences.<span class="property">theme</span>) {</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">'theme-select'</span>).<span class="property">value</span> = preferences.<span class="property">theme</span>;</span></span><br><span class="line"><span class="language-javascript">        }</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">if</span> (preferences.<span class="property">language</span>) {</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">'language-select'</span>).<span class="property">value</span> = preferences.<span class="property">language</span>;</span></span><br><span class="line"><span class="language-javascript">        }</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">if</span> (preferences.<span class="property">fontSize</span>) {</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">'font-size-range'</span>).<span class="property">value</span> = preferences.<span class="property">fontSize</span>;</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">'font-size-display'</span>).<span class="property">textContent</span> = preferences.<span class="property">fontSize</span> + <span class="string">'px'</span>;</span></span><br><span class="line"><span class="language-javascript">        }</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">if</span> (preferences.<span class="property">notifications</span> !== <span class="literal">undefined</span>) {</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">'notifications-checkbox'</span>).<span class="property">checked</span> = preferences.<span class="property">notifications</span>;</span></span><br><span class="line"><span class="language-javascript">        }</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">this</span>.<span class="title function_">applyPreferences</span>();</span></span><br><span class="line"><span class="language-javascript">    }</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">applyPreferences</span>(<span class="params"></span>) {</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> preferences = <span class="variable language_">this</span>.<span class="title function_">getPreferences</span>();</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 应用主题</span></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">if</span> (preferences.<span class="property">theme</span>) {</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">document</span>.<span class="property">body</span>.<span class="title function_">setAttribute</span>(<span class="string">'data-theme'</span>, preferences.<span class="property">theme</span>);</span></span><br><span class="line"><span class="language-javascript">        }</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 应用字体大小</span></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">if</span> (preferences.<span class="property">fontSize</span>) {</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">document</span>.<span class="property">body</span>.<span class="property">style</span>.<span class="property">fontSize</span> = preferences.<span class="property">fontSize</span> + <span class="string">'px'</span>;</span></span><br><span class="line"><span class="language-javascript">        }</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 其他偏好设置的应用...</span></span></span><br><span class="line"><span class="language-javascript">    }</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">resetPreferences</span>(<span class="params"></span>) {</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">localStorage</span>.<span class="title function_">removeItem</span>(<span class="string">'userPreferences'</span>);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 重置表单</span></span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">'theme-select'</span>).<span class="property">value</span> = <span class="string">'light'</span>;</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">'language-select'</span>).<span class="property">value</span> = <span class="string">'zh-CN'</span>;</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">'font-size-range'</span>).<span class="property">value</span> = <span class="string">'16'</span>;</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">'font-size-display'</span>).<span class="property">textContent</span> = <span class="string">'16px'</span>;</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">'notifications-checkbox'</span>).<span class="property">checked</span> = <span class="literal">false</span>;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">this</span>.<span class="title function_">applyPreferences</span>();</span></span><br><span class="line"><span class="language-javascript">    }</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 监听存储变化</span></span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">monitorStorageChanges</span>(<span class="params"></span>) {</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">window</span>.<span class="title function_">addEventListener</span>(<span class="string">'storage'</span>, <span class="function">(<span class="params">e</span>) =&gt;</span> {</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">'存储发生变化:'</span>, e);</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">this</span>.<span class="title function_">updateStorageList</span>(<span class="string">'local'</span>);</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">this</span>.<span class="title function_">updateStorageInfo</span>();</span></span><br><span class="line"><span class="language-javascript">        });</span></span><br><span class="line"><span class="language-javascript">    }</span></span><br><span class="line"><span class="language-javascript">}</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="comment">// 全局函数</span></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">let</span> storageManager;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="variable language_">document</span>.<span class="title function_">addEventListener</span>(<span class="string">'DOMContentLoaded'</span>, <span class="keyword">function</span>(<span class="params"></span>) {</span></span><br><span class="line"><span class="language-javascript">    storageManager = <span class="keyword">new</span> <span class="title class_">WebStorageManager</span>();</span></span><br><span class="line"><span class="language-javascript">});</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">function</span> <span class="title function_">setLocalStorage</span>(<span class="params"></span>) { storageManager.<span class="title function_">setLocalStorage</span>(); }</span></span><br><span class="line"><span class="language-javascript"><span class="keyword">function</span> <span class="title function_">getLocalStorage</span>(<span class="params"></span>) { storageManager.<span class="title function_">getLocalStorage</span>(); }</span></span><br><span class="line"><span class="language-javascript"><span class="keyword">function</span> <span class="title function_">removeLocalStorage</span>(<span class="params"></span>) { storageManager.<span class="title function_">removeLocalStorage</span>(); }</span></span><br><span class="line"><span class="language-javascript"><span class="keyword">function</span> <span class="title function_">clearLocalStorage</span>(<span class="params"></span>) { storageManager.<span class="title function_">clearLocalStorage</span>(); }</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">function</span> <span class="title function_">setSessionStorage</span>(<span class="params"></span>) { storageManager.<span class="title function_">setSessionStorage</span>(); }</span></span><br><span class="line"><span class="language-javascript"><span class="keyword">function</span> <span class="title function_">getSessionStorage</span>(<span class="params"></span>) { storageManager.<span class="title function_">getSessionStorage</span>(); }</span></span><br><span class="line"><span class="language-javascript"><span class="keyword">function</span> <span class="title function_">removeSessionStorage</span>(<span class="params"></span>) { storageManager.<span class="title function_">removeSessionStorage</span>(); }</span></span><br><span class="line"><span class="language-javascript"><span class="keyword">function</span> <span class="title function_">clearSessionStorage</span>(<span class="params"></span>) { storageManager.<span class="title function_">clearSessionStorage</span>(); }</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">function</span> <span class="title function_">checkStorageQuota</span>(<span class="params"></span>) { storageManager.<span class="title function_">checkStorageQuota</span>(); }</span></span><br><span class="line"><span class="language-javascript"><span class="keyword">function</span> <span class="title function_">savePreference</span>(<span class="params">key, value</span>) { storageManager.<span class="title function_">savePreference</span>(key, value); }</span></span><br><span class="line"><span class="language-javascript"><span class="keyword">function</span> <span class="title function_">resetPreferences</span>(<span class="params"></span>) { storageManager.<span class="title function_">resetPreferences</span>(); }</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>

<h2 id="（二）地理定位API"><a href="#（二）地理定位API" class="headerlink" title="（二）地理定位API"></a>（二）地理定位API</h2><p><strong>地理位置获取和监控：</strong></p>
<figure class="highlight html"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- HTML5地理定位API：获取用户位置信息 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">section</span> <span class="attr">class</span>=<span class="string">"geolocation-demo"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>地理定位API演示<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"geolocation-container"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"location-controls"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">button</span> <span class="attr">onclick</span>=<span class="string">"getCurrentPosition()"</span>&gt;</span>获取当前位置<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">button</span> <span class="attr">onclick</span>=<span class="string">"watchPosition()"</span>&gt;</span>监控位置变化<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">button</span> <span class="attr">onclick</span>=<span class="string">"stopWatching()"</span>&gt;</span>停止监控<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">button</span> <span class="attr">onclick</span>=<span class="string">"clearLocationInfo()"</span>&gt;</span>清除信息<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"location-status"</span> <span class="attr">class</span>=<span class="string">"status-display"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"location-info"</span> <span class="attr">class</span>=<span class="string">"location-info"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"location-map"</span> <span class="attr">class</span>=<span class="string">"location-map"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- 位置历史记录 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"location-history"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">h3</span>&gt;</span>位置历史<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"position-history"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">button</span> <span class="attr">onclick</span>=<span class="string">"clearPositionHistory()"</span>&gt;</span>清除历史<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">section</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="comment">// 地理定位管理类</span></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">class</span> <span class="title class_">GeolocationManager</span> {</span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">constructor</span>(<span class="params"></span>) {</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">this</span>.<span class="property">watchId</span> = <span class="literal">null</span>;</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">this</span>.<span class="property">positionHistory</span> = [];</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">this</span>.<span class="title function_">checkGeolocationSupport</span>();</span></span><br><span class="line"><span class="language-javascript">    }</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 检查地理定位支持</span></span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">checkGeolocationSupport</span>(<span class="params"></span>) {</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">if</span> (!navigator.<span class="property">geolocation</span>) {</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">this</span>.<span class="title function_">showStatus</span>(<span class="string">'您的浏览器不支持地理定位功能'</span>, <span class="string">'error'</span>);</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">return</span> <span class="literal">false</span>;</span></span><br><span class="line"><span class="language-javascript">        }</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">return</span> <span class="literal">true</span>;</span></span><br><span class="line"><span class="language-javascript">    }</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 获取当前位置</span></span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">getCurrentPosition</span>(<span class="params"></span>) {</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">if</span> (!<span class="variable language_">this</span>.<span class="title function_">checkGeolocationSupport</span>()) <span class="keyword">return</span>;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">this</span>.<span class="title function_">showStatus</span>(<span class="string">'正在获取位置信息...'</span>, <span class="string">'loading'</span>);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> options = {</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">enableHighAccuracy</span>: <span class="literal">true</span>,    <span class="comment">// 启用高精度</span></span></span><br><span class="line"><span class="language-javascript">            <span class="attr">timeout</span>: <span class="number">10000</span>,              <span class="comment">// 超时时间10秒</span></span></span><br><span class="line"><span class="language-javascript">            <span class="attr">maximumAge</span>: <span class="number">60000</span>            <span class="comment">// 缓存时间1分钟</span></span></span><br><span class="line"><span class="language-javascript">        };</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        navigator.<span class="property">geolocation</span>.<span class="title function_">getCurrentPosition</span>(</span></span><br><span class="line"><span class="language-javascript">            <span class="function">(<span class="params">position</span>) =&gt;</span> <span class="variable language_">this</span>.<span class="title function_">onPositionSuccess</span>(position),</span></span><br><span class="line"><span class="language-javascript">            <span class="function">(<span class="params">error</span>) =&gt;</span> <span class="variable language_">this</span>.<span class="title function_">onPositionError</span>(error),</span></span><br><span class="line"><span class="language-javascript">            options</span></span><br><span class="line"><span class="language-javascript">        );</span></span><br><span class="line"><span class="language-javascript">    }</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 监控位置变化</span></span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">watchPosition</span>(<span class="params"></span>) {</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">if</span> (!<span class="variable language_">this</span>.<span class="title function_">checkGeolocationSupport</span>()) <span class="keyword">return</span>;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">watchId</span> !== <span class="literal">null</span>) {</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">this</span>.<span class="title function_">showStatus</span>(<span class="string">'已在监控位置变化'</span>, <span class="string">'warning'</span>);</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">return</span>;</span></span><br><span class="line"><span class="language-javascript">        }</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">this</span>.<span class="title function_">showStatus</span>(<span class="string">'开始监控位置变化...'</span>, <span class="string">'loading'</span>);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> options = {</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">enableHighAccuracy</span>: <span class="literal">true</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">timeout</span>: <span class="number">5000</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">maximumAge</span>: <span class="number">30000</span></span></span><br><span class="line"><span class="language-javascript">        };</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">this</span>.<span class="property">watchId</span> = navigator.<span class="property">geolocation</span>.<span class="title function_">watchPosition</span>(</span></span><br><span class="line"><span class="language-javascript">            <span class="function">(<span class="params">position</span>) =&gt;</span> <span class="variable language_">this</span>.<span class="title function_">onPositionSuccess</span>(position, <span class="literal">true</span>),</span></span><br><span class="line"><span class="language-javascript">            <span class="function">(<span class="params">error</span>) =&gt;</span> <span class="variable language_">this</span>.<span class="title function_">onPositionError</span>(error),</span></span><br><span class="line"><span class="language-javascript">            options</span></span><br><span class="line"><span class="language-javascript">        );</span></span><br><span class="line"><span class="language-javascript">    }</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 停止监控</span></span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">stopWatching</span>(<span class="params"></span>) {</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">watchId</span> !== <span class="literal">null</span>) {</span></span><br><span class="line"><span class="language-javascript">            navigator.<span class="property">geolocation</span>.<span class="title function_">clearWatch</span>(<span class="variable language_">this</span>.<span class="property">watchId</span>);</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">this</span>.<span class="property">watchId</span> = <span class="literal">null</span>;</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">this</span>.<span class="title function_">showStatus</span>(<span class="string">'已停止位置监控'</span>, <span class="string">'success'</span>);</span></span><br><span class="line"><span class="language-javascript">        } <span class="keyword">else</span> {</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">this</span>.<span class="title function_">showStatus</span>(<span class="string">'当前未在监控位置'</span>, <span class="string">'warning'</span>);</span></span><br><span class="line"><span class="language-javascript">        }</span></span><br><span class="line"><span class="language-javascript">    }</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 位置获取成功</span></span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">onPositionSuccess</span>(<span class="params">position, isWatching = <span class="literal">false</span></span>) {</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> coords = position.<span class="property">coords</span>;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> timestamp = <span class="keyword">new</span> <span class="title class_">Date</span>(position.<span class="property">timestamp</span>);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 保存到历史记录</span></span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">this</span>.<span class="property">positionHistory</span>.<span class="title function_">push</span>({</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">latitude</span>: coords.<span class="property">latitude</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">longitude</span>: coords.<span class="property">longitude</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">accuracy</span>: coords.<span class="property">accuracy</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">timestamp</span>: timestamp,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">isWatching</span>: isWatching</span></span><br><span class="line"><span class="language-javascript">        });</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 显示状态</span></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> statusText = isWatching ? <span class="string">'位置更新成功'</span> : <span class="string">'位置获取成功'</span>;</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">this</span>.<span class="title function_">showStatus</span>(statusText, <span class="string">'success'</span>);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 显示位置信息</span></span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">this</span>.<span class="title function_">displayLocationInfo</span>(coords, timestamp);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 显示地图（简化版）</span></span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">this</span>.<span class="title function_">displayMap</span>(coords.<span class="property">latitude</span>, coords.<span class="property">longitude</span>);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 更新历史记录显示</span></span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">this</span>.<span class="title function_">updatePositionHistory</span>();</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 获取地址信息（反向地理编码）</span></span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">this</span>.<span class="title function_">reverseGeocode</span>(coords.<span class="property">latitude</span>, coords.<span class="property">longitude</span>);</span></span><br><span class="line"><span class="language-javascript">    }</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 位置获取失败</span></span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">onPositionError</span>(<span class="params">error</span>) {</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">let</span> message = <span class="string">''</span>;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">switch</span> (error.<span class="property">code</span>) {</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">case</span> error.<span class="property">PERMISSION_DENIED</span>:</span></span><br><span class="line"><span class="language-javascript">                message = <span class="string">'用户拒绝了地理定位请求'</span>;</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">break</span>;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">case</span> error.<span class="property">POSITION_UNAVAILABLE</span>:</span></span><br><span class="line"><span class="language-javascript">                message = <span class="string">'位置信息不可用'</span>;</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">break</span>;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">case</span> error.<span class="property">TIMEOUT</span>:</span></span><br><span class="line"><span class="language-javascript">                message = <span class="string">'获取位置信息超时'</span>;</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">break</span>;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">default</span>:</span></span><br><span class="line"><span class="language-javascript">                message = <span class="string">'获取位置信息时发生未知错误'</span>;</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">break</span>;</span></span><br><span class="line"><span class="language-javascript">        }</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">this</span>.<span class="title function_">showStatus</span>(<span class="string">`错误: <span class="subst">${message}</span>`</span>, <span class="string">'error'</span>);</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">console</span>.<span class="title function_">error</span>(<span class="string">'地理定位错误:'</span>, error);</span></span><br><span class="line"><span class="language-javascript">    }</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 显示位置信息</span></span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">displayLocationInfo</span>(<span class="params">coords, timestamp</span>) {</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> infoElement = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">'location-info'</span>);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        infoElement.<span class="property">innerHTML</span> = <span class="string">`</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">            &lt;div class="location-details"&gt;</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">                &lt;h4&gt;位置详情&lt;/h4&gt;</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">                &lt;p&gt;&lt;strong&gt;纬度:&lt;/strong&gt; <span class="subst">${coords.latitude.toFixed(<span class="number">6</span>)}</span>°&lt;/p&gt;</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">                &lt;p&gt;&lt;strong&gt;经度:&lt;/strong&gt; <span class="subst">${coords.longitude.toFixed(<span class="number">6</span>)}</span>°&lt;/p&gt;</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">                &lt;p&gt;&lt;strong&gt;精度:&lt;/strong&gt; ±<span class="subst">${coords.accuracy.toFixed(<span class="number">0</span>)}</span> 米&lt;/p&gt;</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">                <span class="subst">${coords.altitude !== <span class="literal">null</span> ? <span class="string">`&lt;p&gt;&lt;strong&gt;海拔:&lt;/strong&gt; <span class="subst">${coords.altitude.toFixed(<span class="number">0</span>)}</span> 米&lt;/p&gt;`</span> : <span class="string">''</span>}</span></span></span></span><br><span class="line"><span class="string"><span class="language-javascript">                <span class="subst">${coords.altitudeAccuracy !== <span class="literal">null</span> ? <span class="string">`&lt;p&gt;&lt;strong&gt;海拔精度:&lt;/strong&gt; ±<span class="subst">${coords.altitudeAccuracy.toFixed(<span class="number">0</span>)}</span> 米&lt;/p&gt;`</span> : <span class="string">''</span>}</span></span></span></span><br><span class="line"><span class="string"><span class="language-javascript">                <span class="subst">${coords.heading !== <span class="literal">null</span> ? <span class="string">`&lt;p&gt;&lt;strong&gt;方向:&lt;/strong&gt; <span class="subst">${coords.heading.toFixed(<span class="number">0</span>)}</span>°&lt;/p&gt;`</span> : <span class="string">''</span>}</span></span></span></span><br><span class="line"><span class="string"><span class="language-javascript">                <span class="subst">${coords.speed !== <span class="literal">null</span> ? <span class="string">`&lt;p&gt;&lt;strong&gt;速度:&lt;/strong&gt; <span class="subst">${coords.speed.toFixed(<span class="number">2</span>)}</span> 米/秒&lt;/p&gt;`</span> : <span class="string">''</span>}</span></span></span></span><br><span class="line"><span class="string"><span class="language-javascript">                &lt;p&gt;&lt;strong&gt;获取时间:&lt;/strong&gt; <span class="subst">${timestamp.toLocaleString()}</span>&lt;/p&gt;</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">            &lt;/div&gt;</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">        `</span>;</span></span><br><span class="line"><span class="language-javascript">    }</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 显示简化地图</span></span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">displayMap</span>(<span class="params">lat, lng</span>) {</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> mapElement = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">'location-map'</span>);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 这里使用简化的地图显示，实际项目中可以集成Google Maps、百度地图等</span></span></span><br><span class="line"><span class="language-javascript">        mapElement.<span class="property">innerHTML</span> = <span class="string">`</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">            &lt;div class="simple-map"&gt;</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">                &lt;h4&gt;位置地图&lt;/h4&gt;</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">                &lt;p&gt;纬度: <span class="subst">${lat.toFixed(<span class="number">6</span>)}</span>, 经度: <span class="subst">${lng.toFixed(<span class="number">6</span>)}</span>&lt;/p&gt;</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">                &lt;div class="map-placeholder"&gt;</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">                    &lt;div class="map-marker" title="您的位置"&gt;📍&lt;/div&gt;</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">                    &lt;p&gt;地图占位符&lt;/p&gt;</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">                    &lt;small&gt;实际项目中可集成真实地图服务&lt;/small&gt;</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">                &lt;/div&gt;</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">                &lt;div class="map-links"&gt;</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">                    &lt;a href="https://www.google.com/maps?q=<span class="subst">${lat}</span>,<span class="subst">${lng}</span>" target="_blank"&gt;在Google地图中查看&lt;/a&gt;</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">                    &lt;a href="https://map.baidu.com/?l=13&amp;tn=B_NORMAL_MAP&amp;c=13565933,3550055&amp;s=bt%26c%3D1%26wd%3D<span class="subst">${lat}</span>,<span class="subst">${lng}</span>" target="_blank"&gt;在百度地图中查看&lt;/a&gt;</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">                &lt;/div&gt;</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">            &lt;/div&gt;</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">        `</span>;</span></span><br><span class="line"><span class="language-javascript">    }</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 反向地理编码（获取地址）</span></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">async</span> <span class="title function_">reverseGeocode</span>(<span class="params">lat, lng</span>) {</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">try</span> {</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// 这里使用免费的反向地理编码服务</span></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// 实际项目中建议使用专业的地图服务API</span></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">const</span> response = <span class="keyword">await</span> <span class="title function_">fetch</span>(<span class="string">`https://api.bigdatacloud.net/data/reverse-geocode-client?latitude=<span class="subst">${lat}</span>&amp;longitude=<span class="subst">${lng}</span>&amp;localityLanguage=zh`</span>);</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">const</span> data = <span class="keyword">await</span> response.<span class="title function_">json</span>();</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">if</span> (data &amp;&amp; data.<span class="property">locality</span>) {</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">const</span> addressElement = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">'div'</span>);</span></span><br><span class="line"><span class="language-javascript">                addressElement.<span class="property">className</span> = <span class="string">'address-info'</span>;</span></span><br><span class="line"><span class="language-javascript">                addressElement.<span class="property">innerHTML</span> = <span class="string">`</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">                    &lt;h4&gt;地址信息&lt;/h4&gt;</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">                    &lt;p&gt;&lt;strong&gt;国家:&lt;/strong&gt; <span class="subst">${data.countryName || <span class="string">'未知'</span>}</span>&lt;/p&gt;</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">                    &lt;p&gt;&lt;strong&gt;省/州:&lt;/strong&gt; <span class="subst">${data.principalSubdivision || <span class="string">'未知'</span>}</span>&lt;/p&gt;</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">                    &lt;p&gt;&lt;strong&gt;城市:&lt;/strong&gt; <span class="subst">${data.locality || <span class="string">'未知'</span>}</span>&lt;/p&gt;</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">                    &lt;p&gt;&lt;strong&gt;详细地址:&lt;/strong&gt; <span class="subst">${data.localityInfo?.administrative?.[<span class="number">0</span>]?.name || <span class="string">'未知'</span>}</span>&lt;/p&gt;</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">                `</span>;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">'location-info'</span>).<span class="title function_">appendChild</span>(addressElement);</span></span><br><span class="line"><span class="language-javascript">            }</span></span><br><span class="line"><span class="language-javascript">        } <span class="keyword">catch</span> (error) {</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">console</span>.<span class="title function_">warn</span>(<span class="string">'反向地理编码失败:'</span>, error);</span></span><br><span class="line"><span class="language-javascript">        }</span></span><br><span class="line"><span class="language-javascript">    }</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 更新位置历史显示</span></span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">updatePositionHistory</span>(<span class="params"></span>) {</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> historyElement = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">'position-history'</span>);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">positionHistory</span>.<span class="property">length</span> === <span class="number">0</span>) {</span></span><br><span class="line"><span class="language-javascript">            historyElement.<span class="property">innerHTML</span> = <span class="string">'&lt;p&gt;暂无位置历史&lt;/p&gt;'</span>;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">return</span>;</span></span><br><span class="line"><span class="language-javascript">        }</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> historyHtml = <span class="variable language_">this</span>.<span class="property">positionHistory</span></span></span><br><span class="line"><span class="language-javascript">            .<span class="title function_">slice</span>(-<span class="number">10</span>) <span class="comment">// 只显示最近10条</span></span></span><br><span class="line"><span class="language-javascript">            .<span class="title function_">reverse</span>()</span></span><br><span class="line"><span class="language-javascript">            .<span class="title function_">map</span>(<span class="function">(<span class="params">pos, index</span>) =&gt;</span> <span class="string">`</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">                &lt;div class="history-item"&gt;</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">                    &lt;div class="history-header"&gt;</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">                        &lt;span class="history-index"&gt;#<span class="subst">${<span class="variable language_">this</span>.positionHistory.length - index}</span>&lt;/span&gt;</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">                        &lt;span class="history-type"&gt;<span class="subst">${pos.isWatching ? <span class="string">'监控'</span> : <span class="string">'单次'</span>}</span>&lt;/span&gt;</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">                        &lt;span class="history-time"&gt;<span class="subst">${pos.timestamp.toLocaleTimeString()}</span>&lt;/span&gt;</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">                    &lt;/div&gt;</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">                    &lt;div class="history-details"&gt;</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">                        &lt;span&gt;位置: <span class="subst">${pos.latitude.toFixed(<span class="number">4</span>)}</span>, <span class="subst">${pos.longitude.toFixed(<span class="number">4</span>)}</span>&lt;/span&gt;</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">                        &lt;span&gt;精度: ±<span class="subst">${pos.accuracy.toFixed(<span class="number">0</span>)}</span>m&lt;/span&gt;</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">                    &lt;/div&gt;</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">                &lt;/div&gt;</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">            `</span>)</span></span><br><span class="line"><span class="language-javascript">            .<span class="title function_">join</span>(<span class="string">''</span>);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        historyElement.<span class="property">innerHTML</span> = historyHtml;</span></span><br><span class="line"><span class="language-javascript">    }</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 清除位置历史</span></span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">clearPositionHistory</span>(<span class="params"></span>) {</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">this</span>.<span class="property">positionHistory</span> = [];</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">this</span>.<span class="title function_">updatePositionHistory</span>();</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">this</span>.<span class="title function_">showStatus</span>(<span class="string">'位置历史已清除'</span>, <span class="string">'success'</span>);</span></span><br><span class="line"><span class="language-javascript">    }</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 显示状态</span></span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">showStatus</span>(<span class="params">message, type</span>) {</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> statusElement = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">'location-status'</span>);</span></span><br><span class="line"><span class="language-javascript">        statusElement.<span class="property">textContent</span> = message;</span></span><br><span class="line"><span class="language-javascript">        statusElement.<span class="property">className</span> = <span class="string">`status-display <span class="subst">${type}</span>`</span>;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 3秒后清除状态（除了loading状态）</span></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">if</span> (type !== <span class="string">'loading'</span>) {</span></span><br><span class="line"><span class="language-javascript">            <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> {</span></span><br><span class="line"><span class="language-javascript">                statusElement.<span class="property">textContent</span> = <span class="string">''</span>;</span></span><br><span class="line"><span class="language-javascript">                statusElement.<span class="property">className</span> = <span class="string">'status-display'</span>;</span></span><br><span class="line"><span class="language-javascript">            }, <span class="number">3000</span>);</span></span><br><span class="line"><span class="language-javascript">        }</span></span><br><span class="line"><span class="language-javascript">    }</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 清除位置信息</span></span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">clearLocationInfo</span>(<span class="params"></span>) {</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">'location-info'</span>).<span class="property">innerHTML</span> = <span class="string">''</span>;</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">'location-map'</span>).<span class="property">innerHTML</span> = <span class="string">''</span>;</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">this</span>.<span class="title function_">showStatus</span>(<span class="string">'位置信息已清除'</span>, <span class="string">'success'</span>);</span></span><br><span class="line"><span class="language-javascript">    }</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 计算两点间距离（使用Haversine公式）</span></span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">calculateDistance</span>(<span class="params">lat1, lng1, lat2, lng2</span>) {</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> R = <span class="number">6371</span>; <span class="comment">// 地球半径（公里）</span></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> dLat = <span class="variable language_">this</span>.<span class="title function_">toRadians</span>(lat2 - lat1);</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> dLng = <span class="variable language_">this</span>.<span class="title function_">toRadians</span>(lng2 - lng1);</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> a = <span class="title class_">Math</span>.<span class="title function_">sin</span>(dLat / <span class="number">2</span>) * <span class="title class_">Math</span>.<span class="title function_">sin</span>(dLat / <span class="number">2</span>) +</span></span><br><span class="line"><span class="language-javascript">                  <span class="title class_">Math</span>.<span class="title function_">cos</span>(<span class="variable language_">this</span>.<span class="title function_">toRadians</span>(lat1)) * <span class="title class_">Math</span>.<span class="title function_">cos</span>(<span class="variable language_">this</span>.<span class="title function_">toRadians</span>(lat2)) *</span></span><br><span class="line"><span class="language-javascript">                  <span class="title class_">Math</span>.<span class="title function_">sin</span>(dLng / <span class="number">2</span>) * <span class="title class_">Math</span>.<span class="title function_">sin</span>(dLng / <span class="number">2</span>);</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> c = <span class="number">2</span> * <span class="title class_">Math</span>.<span class="title function_">atan2</span>(<span class="title class_">Math</span>.<span class="title function_">sqrt</span>(a), <span class="title class_">Math</span>.<span class="title function_">sqrt</span>(<span class="number">1</span> - a));</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">return</span> R * c;</span></span><br><span class="line"><span class="language-javascript">    }</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">toRadians</span>(<span class="params">degrees</span>) {</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">return</span> degrees * (<span class="title class_">Math</span>.<span class="property">PI</span> / <span class="number">180</span>);</span></span><br><span class="line"><span class="language-javascript">    }</span></span><br><span class="line"><span class="language-javascript">}</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="comment">// 全局函数</span></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">let</span> geolocationManager;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="variable language_">document</span>.<span class="title function_">addEventListener</span>(<span class="string">'DOMContentLoaded'</span>, <span class="keyword">function</span>(<span class="params"></span>) {</span></span><br><span class="line"><span class="language-javascript">    geolocationManager = <span class="keyword">new</span> <span class="title class_">GeolocationManager</span>();</span></span><br><span class="line"><span class="language-javascript">});</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">function</span> <span class="title function_">getCurrentPosition</span>(<span class="params"></span>) { geolocationManager.<span class="title function_">getCurrentPosition</span>(); }</span></span><br><span class="line"><span class="language-javascript"><span class="keyword">function</span> <span class="title function_">watchPosition</span>(<span class="params"></span>) { geolocationManager.<span class="title function_">watchPosition</span>(); }</span></span><br><span class="line"><span class="language-javascript"><span class="keyword">function</span> <span class="title function_">stopWatching</span>(<span class="params"></span>) { geolocationManager.<span class="title function_">stopWatching</span>(); }</span></span><br><span class="line"><span class="language-javascript"><span class="keyword">function</span> <span class="title function_">clearLocationInfo</span>(<span class="params"></span>) { geolocationManager.<span class="title function_">clearLocationInfo</span>(); }</span></span><br><span class="line"><span class="language-javascript"><span class="keyword">function</span> <span class="title function_">clearPositionHistory</span>(<span class="params"></span>) { geolocationManager.<span class="title function_">clearPositionHistory</span>(); }</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>

<h2 id="（三）拖拽API"><a href="#（三）拖拽API" class="headerlink" title="（三）拖拽API"></a>（三）拖拽API</h2><p><strong>HTML5拖拽功能：</strong></p>
<figure class="highlight html"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- HTML5拖拽API：实现拖拽交互功能 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">section</span> <span class="attr">class</span>=<span class="string">"drag-drop-demo"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>拖拽API演示<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 基础拖拽示例 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"drag-container"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h3</span>&gt;</span>基础拖拽<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"drag-source-area"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"draggable-item"</span> <span class="attr">draggable</span>=<span class="string">"true"</span> <span class="attr">data-value</span>=<span class="string">"item1"</span>&gt;</span></span><br><span class="line">                📦 可拖拽项目 1</span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"draggable-item"</span> <span class="attr">draggable</span>=<span class="string">"true"</span> <span class="attr">data-value</span>=<span class="string">"item2"</span>&gt;</span></span><br><span class="line">                📋 可拖拽项目 2</span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"draggable-item"</span> <span class="attr">draggable</span>=<span class="string">"true"</span> <span class="attr">data-value</span>=<span class="string">"item3"</span>&gt;</span></span><br><span class="line">                📄 可拖拽项目 3</span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"drop-zones"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"drop-zone"</span> <span class="attr">data-zone</span>=<span class="string">"zone1"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">h4</span>&gt;</span>放置区域 1<span class="tag">&lt;/<span class="name">h4</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"drop-content"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"drop-zone"</span> <span class="attr">data-zone</span>=<span class="string">"zone2"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">h4</span>&gt;</span>放置区域 2<span class="tag">&lt;/<span class="name">h4</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"drop-content"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 文件拖拽上传 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"file-drop-container"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h3</span>&gt;</span>文件拖拽上传<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"file-drop-zone"</span> <span class="attr">class</span>=<span class="string">"file-drop-zone"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"drop-message"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">p</span>&gt;</span>📁 将文件拖拽到此处上传<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">p</span>&gt;</span>或点击选择文件<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"file"</span> <span class="attr">id</span>=<span class="string">"file-input"</span> <span class="attr">multiple</span> <span class="attr">style</span>=<span class="string">"display: none;"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">button</span> <span class="attr">onclick</span>=<span class="string">"document.getElementById('file-input').click()"</span>&gt;</span>选择文件<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"file-preview"</span> <span class="attr">class</span>=<span class="string">"file-preview"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"upload-progress"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"upload-status"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">progress</span> <span class="attr">id</span>=<span class="string">"file-upload-progress"</span> <span class="attr">value</span>=<span class="string">"0"</span> <span class="attr">max</span>=<span class="string">"100"</span> <span class="attr">style</span>=<span class="string">"display: none;"</span>&gt;</span><span class="tag">&lt;/<span class="name">progress</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 排序列表 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"sortable-container"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h3</span>&gt;</span>可排序列表<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ul</span> <span class="attr">id</span>=<span class="string">"sortable-list"</span> <span class="attr">class</span>=<span class="string">"sortable-list"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span> <span class="attr">draggable</span>=<span class="string">"true"</span> <span class="attr">data-id</span>=<span class="string">"1"</span>&gt;</span>📌 任务项目 1<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span> <span class="attr">draggable</span>=<span class="string">"true"</span> <span class="attr">data-id</span>=<span class="string">"2"</span>&gt;</span>📌 任务项目 2<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span> <span class="attr">draggable</span>=<span class="string">"true"</span> <span class="attr">data-id</span>=<span class="string">"3"</span>&gt;</span>📌 任务项目 3<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span> <span class="attr">draggable</span>=<span class="string">"true"</span> <span class="attr">data-id</span>=<span class="string">"4"</span>&gt;</span>📌 任务项目 4<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span> <span class="attr">draggable</span>=<span class="string">"true"</span> <span class="attr">data-id</span>=<span class="string">"5"</span>&gt;</span>📌 任务项目 5<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">onclick</span>=<span class="string">"resetSortableList()"</span>&gt;</span>重置列表<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">section</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="comment">// 拖拽功能管理类</span></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">class</span> <span class="title class_">DragDropManager</span> {</span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">constructor</span>(<span class="params"></span>) {</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">this</span>.<span class="property">draggedElement</span> = <span class="literal">null</span>;</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">this</span>.<span class="property">draggedData</span> = <span class="literal">null</span>;</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">this</span>.<span class="title function_">initBasicDragDrop</span>();</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">this</span>.<span class="title function_">initFileDragDrop</span>();</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">this</span>.<span class="title function_">initSortableList</span>();</span></span><br><span class="line"><span class="language-javascript">    }</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 初始化基础拖拽功能</span></span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">initBasicDragDrop</span>(<span class="params"></span>) {</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 拖拽源元素事件</span></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> draggableItems = <span class="variable language_">document</span>.<span class="title function_">querySelectorAll</span>(<span class="string">'.draggable-item'</span>);</span></span><br><span class="line"><span class="language-javascript">        draggableItems.<span class="title function_">forEach</span>(<span class="function"><span class="params">item</span> =&gt;</span> {</span></span><br><span class="line"><span class="language-javascript">            item.<span class="title function_">addEventListener</span>(<span class="string">'dragstart'</span>, <span class="function">(<span class="params">e</span>) =&gt;</span> {</span></span><br><span class="line"><span class="language-javascript">                <span class="variable language_">this</span>.<span class="property">draggedElement</span> = e.<span class="property">target</span>;</span></span><br><span class="line"><span class="language-javascript">                <span class="variable language_">this</span>.<span class="property">draggedData</span> = e.<span class="property">target</span>.<span class="property">dataset</span>.<span class="property">value</span>;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// 设置拖拽数据</span></span></span><br><span class="line"><span class="language-javascript">                e.<span class="property">dataTransfer</span>.<span class="title function_">setData</span>(<span class="string">'text/plain'</span>, <span class="variable language_">this</span>.<span class="property">draggedData</span>);</span></span><br><span class="line"><span class="language-javascript">                e.<span class="property">dataTransfer</span>.<span class="property">effectAllowed</span> = <span class="string">'move'</span>;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// 添加拖拽样式</span></span></span><br><span class="line"><span class="language-javascript">                e.<span class="property">target</span>.<span class="property">classList</span>.<span class="title function_">add</span>(<span class="string">'dragging'</span>);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">'开始拖拽:'</span>, <span class="variable language_">this</span>.<span class="property">draggedData</span>);</span></span><br><span class="line"><span class="language-javascript">            });</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            item.<span class="title function_">addEventListener</span>(<span class="string">'dragend'</span>, <span class="function">(<span class="params">e</span>) =&gt;</span> {</span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// 移除拖拽样式</span></span></span><br><span class="line"><span class="language-javascript">                e.<span class="property">target</span>.<span class="property">classList</span>.<span class="title function_">remove</span>(<span class="string">'dragging'</span>);</span></span><br><span class="line"><span class="language-javascript">                <span class="variable language_">this</span>.<span class="property">draggedElement</span> = <span class="literal">null</span>;</span></span><br><span class="line"><span class="language-javascript">                <span class="variable language_">this</span>.<span class="property">draggedData</span> = <span class="literal">null</span>;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">'拖拽结束'</span>);</span></span><br><span class="line"><span class="language-javascript">            });</span></span><br><span class="line"><span class="language-javascript">        });</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 放置区域事件</span></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> dropZones = <span class="variable language_">document</span>.<span class="title function_">querySelectorAll</span>(<span class="string">'.drop-zone'</span>);</span></span><br><span class="line"><span class="language-javascript">        dropZones.<span class="title function_">forEach</span>(<span class="function"><span class="params">zone</span> =&gt;</span> {</span></span><br><span class="line"><span class="language-javascript">            zone.<span class="title function_">addEventListener</span>(<span class="string">'dragover'</span>, <span class="function">(<span class="params">e</span>) =&gt;</span> {</span></span><br><span class="line"><span class="language-javascript">                e.<span class="title function_">preventDefault</span>(); <span class="comment">// 允许放置</span></span></span><br><span class="line"><span class="language-javascript">                e.<span class="property">dataTransfer</span>.<span class="property">dropEffect</span> = <span class="string">'move'</span>;</span></span><br><span class="line"><span class="language-javascript">                zone.<span class="property">classList</span>.<span class="title function_">add</span>(<span class="string">'drag-over'</span>);</span></span><br><span class="line"><span class="language-javascript">            });</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            zone.<span class="title function_">addEventListener</span>(<span class="string">'dragleave'</span>, <span class="function">(<span class="params">e</span>) =&gt;</span> {</span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// 检查是否真的离开了放置区域</span></span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">if</span> (!zone.<span class="title function_">contains</span>(e.<span class="property">relatedTarget</span>)) {</span></span><br><span class="line"><span class="language-javascript">                    zone.<span class="property">classList</span>.<span class="title function_">remove</span>(<span class="string">'drag-over'</span>);</span></span><br><span class="line"><span class="language-javascript">                }</span></span><br><span class="line"><span class="language-javascript">            });</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            zone.<span class="title function_">addEventListener</span>(<span class="string">'drop'</span>, <span class="function">(<span class="params">e</span>) =&gt;</span> {</span></span><br><span class="line"><span class="language-javascript">                e.<span class="title function_">preventDefault</span>();</span></span><br><span class="line"><span class="language-javascript">                zone.<span class="property">classList</span>.<span class="title function_">remove</span>(<span class="string">'drag-over'</span>);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">const</span> data = e.<span class="property">dataTransfer</span>.<span class="title function_">getData</span>(<span class="string">'text/plain'</span>);</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">const</span> dropContent = zone.<span class="title function_">querySelector</span>(<span class="string">'.drop-content'</span>);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">if</span> (data &amp;&amp; <span class="variable language_">this</span>.<span class="property">draggedElement</span>) {</span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">// 创建放置的元素副本</span></span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">const</span> droppedItem = <span class="variable language_">this</span>.<span class="property">draggedElement</span>.<span class="title function_">cloneNode</span>(<span class="literal">true</span>);</span></span><br><span class="line"><span class="language-javascript">                    droppedItem.<span class="property">classList</span>.<span class="title function_">remove</span>(<span class="string">'dragging'</span>);</span></span><br><span class="line"><span class="language-javascript">                    droppedItem.<span class="property">classList</span>.<span class="title function_">add</span>(<span class="string">'dropped-item'</span>);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">// 添加删除按钮</span></span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">const</span> removeBtn = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">'button'</span>);</span></span><br><span class="line"><span class="language-javascript">                    removeBtn.<span class="property">textContent</span> = <span class="string">'×'</span>;</span></span><br><span class="line"><span class="language-javascript">                    removeBtn.<span class="property">className</span> = <span class="string">'remove-btn'</span>;</span></span><br><span class="line"><span class="language-javascript">                    removeBtn.<span class="property">onclick</span> = <span class="function">() =&gt;</span> droppedItem.<span class="title function_">remove</span>();</span></span><br><span class="line"><span class="language-javascript">                    droppedItem.<span class="title function_">appendChild</span>(removeBtn);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                    dropContent.<span class="title function_">appendChild</span>(droppedItem);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`项目 <span class="subst">${data}</span> 被放置到 <span class="subst">${zone.dataset.zone}</span>`</span>);</span></span><br><span class="line"><span class="language-javascript">                }</span></span><br><span class="line"><span class="language-javascript">            });</span></span><br><span class="line"><span class="language-javascript">        });</span></span><br><span class="line"><span class="language-javascript">    }</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 初始化文件拖拽上传</span></span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">initFileDragDrop</span>(<span class="params"></span>) {</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> fileDropZone = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">'file-drop-zone'</span>);</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> fileInput = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">'file-input'</span>);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 文件输入变化事件</span></span></span><br><span class="line"><span class="language-javascript">        fileInput.<span class="title function_">addEventListener</span>(<span class="string">'change'</span>, <span class="function">(<span class="params">e</span>) =&gt;</span> {</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">this</span>.<span class="title function_">handleFiles</span>(e.<span class="property">target</span>.<span class="property">files</span>);</span></span><br><span class="line"><span class="language-javascript">        });</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 拖拽事件</span></span></span><br><span class="line"><span class="language-javascript">        fileDropZone.<span class="title function_">addEventListener</span>(<span class="string">'dragover'</span>, <span class="function">(<span class="params">e</span>) =&gt;</span> {</span></span><br><span class="line"><span class="language-javascript">            e.<span class="title function_">preventDefault</span>();</span></span><br><span class="line"><span class="language-javascript">            e.<span class="property">dataTransfer</span>.<span class="property">dropEffect</span> = <span class="string">'copy'</span>;</span></span><br><span class="line"><span class="language-javascript">            fileDropZone.<span class="property">classList</span>.<span class="title function_">add</span>(<span class="string">'drag-over'</span>);</span></span><br><span class="line"><span class="language-javascript">        });</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        fileDropZone.<span class="title function_">addEventListener</span>(<span class="string">'dragleave'</span>, <span class="function">(<span class="params">e</span>) =&gt;</span> {</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">if</span> (!fileDropZone.<span class="title function_">contains</span>(e.<span class="property">relatedTarget</span>)) {</span></span><br><span class="line"><span class="language-javascript">                fileDropZone.<span class="property">classList</span>.<span class="title function_">remove</span>(<span class="string">'drag-over'</span>);</span></span><br><span class="line"><span class="language-javascript">            }</span></span><br><span class="line"><span class="language-javascript">        });</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        fileDropZone.<span class="title function_">addEventListener</span>(<span class="string">'drop'</span>, <span class="function">(<span class="params">e</span>) =&gt;</span> {</span></span><br><span class="line"><span class="language-javascript">            e.<span class="title function_">preventDefault</span>();</span></span><br><span class="line"><span class="language-javascript">            fileDropZone.<span class="property">classList</span>.<span class="title function_">remove</span>(<span class="string">'drag-over'</span>);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">const</span> files = e.<span class="property">dataTransfer</span>.<span class="property">files</span>;</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">this</span>.<span class="title function_">handleFiles</span>(files);</span></span><br><span class="line"><span class="language-javascript">        });</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 防止页面默认的拖拽行为</span></span></span><br><span class="line"><span class="language-javascript">        [<span class="string">'dragenter'</span>, <span class="string">'dragover'</span>, <span class="string">'dragleave'</span>, <span class="string">'drop'</span>].<span class="title function_">forEach</span>(<span class="function"><span class="params">eventName</span> =&gt;</span> {</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">document</span>.<span class="title function_">addEventListener</span>(eventName, <span class="function">(<span class="params">e</span>) =&gt;</span> {</span></span><br><span class="line"><span class="language-javascript">                e.<span class="title function_">preventDefault</span>();</span></span><br><span class="line"><span class="language-javascript">                e.<span class="title function_">stopPropagation</span>();</span></span><br><span class="line"><span class="language-javascript">            });</span></span><br><span class="line"><span class="language-javascript">        });</span></span><br><span class="line"><span class="language-javascript">    }</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 处理文件</span></span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">handleFiles</span>(<span class="params">files</span>) {</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> filePreview = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">'file-preview'</span>);</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> uploadStatus = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">'upload-status'</span>);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">if</span> (files.<span class="property">length</span> === <span class="number">0</span>) <span class="keyword">return</span>;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        filePreview.<span class="property">innerHTML</span> = <span class="string">''</span>;</span></span><br><span class="line"><span class="language-javascript">        uploadStatus.<span class="property">innerHTML</span> = <span class="string">''</span>;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="title class_">Array</span>.<span class="title function_">from</span>(files).<span class="title function_">forEach</span>(<span class="function">(<span class="params">file, index</span>) =&gt;</span> {</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// 创建文件预览项</span></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">const</span> fileItem = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">'div'</span>);</span></span><br><span class="line"><span class="language-javascript">            fileItem.<span class="property">className</span> = <span class="string">'file-item'</span>;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// 文件信息</span></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">const</span> fileInfo = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">'div'</span>);</span></span><br><span class="line"><span class="language-javascript">            fileInfo.<span class="property">className</span> = <span class="string">'file-info'</span>;</span></span><br><span class="line"><span class="language-javascript">            fileInfo.<span class="property">innerHTML</span> = <span class="string">`</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">                &lt;div class="file-name"&gt;<span class="subst">${file.name}</span>&lt;/div&gt;</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">                &lt;div class="file-details"&gt;</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">                    大小: <span class="subst">${<span class="variable language_">this</span>.formatFileSize(file.size)}</span> |</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">                    类型: <span class="subst">${file.type || <span class="string">'未知'</span>}</span> |</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">                    修改时间: <span class="subst">${<span class="keyword">new</span> <span class="built_in">Date</span>(file.lastModified).toLocaleString()}</span></span></span></span><br><span class="line"><span class="string"><span class="language-javascript">                &lt;/div&gt;</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">            `</span>;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// 文件预览</span></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">const</span> filePreviewElement = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">'div'</span>);</span></span><br><span class="line"><span class="language-javascript">            filePreviewElement.<span class="property">className</span> = <span class="string">'file-preview-content'</span>;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">if</span> (file.<span class="property">type</span>.<span class="title function_">startsWith</span>(<span class="string">'image/'</span>)) {</span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// 图片预览</span></span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">const</span> img = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">'img'</span>);</span></span><br><span class="line"><span class="language-javascript">                img.<span class="property">style</span>.<span class="property">maxWidth</span> = <span class="string">'200px'</span>;</span></span><br><span class="line"><span class="language-javascript">                img.<span class="property">style</span>.<span class="property">maxHeight</span> = <span class="string">'200px'</span>;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">const</span> reader = <span class="keyword">new</span> <span class="title class_">FileReader</span>();</span></span><br><span class="line"><span class="language-javascript">                reader.<span class="property">onload</span> = <span class="function">(<span class="params">e</span>) =&gt;</span> {</span></span><br><span class="line"><span class="language-javascript">                    img.<span class="property">src</span> = e.<span class="property">target</span>.<span class="property">result</span>;</span></span><br><span class="line"><span class="language-javascript">                };</span></span><br><span class="line"><span class="language-javascript">                reader.<span class="title function_">readAsDataURL</span>(file);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                filePreviewElement.<span class="title function_">appendChild</span>(img);</span></span><br><span class="line"><span class="language-javascript">            } <span class="keyword">else</span> <span class="keyword">if</span> (file.<span class="property">type</span>.<span class="title function_">startsWith</span>(<span class="string">'text/'</span>)) {</span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// 文本文件预览</span></span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">const</span> reader = <span class="keyword">new</span> <span class="title class_">FileReader</span>();</span></span><br><span class="line"><span class="language-javascript">                reader.<span class="property">onload</span> = <span class="function">(<span class="params">e</span>) =&gt;</span> {</span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">const</span> pre = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">'pre'</span>);</span></span><br><span class="line"><span class="language-javascript">                    pre.<span class="property">textContent</span> = e.<span class="property">target</span>.<span class="property">result</span>.<span class="title function_">substring</span>(<span class="number">0</span>, <span class="number">500</span>) +</span></span><br><span class="line"><span class="language-javascript">                                     (e.<span class="property">target</span>.<span class="property">result</span>.<span class="property">length</span> &gt; <span class="number">500</span> ? <span class="string">'...'</span> : <span class="string">''</span>);</span></span><br><span class="line"><span class="language-javascript">                    pre.<span class="property">style</span>.<span class="property">maxHeight</span> = <span class="string">'200px'</span>;</span></span><br><span class="line"><span class="language-javascript">                    pre.<span class="property">style</span>.<span class="property">overflow</span> = <span class="string">'auto'</span>;</span></span><br><span class="line"><span class="language-javascript">                    filePreviewElement.<span class="title function_">appendChild</span>(pre);</span></span><br><span class="line"><span class="language-javascript">                };</span></span><br><span class="line"><span class="language-javascript">                reader.<span class="title function_">readAsText</span>(file);</span></span><br><span class="line"><span class="language-javascript">            } <span class="keyword">else</span> {</span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// 其他文件类型</span></span></span><br><span class="line"><span class="language-javascript">                filePreviewElement.<span class="property">innerHTML</span> = <span class="string">`</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">                    &lt;div class="file-icon"&gt;📄&lt;/div&gt;</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">                    &lt;div&gt;无法预览此文件类型&lt;/div&gt;</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">                `</span>;</span></span><br><span class="line"><span class="language-javascript">            }</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            fileItem.<span class="title function_">appendChild</span>(fileInfo);</span></span><br><span class="line"><span class="language-javascript">            fileItem.<span class="title function_">appendChild</span>(filePreviewElement);</span></span><br><span class="line"><span class="language-javascript">            filePreview.<span class="title function_">appendChild</span>(fileItem);</span></span><br><span class="line"><span class="language-javascript">        });</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 模拟文件上传</span></span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">this</span>.<span class="title function_">simulateFileUpload</span>(files);</span></span><br><span class="line"><span class="language-javascript">    }</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 模拟文件上传</span></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">async</span> <span class="title function_">simulateFileUpload</span>(<span class="params">files</span>) {</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> uploadStatus = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">'upload-status'</span>);</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> progressBar = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">'file-upload-progress'</span>);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        uploadStatus.<span class="property">innerHTML</span> = <span class="string">`正在上传 <span class="subst">${files.length}</span> 个文件...`</span>;</span></span><br><span class="line"><span class="language-javascript">        progressBar.<span class="property">style</span>.<span class="property">display</span> = <span class="string">'block'</span>;</span></span><br><span class="line"><span class="language-javascript">        progressBar.<span class="property">value</span> = <span class="number">0</span>;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; files.<span class="property">length</span>; i++) {</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">const</span> file = files[i];</span></span><br><span class="line"><span class="language-javascript">            uploadStatus.<span class="property">innerHTML</span> = <span class="string">`正在上传: <span class="subst">${file.name}</span> (<span class="subst">${i + <span class="number">1</span>}</span>/<span class="subst">${files.length}</span>)`</span>;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// 模拟上传进度</span></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">for</span> (<span class="keyword">let</span> progress = <span class="number">0</span>; progress &lt;= <span class="number">100</span>; progress += <span class="number">10</span>) {</span></span><br><span class="line"><span class="language-javascript">                progressBar.<span class="property">value</span> = progress;</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">await</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function"><span class="params">resolve</span> =&gt;</span> <span class="built_in">setTimeout</span>(resolve, <span class="number">100</span>));</span></span><br><span class="line"><span class="language-javascript">            }</span></span><br><span class="line"><span class="language-javascript">        }</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        uploadStatus.<span class="property">innerHTML</span> = <span class="string">`✅ 成功上传 <span class="subst">${files.length}</span> 个文件`</span>;</span></span><br><span class="line"><span class="language-javascript">        progressBar.<span class="property">style</span>.<span class="property">display</span> = <span class="string">'none'</span>;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> {</span></span><br><span class="line"><span class="language-javascript">            uploadStatus.<span class="property">innerHTML</span> = <span class="string">''</span>;</span></span><br><span class="line"><span class="language-javascript">        }, <span class="number">3000</span>);</span></span><br><span class="line"><span class="language-javascript">    }</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 初始化可排序列表</span></span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">initSortableList</span>(<span class="params"></span>) {</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> sortableList = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">'sortable-list'</span>);</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">let</span> draggedItem = <span class="literal">null</span>;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        sortableList.<span class="title function_">addEventListener</span>(<span class="string">'dragstart'</span>, <span class="function">(<span class="params">e</span>) =&gt;</span> {</span></span><br><span class="line"><span class="language-javascript">            draggedItem = e.<span class="property">target</span>;</span></span><br><span class="line"><span class="language-javascript">            e.<span class="property">target</span>.<span class="property">classList</span>.<span class="title function_">add</span>(<span class="string">'dragging'</span>);</span></span><br><span class="line"><span class="language-javascript">            e.<span class="property">dataTransfer</span>.<span class="property">effectAllowed</span> = <span class="string">'move'</span>;</span></span><br><span class="line"><span class="language-javascript">        });</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        sortableList.<span class="title function_">addEventListener</span>(<span class="string">'dragend'</span>, <span class="function">(<span class="params">e</span>) =&gt;</span> {</span></span><br><span class="line"><span class="language-javascript">            e.<span class="property">target</span>.<span class="property">classList</span>.<span class="title function_">remove</span>(<span class="string">'dragging'</span>);</span></span><br><span class="line"><span class="language-javascript">            draggedItem = <span class="literal">null</span>;</span></span><br><span class="line"><span class="language-javascript">        });</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        sortableList.<span class="title function_">addEventListener</span>(<span class="string">'dragover'</span>, <span class="function">(<span class="params">e</span>) =&gt;</span> {</span></span><br><span class="line"><span class="language-javascript">            e.<span class="title function_">preventDefault</span>();</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">const</span> afterElement = <span class="variable language_">this</span>.<span class="title function_">getDragAfterElement</span>(sortableList, e.<span class="property">clientY</span>);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">if</span> (afterElement == <span class="literal">null</span>) {</span></span><br><span class="line"><span class="language-javascript">                sortableList.<span class="title function_">appendChild</span>(draggedItem);</span></span><br><span class="line"><span class="language-javascript">            } <span class="keyword">else</span> {</span></span><br><span class="line"><span class="language-javascript">                sortableList.<span class="title function_">insertBefore</span>(draggedItem, afterElement);</span></span><br><span class="line"><span class="language-javascript">            }</span></span><br><span class="line"><span class="language-javascript">        });</span></span><br><span class="line"><span class="language-javascript">    }</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 获取拖拽后的插入位置</span></span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">getDragAfterElement</span>(<span class="params">container, y</span>) {</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> draggableElements = [...container.<span class="title function_">querySelectorAll</span>(<span class="string">'li:not(.dragging)'</span>)];</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">return</span> draggableElements.<span class="title function_">reduce</span>(<span class="function">(<span class="params">closest, child</span>) =&gt;</span> {</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">const</span> box = child.<span class="title function_">getBoundingClientRect</span>();</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">const</span> offset = y - box.<span class="property">top</span> - box.<span class="property">height</span> / <span class="number">2</span>;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">if</span> (offset &lt; <span class="number">0</span> &amp;&amp; offset &gt; closest.<span class="property">offset</span>) {</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">return</span> { <span class="attr">offset</span>: offset, <span class="attr">element</span>: child };</span></span><br><span class="line"><span class="language-javascript">            } <span class="keyword">else</span> {</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">return</span> closest;</span></span><br><span class="line"><span class="language-javascript">            }</span></span><br><span class="line"><span class="language-javascript">        }, { <span class="attr">offset</span>: <span class="title class_">Number</span>.<span class="property">NEGATIVE_INFINITY</span> }).<span class="property">element</span>;</span></span><br><span class="line"><span class="language-javascript">    }</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 格式化文件大小</span></span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">formatFileSize</span>(<span class="params">bytes</span>) {</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">if</span> (bytes === <span class="number">0</span>) <span class="keyword">return</span> <span class="string">'0 B'</span>;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> k = <span class="number">1024</span>;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> sizes = [<span class="string">'B'</span>, <span class="string">'KB'</span>, <span class="string">'MB'</span>, <span class="string">'GB'</span>];</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> i = <span class="title class_">Math</span>.<span class="title function_">floor</span>(<span class="title class_">Math</span>.<span class="title function_">log</span>(bytes) / <span class="title class_">Math</span>.<span class="title function_">log</span>(k));</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">return</span> <span class="built_in">parseFloat</span>((bytes / <span class="title class_">Math</span>.<span class="title function_">pow</span>(k, i)).<span class="title function_">toFixed</span>(<span class="number">2</span>)) + <span class="string">' '</span> + sizes[i];</span></span><br><span class="line"><span class="language-javascript">    }</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 重置排序列表</span></span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">resetSortableList</span>(<span class="params"></span>) {</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> sortableList = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">'sortable-list'</span>);</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> items = <span class="title class_">Array</span>.<span class="title function_">from</span>(sortableList.<span class="property">children</span>);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 按data-id排序</span></span></span><br><span class="line"><span class="language-javascript">        items.<span class="title function_">sort</span>(<span class="function">(<span class="params">a, b</span>) =&gt;</span> {</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">return</span> <span class="built_in">parseInt</span>(a.<span class="property">dataset</span>.<span class="property">id</span>) - <span class="built_in">parseInt</span>(b.<span class="property">dataset</span>.<span class="property">id</span>);</span></span><br><span class="line"><span class="language-javascript">        });</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 重新排列</span></span></span><br><span class="line"><span class="language-javascript">        items.<span class="title function_">forEach</span>(<span class="function"><span class="params">item</span> =&gt;</span> {</span></span><br><span class="line"><span class="language-javascript">            sortableList.<span class="title function_">appendChild</span>(item);</span></span><br><span class="line"><span class="language-javascript">        });</span></span><br><span class="line"><span class="language-javascript">    }</span></span><br><span class="line"><span class="language-javascript">}</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="comment">// 全局函数</span></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">let</span> dragDropManager;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="variable language_">document</span>.<span class="title function_">addEventListener</span>(<span class="string">'DOMContentLoaded'</span>, <span class="keyword">function</span>(<span class="params"></span>) {</span></span><br><span class="line"><span class="language-javascript">    dragDropManager = <span class="keyword">new</span> <span class="title class_">DragDropManager</span>();</span></span><br><span class="line"><span class="language-javascript">});</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">function</span> <span class="title function_">resetSortableList</span>(<span class="params"></span>) {</span></span><br><span class="line"><span class="language-javascript">    dragDropManager.<span class="title function_">resetSortableList</span>();</span></span><br><span class="line"><span class="language-javascript">}</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>

<h1 id="四、HTML5最佳实践与性能优化"><a href="#四、HTML5最佳实践与性能优化" class="headerlink" title="四、HTML5最佳实践与性能优化"></a>四、HTML5最佳实践与性能优化</h1><h2 id="（一）语义化和可访问性"><a href="#（一）语义化和可访问性" class="headerlink" title="（一）语义化和可访问性"></a>（一）语义化和可访问性</h2><p><strong>语义化HTML最佳实践：</strong></p>
<figure class="highlight html"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 语义化HTML：提供更好的结构和可访问性 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">article</span> <span class="attr">class</span>=<span class="string">"blog-post"</span> <span class="attr">itemscope</span> <span class="attr">itemtype</span>=<span class="string">"http://schema.org/BlogPosting"</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 结构化数据：帮助搜索引擎理解内容 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">header</span> <span class="attr">class</span>=<span class="string">"post-header"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h1</span> <span class="attr">itemprop</span>=<span class="string">"headline"</span>&gt;</span>HTML5最佳实践指南<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"post-meta"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">time</span> <span class="attr">itemprop</span>=<span class="string">"datePublished"</span> <span class="attr">datetime</span>=<span class="string">"2025-01-29T10:00:00Z"</span>&gt;</span></span><br><span class="line">                2025年1月29日</span><br><span class="line">            <span class="tag">&lt;/<span class="name">time</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">address</span> <span class="attr">class</span>=<span class="string">"author"</span> <span class="attr">itemprop</span>=<span class="string">"author"</span> <span class="attr">itemscope</span> <span class="attr">itemtype</span>=<span class="string">"http://schema.org/Person"</span>&gt;</span></span><br><span class="line">                作者：<span class="tag">&lt;<span class="name">span</span> <span class="attr">itemprop</span>=<span class="string">"name"</span>&gt;</span>张三<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">address</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"post-tags"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">span</span> <span class="attr">itemprop</span>=<span class="string">"keywords"</span>&gt;</span>HTML5, Web开发, 前端技术<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">header</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 文章内容 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"post-content"</span> <span class="attr">itemprop</span>=<span class="string">"articleBody"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">section</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">h2</span>&gt;</span>可访问性增强<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">&lt;!-- 正确的表单标签关联 --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">form</span> <span class="attr">class</span>=<span class="string">"accessible-form"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">fieldset</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">legend</span>&gt;</span>用户信息<span class="tag">&lt;/<span class="name">legend</span>&gt;</span></span><br><span class="line"></span><br><span class="line">                    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"form-group"</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">"user-name"</span>&gt;</span>姓名（必填）：<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">input</span></span></span><br><span class="line"><span class="tag">                            <span class="attr">type</span>=<span class="string">"text"</span></span></span><br><span class="line"><span class="tag">                            <span class="attr">id</span>=<span class="string">"user-name"</span></span></span><br><span class="line"><span class="tag">                            <span class="attr">name</span>=<span class="string">"userName"</span></span></span><br><span class="line"><span class="tag">                            <span class="attr">required</span></span></span><br><span class="line"><span class="tag">                            <span class="attr">aria-describedby</span>=<span class="string">"name-help"</span></span></span><br><span class="line"><span class="tag">                            <span class="attr">aria-invalid</span>=<span class="string">"false"</span></span></span><br><span class="line"><span class="tag">                        &gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"name-help"</span> <span class="attr">class</span>=<span class="string">"help-text"</span>&gt;</span></span><br><span class="line">                            请输入您的真实姓名</span><br><span class="line">                        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">                    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"form-group"</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">"user-email"</span>&gt;</span>邮箱：<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">input</span></span></span><br><span class="line"><span class="tag">                            <span class="attr">type</span>=<span class="string">"email"</span></span></span><br><span class="line"><span class="tag">                            <span class="attr">id</span>=<span class="string">"user-email"</span></span></span><br><span class="line"><span class="tag">                            <span class="attr">name</span>=<span class="string">"userEmail"</span></span></span><br><span class="line"><span class="tag">                            <span class="attr">aria-describedby</span>=<span class="string">"email-help"</span></span></span><br><span class="line"><span class="tag">                        &gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"email-help"</span> <span class="attr">class</span>=<span class="string">"help-text"</span>&gt;</span></span><br><span class="line">                            用于接收重要通知</span><br><span class="line">                        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">fieldset</span>&gt;</span></span><br><span class="line"></span><br><span class="line">                <span class="comment">&lt;!-- 按钮组：明确的操作意图 --&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"form-actions"</span> <span class="attr">role</span>=<span class="string">"group"</span> <span class="attr">aria-label</span>=<span class="string">"表单操作"</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">"submit"</span> <span class="attr">class</span>=<span class="string">"primary-btn"</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">span</span> <span class="attr">aria-hidden</span>=<span class="string">"true"</span>&gt;</span>✓<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">                        提交表单</span><br><span class="line">                    <span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">"reset"</span> <span class="attr">class</span>=<span class="string">"secondary-btn"</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">span</span> <span class="attr">aria-hidden</span>=<span class="string">"true"</span>&gt;</span>↺<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">                        重置表单</span><br><span class="line">                    <span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">&lt;!-- 导航菜单：正确的ARIA标签 --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">nav</span> <span class="attr">aria-label</span>=<span class="string">"主导航"</span> <span class="attr">class</span>=<span class="string">"main-navigation"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">ul</span> <span class="attr">role</span>=<span class="string">"menubar"</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">li</span> <span class="attr">role</span>=<span class="string">"none"</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#home"</span> <span class="attr">role</span>=<span class="string">"menuitem"</span> <span class="attr">aria-current</span>=<span class="string">"page"</span>&gt;</span>首页<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">li</span> <span class="attr">role</span>=<span class="string">"none"</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#about"</span> <span class="attr">role</span>=<span class="string">"menuitem"</span>&gt;</span>关于我们<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">li</span> <span class="attr">role</span>=<span class="string">"none"</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">button</span></span></span><br><span class="line"><span class="tag">                            <span class="attr">role</span>=<span class="string">"menuitem"</span></span></span><br><span class="line"><span class="tag">                            <span class="attr">aria-haspopup</span>=<span class="string">"true"</span></span></span><br><span class="line"><span class="tag">                            <span class="attr">aria-expanded</span>=<span class="string">"false"</span></span></span><br><span class="line"><span class="tag">                            <span class="attr">onclick</span>=<span class="string">"toggleSubmenu(this)"</span></span></span><br><span class="line"><span class="tag">                        &gt;</span></span><br><span class="line">                            产品服务</span><br><span class="line">                        <span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">ul</span> <span class="attr">role</span>=<span class="string">"menu"</span> <span class="attr">class</span>=<span class="string">"submenu"</span> <span class="attr">hidden</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">li</span> <span class="attr">role</span>=<span class="string">"none"</span>&gt;</span></span><br><span class="line">                                <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#web-dev"</span> <span class="attr">role</span>=<span class="string">"menuitem"</span>&gt;</span>网站开发<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">li</span> <span class="attr">role</span>=<span class="string">"none"</span>&gt;</span></span><br><span class="line">                                <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#app-dev"</span> <span class="attr">role</span>=<span class="string">"menuitem"</span>&gt;</span>应用开发<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">nav</span>&gt;</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">&lt;!-- 数据表格：完整的表格结构 --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">table</span> <span class="attr">class</span>=<span class="string">"data-table"</span> <span class="attr">role</span>=<span class="string">"table"</span> <span class="attr">aria-label</span>=<span class="string">"用户统计数据"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">caption</span>&gt;</span>2025年第一季度用户增长统计<span class="tag">&lt;/<span class="name">caption</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">thead</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">tr</span> <span class="attr">role</span>=<span class="string">"row"</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">th</span> <span class="attr">scope</span>=<span class="string">"col"</span> <span class="attr">role</span>=<span class="string">"columnheader"</span>&gt;</span>月份<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">th</span> <span class="attr">scope</span>=<span class="string">"col"</span> <span class="attr">role</span>=<span class="string">"columnheader"</span>&gt;</span>新增用户<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">th</span> <span class="attr">scope</span>=<span class="string">"col"</span> <span class="attr">role</span>=<span class="string">"columnheader"</span>&gt;</span>活跃用户<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">th</span> <span class="attr">scope</span>=<span class="string">"col"</span> <span class="attr">role</span>=<span class="string">"columnheader"</span>&gt;</span>增长率<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">thead</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">tbody</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">tr</span> <span class="attr">role</span>=<span class="string">"row"</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">th</span> <span class="attr">scope</span>=<span class="string">"row"</span> <span class="attr">role</span>=<span class="string">"rowheader"</span>&gt;</span>1月<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">td</span> <span class="attr">role</span>=<span class="string">"cell"</span>&gt;</span>1,250<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">td</span> <span class="attr">role</span>=<span class="string">"cell"</span>&gt;</span>8,900<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">td</span> <span class="attr">role</span>=<span class="string">"cell"</span>&gt;</span>+15.2%<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">tr</span> <span class="attr">role</span>=<span class="string">"row"</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">th</span> <span class="attr">scope</span>=<span class="string">"row"</span> <span class="attr">role</span>=<span class="string">"rowheader"</span>&gt;</span>2月<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">td</span> <span class="attr">role</span>=<span class="string">"cell"</span>&gt;</span>1,480<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">td</span> <span class="attr">role</span>=<span class="string">"cell"</span>&gt;</span>9,650<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">td</span> <span class="attr">role</span>=<span class="string">"cell"</span>&gt;</span>+18.4%<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">tbody</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">&lt;!-- 模态对话框：正确的焦点管理 --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span></span></span><br><span class="line"><span class="tag">                <span class="attr">id</span>=<span class="string">"modal-dialog"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">class</span>=<span class="string">"modal"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">role</span>=<span class="string">"dialog"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">aria-labelledby</span>=<span class="string">"modal-title"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">aria-describedby</span>=<span class="string">"modal-description"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">aria-hidden</span>=<span class="string">"true"</span></span></span><br><span class="line"><span class="tag">            &gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"modal-content"</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">header</span> <span class="attr">class</span>=<span class="string">"modal-header"</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">h2</span> <span class="attr">id</span>=<span class="string">"modal-title"</span>&gt;</span>确认操作<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">button</span></span></span><br><span class="line"><span class="tag">                            <span class="attr">class</span>=<span class="string">"modal-close"</span></span></span><br><span class="line"><span class="tag">                            <span class="attr">aria-label</span>=<span class="string">"关闭对话框"</span></span></span><br><span class="line"><span class="tag">                            <span class="attr">onclick</span>=<span class="string">"closeModal()"</span></span></span><br><span class="line"><span class="tag">                        &gt;</span></span><br><span class="line">                            ×</span><br><span class="line">                        <span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">header</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"modal-body"</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">p</span> <span class="attr">id</span>=<span class="string">"modal-description"</span>&gt;</span></span><br><span class="line">                            您确定要执行此操作吗？此操作不可撤销。</span><br><span class="line">                        <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">footer</span> <span class="attr">class</span>=<span class="string">"modal-footer"</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">"btn-danger"</span> <span class="attr">onclick</span>=<span class="string">"confirmAction()"</span>&gt;</span></span><br><span class="line">                            确认</span><br><span class="line">                        <span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">"btn-cancel"</span> <span class="attr">onclick</span>=<span class="string">"closeModal()"</span>&gt;</span></span><br><span class="line">                            取消</span><br><span class="line">                        <span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">footer</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">section</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">article</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="comment">// 可访问性增强功能</span></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">class</span> <span class="title class_">AccessibilityManager</span> {</span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">constructor</span>(<span class="params"></span>) {</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">this</span>.<span class="title function_">initKeyboardNavigation</span>();</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">this</span>.<span class="title function_">initFocusManagement</span>();</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">this</span>.<span class="title function_">initScreenReaderSupport</span>();</span></span><br><span class="line"><span class="language-javascript">    }</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 键盘导航支持</span></span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">initKeyboardNavigation</span>(<span class="params"></span>) {</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// ESC键关闭模态框</span></span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">document</span>.<span class="title function_">addEventListener</span>(<span class="string">'keydown'</span>, <span class="function">(<span class="params">e</span>) =&gt;</span> {</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">if</span> (e.<span class="property">key</span> === <span class="string">'Escape'</span>) {</span></span><br><span class="line"><span class="language-javascript">                <span class="variable language_">this</span>.<span class="title function_">closeModal</span>();</span></span><br><span class="line"><span class="language-javascript">            }</span></span><br><span class="line"><span class="language-javascript">        });</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// Tab键焦点管理</span></span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">document</span>.<span class="title function_">addEventListener</span>(<span class="string">'keydown'</span>, <span class="function">(<span class="params">e</span>) =&gt;</span> {</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">if</span> (e.<span class="property">key</span> === <span class="string">'Tab'</span>) {</span></span><br><span class="line"><span class="language-javascript">                <span class="variable language_">this</span>.<span class="title function_">handleTabNavigation</span>(e);</span></span><br><span class="line"><span class="language-javascript">            }</span></span><br><span class="line"><span class="language-javascript">        });</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 方向键导航菜单</span></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> menuItems = <span class="variable language_">document</span>.<span class="title function_">querySelectorAll</span>(<span class="string">'[role="menuitem"]'</span>);</span></span><br><span class="line"><span class="language-javascript">        menuItems.<span class="title function_">forEach</span>(<span class="function">(<span class="params">item, index</span>) =&gt;</span> {</span></span><br><span class="line"><span class="language-javascript">            item.<span class="title function_">addEventListener</span>(<span class="string">'keydown'</span>, <span class="function">(<span class="params">e</span>) =&gt;</span> {</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">switch</span> (e.<span class="property">key</span>) {</span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">case</span> <span class="string">'ArrowDown'</span>:</span></span><br><span class="line"><span class="language-javascript">                        e.<span class="title function_">preventDefault</span>();</span></span><br><span class="line"><span class="language-javascript">                        <span class="variable language_">this</span>.<span class="title function_">focusNextMenuItem</span>(menuItems, index);</span></span><br><span class="line"><span class="language-javascript">                        <span class="keyword">break</span>;</span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">case</span> <span class="string">'ArrowUp'</span>:</span></span><br><span class="line"><span class="language-javascript">                        e.<span class="title function_">preventDefault</span>();</span></span><br><span class="line"><span class="language-javascript">                        <span class="variable language_">this</span>.<span class="title function_">focusPrevMenuItem</span>(menuItems, index);</span></span><br><span class="line"><span class="language-javascript">                        <span class="keyword">break</span>;</span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">case</span> <span class="string">'Enter'</span>:</span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">case</span> <span class="string">' '</span>:</span></span><br><span class="line"><span class="language-javascript">                        e.<span class="title function_">preventDefault</span>();</span></span><br><span class="line"><span class="language-javascript">                        item.<span class="title function_">click</span>();</span></span><br><span class="line"><span class="language-javascript">                        <span class="keyword">break</span>;</span></span><br><span class="line"><span class="language-javascript">                }</span></span><br><span class="line"><span class="language-javascript">            });</span></span><br><span class="line"><span class="language-javascript">        });</span></span><br><span class="line"><span class="language-javascript">    }</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 焦点管理</span></span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">initFocusManagement</span>(<span class="params"></span>) {</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 记录模态框打开前的焦点元素</span></span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">this</span>.<span class="property">lastFocusedElement</span> = <span class="literal">null</span>;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 表单验证时的焦点管理</span></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> forms = <span class="variable language_">document</span>.<span class="title function_">querySelectorAll</span>(<span class="string">'form'</span>);</span></span><br><span class="line"><span class="language-javascript">        forms.<span class="title function_">forEach</span>(<span class="function"><span class="params">form</span> =&gt;</span> {</span></span><br><span class="line"><span class="language-javascript">            form.<span class="title function_">addEventListener</span>(<span class="string">'submit'</span>, <span class="function">(<span class="params">e</span>) =&gt;</span> {</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">const</span> firstInvalidField = form.<span class="title function_">querySelector</span>(<span class="string">':invalid'</span>);</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">if</span> (firstInvalidField) {</span></span><br><span class="line"><span class="language-javascript">                    e.<span class="title function_">preventDefault</span>();</span></span><br><span class="line"><span class="language-javascript">                    firstInvalidField.<span class="title function_">focus</span>();</span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">this</span>.<span class="title function_">announceToScreenReader</span>(<span class="string">`请检查<span class="subst">${firstInvalidField.labels[<span class="number">0</span>]?.textContent || <span class="string">'输入字段'</span>}</span>`</span>);</span></span><br><span class="line"><span class="language-javascript">                }</span></span><br><span class="line"><span class="language-javascript">            });</span></span><br><span class="line"><span class="language-javascript">        });</span></span><br><span class="line"><span class="language-javascript">    }</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 屏幕阅读器支持</span></span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">initScreenReaderSupport</span>(<span class="params"></span>) {</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 创建屏幕阅读器公告区域</span></span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">this</span>.<span class="title function_">createAriaLiveRegion</span>();</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 动态内容更新通知</span></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> observer = <span class="keyword">new</span> <span class="title class_">MutationObserver</span>(<span class="function">(<span class="params">mutations</span>) =&gt;</span> {</span></span><br><span class="line"><span class="language-javascript">            mutations.<span class="title function_">forEach</span>(<span class="function">(<span class="params">mutation</span>) =&gt;</span> {</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">if</span> (mutation.<span class="property">type</span> === <span class="string">'childList'</span> &amp;&amp; mutation.<span class="property">addedNodes</span>.<span class="property">length</span> &gt; <span class="number">0</span>) {</span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">// 通知屏幕阅读器内容已更新</span></span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">this</span>.<span class="title function_">announceToScreenReader</span>(<span class="string">'页面内容已更新'</span>);</span></span><br><span class="line"><span class="language-javascript">                }</span></span><br><span class="line"><span class="language-javascript">            });</span></span><br><span class="line"><span class="language-javascript">        });</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        observer.<span class="title function_">observe</span>(<span class="variable language_">document</span>.<span class="property">body</span>, {</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">childList</span>: <span class="literal">true</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">subtree</span>: <span class="literal">true</span></span></span><br><span class="line"><span class="language-javascript">        });</span></span><br><span class="line"><span class="language-javascript">    }</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 创建ARIA Live区域</span></span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">createAriaLiveRegion</span>(<span class="params"></span>) {</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> liveRegion = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">'div'</span>);</span></span><br><span class="line"><span class="language-javascript">        liveRegion.<span class="title function_">setAttribute</span>(<span class="string">'aria-live'</span>, <span class="string">'polite'</span>);</span></span><br><span class="line"><span class="language-javascript">        liveRegion.<span class="title function_">setAttribute</span>(<span class="string">'aria-atomic'</span>, <span class="string">'true'</span>);</span></span><br><span class="line"><span class="language-javascript">        liveRegion.<span class="property">className</span> = <span class="string">'sr-only'</span>;</span></span><br><span class="line"><span class="language-javascript">        liveRegion.<span class="property">id</span> = <span class="string">'aria-live-region'</span>;</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">document</span>.<span class="property">body</span>.<span class="title function_">appendChild</span>(liveRegion);</span></span><br><span class="line"><span class="language-javascript">    }</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 向屏幕阅读器公告消息</span></span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">announceToScreenReader</span>(<span class="params">message</span>) {</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> liveRegion = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">'aria-live-region'</span>);</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">if</span> (liveRegion) {</span></span><br><span class="line"><span class="language-javascript">            liveRegion.<span class="property">textContent</span> = message;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// 清除消息，避免重复公告</span></span></span><br><span class="line"><span class="language-javascript">            <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> {</span></span><br><span class="line"><span class="language-javascript">                liveRegion.<span class="property">textContent</span> = <span class="string">''</span>;</span></span><br><span class="line"><span class="language-javascript">            }, <span class="number">1000</span>);</span></span><br><span class="line"><span class="language-javascript">        }</span></span><br><span class="line"><span class="language-javascript">    }</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 菜单导航</span></span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">focusNextMenuItem</span>(<span class="params">menuItems, currentIndex</span>) {</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> nextIndex = (currentIndex + <span class="number">1</span>) % menuItems.<span class="property">length</span>;</span></span><br><span class="line"><span class="language-javascript">        menuItems[nextIndex].<span class="title function_">focus</span>();</span></span><br><span class="line"><span class="language-javascript">    }</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">focusPrevMenuItem</span>(<span class="params">menuItems, currentIndex</span>) {</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> prevIndex = currentIndex === <span class="number">0</span> ? menuItems.<span class="property">length</span> - <span class="number">1</span> : currentIndex - <span class="number">1</span>;</span></span><br><span class="line"><span class="language-javascript">        menuItems[prevIndex].<span class="title function_">focus</span>();</span></span><br><span class="line"><span class="language-javascript">    }</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// Tab键导航处理</span></span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">handleTabNavigation</span>(<span class="params">e</span>) {</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> modal = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">'.modal[aria-hidden="false"]'</span>);</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">if</span> (modal) {</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// 在模态框内循环Tab导航</span></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">const</span> focusableElements = modal.<span class="title function_">querySelectorAll</span>(</span></span><br><span class="line"><span class="language-javascript">                <span class="string">'button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'</span></span></span><br><span class="line"><span class="language-javascript">            );</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">const</span> firstElement = focusableElements[<span class="number">0</span>];</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">const</span> lastElement = focusableElements[focusableElements.<span class="property">length</span> - <span class="number">1</span>];</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">if</span> (e.<span class="property">shiftKey</span>) {</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">if</span> (<span class="variable language_">document</span>.<span class="property">activeElement</span> === firstElement) {</span></span><br><span class="line"><span class="language-javascript">                    e.<span class="title function_">preventDefault</span>();</span></span><br><span class="line"><span class="language-javascript">                    lastElement.<span class="title function_">focus</span>();</span></span><br><span class="line"><span class="language-javascript">                }</span></span><br><span class="line"><span class="language-javascript">            } <span class="keyword">else</span> {</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">if</span> (<span class="variable language_">document</span>.<span class="property">activeElement</span> === lastElement) {</span></span><br><span class="line"><span class="language-javascript">                    e.<span class="title function_">preventDefault</span>();</span></span><br><span class="line"><span class="language-javascript">                    firstElement.<span class="title function_">focus</span>();</span></span><br><span class="line"><span class="language-javascript">                }</span></span><br><span class="line"><span class="language-javascript">            }</span></span><br><span class="line"><span class="language-javascript">        }</span></span><br><span class="line"><span class="language-javascript">    }</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 模态框管理</span></span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">openModal</span>(<span class="params"></span>) {</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> modal = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">'modal-dialog'</span>);</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">this</span>.<span class="property">lastFocusedElement</span> = <span class="variable language_">document</span>.<span class="property">activeElement</span>;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        modal.<span class="title function_">setAttribute</span>(<span class="string">'aria-hidden'</span>, <span class="string">'false'</span>);</span></span><br><span class="line"><span class="language-javascript">        modal.<span class="property">style</span>.<span class="property">display</span> = <span class="string">'block'</span>;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 焦点移到模态框的第一个可聚焦元素</span></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> firstFocusable = modal.<span class="title function_">querySelector</span>(<span class="string">'button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'</span>);</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">if</span> (firstFocusable) {</span></span><br><span class="line"><span class="language-javascript">            firstFocusable.<span class="title function_">focus</span>();</span></span><br><span class="line"><span class="language-javascript">        }</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">this</span>.<span class="title function_">announceToScreenReader</span>(<span class="string">'对话框已打开'</span>);</span></span><br><span class="line"><span class="language-javascript">    }</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">closeModal</span>(<span class="params"></span>) {</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> modal = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">'modal-dialog'</span>);</span></span><br><span class="line"><span class="language-javascript">        modal.<span class="title function_">setAttribute</span>(<span class="string">'aria-hidden'</span>, <span class="string">'true'</span>);</span></span><br><span class="line"><span class="language-javascript">        modal.<span class="property">style</span>.<span class="property">display</span> = <span class="string">'none'</span>;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 恢复焦点到打开模态框前的元素</span></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">lastFocusedElement</span>) {</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">this</span>.<span class="property">lastFocusedElement</span>.<span class="title function_">focus</span>();</span></span><br><span class="line"><span class="language-javascript">        }</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">this</span>.<span class="title function_">announceToScreenReader</span>(<span class="string">'对话框已关闭'</span>);</span></span><br><span class="line"><span class="language-javascript">    }</span></span><br><span class="line"><span class="language-javascript">}</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="comment">// 全局函数</span></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">let</span> accessibilityManager;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="variable language_">document</span>.<span class="title function_">addEventListener</span>(<span class="string">'DOMContentLoaded'</span>, <span class="keyword">function</span>(<span class="params"></span>) {</span></span><br><span class="line"><span class="language-javascript">    accessibilityManager = <span class="keyword">new</span> <span class="title class_">AccessibilityManager</span>();</span></span><br><span class="line"><span class="language-javascript">});</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">function</span> <span class="title function_">toggleSubmenu</span>(<span class="params">button</span>) {</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> submenu = button.<span class="property">nextElementSibling</span>;</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> isExpanded = button.<span class="title function_">getAttribute</span>(<span class="string">'aria-expanded'</span>) === <span class="string">'true'</span>;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    button.<span class="title function_">setAttribute</span>(<span class="string">'aria-expanded'</span>, !isExpanded);</span></span><br><span class="line"><span class="language-javascript">    submenu.<span class="property">hidden</span> = isExpanded;</span></span><br><span class="line"><span class="language-javascript">}</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">function</span> <span class="title function_">openModal</span>(<span class="params"></span>) {</span></span><br><span class="line"><span class="language-javascript">    accessibilityManager.<span class="title function_">openModal</span>();</span></span><br><span class="line"><span class="language-javascript">}</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">function</span> <span class="title function_">closeModal</span>(<span class="params"></span>) {</span></span><br><span class="line"><span class="language-javascript">    accessibilityManager.<span class="title function_">closeModal</span>();</span></span><br><span class="line"><span class="language-javascript">}</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">function</span> <span class="title function_">confirmAction</span>(<span class="params"></span>) {</span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">alert</span>(<span class="string">'操作已确认'</span>);</span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">closeModal</span>();</span></span><br><span class="line"><span class="language-javascript">}</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>

<h2 id="（二）性能优化策略"><a href="#（二）性能优化策略" class="headerlink" title="（二）性能优化策略"></a>（二）性能优化策略</h2><p><strong>HTML5性能优化最佳实践：</strong></p>
<figure class="highlight html"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 性能优化：资源加载和渲染优化 --&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"zh-CN"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- DNS预解析：提前解析域名 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"dns-prefetch"</span> <span class="attr">href</span>=<span class="string">"//cdn.example.com"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"dns-prefetch"</span> <span class="attr">href</span>=<span class="string">"//api.example.com"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 预连接：建立早期连接 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"preconnect"</span> <span class="attr">href</span>=<span class="string">"https://fonts.googleapis.com"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"preconnect"</span> <span class="attr">href</span>=<span class="string">"https://fonts.gstatic.com"</span> <span class="attr">crossorigin</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 关键资源预加载 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"preload"</span> <span class="attr">href</span>=<span class="string">"/fonts/main-font.woff2"</span> <span class="attr">as</span>=<span class="string">"font"</span> <span class="attr">type</span>=<span class="string">"font/woff2"</span> <span class="attr">crossorigin</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"preload"</span> <span class="attr">href</span>=<span class="string">"/css/critical.css"</span> <span class="attr">as</span>=<span class="string">"style"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"preload"</span> <span class="attr">href</span>=<span class="string">"/js/critical.js"</span> <span class="attr">as</span>=<span class="string">"script"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 关键CSS内联：减少渲染阻塞 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="comment">/* 关键路径CSS：首屏渲染必需的样式 */</span></span></span><br><span class="line"><span class="language-css">        <span class="selector-tag">body</span> { <span class="attribute">margin</span>: <span class="number">0</span>; <span class="attribute">font-family</span>: -apple-system, BlinkMacSystemFont, <span class="string">'Segoe UI'</span>, Roboto, sans-serif; }</span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.header</span> { <span class="attribute">background</span>: <span class="number">#333</span>; <span class="attribute">color</span>: white; <span class="attribute">padding</span>: <span class="number">1rem</span>; }</span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.loading</span> { <span class="attribute">display</span>: flex; <span class="attribute">justify-content</span>: center; <span class="attribute">align-items</span>: center; <span class="attribute">height</span>: <span class="number">100vh</span>; }</span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.sr-only</span> { <span class="attribute">position</span>: absolute; <span class="attribute">width</span>: <span class="number">1px</span>; <span class="attribute">height</span>: <span class="number">1px</span>; <span class="attribute">padding</span>: <span class="number">0</span>; <span class="attribute">margin</span>: -<span class="number">1px</span>; <span class="attribute">overflow</span>: hidden; <span class="attribute">clip</span>: <span class="built_in">rect</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>); <span class="attribute">border</span>: <span class="number">0</span>; }</span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 非关键CSS异步加载 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"preload"</span> <span class="attr">href</span>=<span class="string">"/css/main.css"</span> <span class="attr">as</span>=<span class="string">"style"</span> <span class="attr">onload</span>=<span class="string">"this.onload=null;this.rel='stylesheet'"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">noscript</span>&gt;</span><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"/css/main.css"</span>&gt;</span><span class="tag">&lt;/<span class="name">noscript</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>HTML5性能优化示例<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 加载指示器 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"loading-indicator"</span> <span class="attr">class</span>=<span class="string">"loading"</span> <span class="attr">aria-label</span>=<span class="string">"页面加载中"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span>&gt;</span>加载中...<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 主要内容 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">main</span> <span class="attr">id</span>=<span class="string">"main-content"</span> <span class="attr">style</span>=<span class="string">"display: none;"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">header</span> <span class="attr">class</span>=<span class="string">"header"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">h1</span>&gt;</span>HTML5性能优化<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">header</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- 图片懒加载和优化 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">section</span> <span class="attr">class</span>=<span class="string">"image-optimization"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">h2</span>&gt;</span>图片优化示例<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">&lt;!-- 响应式图片：根据设备选择合适尺寸 --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">picture</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">source</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">media</span>=<span class="string">"(min-width: 800px)"</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">srcset</span>=<span class="string">"/images/hero-large.webp 1200w, /images/hero-large.jpg 1200w"</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">type</span>=<span class="string">"image/webp"</span></span></span><br><span class="line"><span class="tag">                &gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">source</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">media</span>=<span class="string">"(min-width: 400px)"</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">srcset</span>=<span class="string">"/images/hero-medium.webp 800w, /images/hero-medium.jpg 800w"</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">type</span>=<span class="string">"image/webp"</span></span></span><br><span class="line"><span class="tag">                &gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">img</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">src</span>=<span class="string">"/images/hero-small.jpg"</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">srcset</span>=<span class="string">"/images/hero-small.webp 400w, /images/hero-small.jpg 400w"</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">alt</span>=<span class="string">"英雄图片"</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">loading</span>=<span class="string">"lazy"</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">decoding</span>=<span class="string">"async"</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">width</span>=<span class="string">"400"</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">height</span>=<span class="string">"300"</span></span></span><br><span class="line"><span class="tag">                &gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">picture</span>&gt;</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">&lt;!-- 懒加载图片列表 --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"image-gallery"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">img</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">data-src</span>=<span class="string">"/images/gallery-1.jpg"</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">alt</span>=<span class="string">"图片1"</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">loading</span>=<span class="string">"lazy"</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">class</span>=<span class="string">"lazy-image"</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">width</span>=<span class="string">"300"</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">height</span>=<span class="string">"200"</span></span></span><br><span class="line"><span class="tag">                &gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">img</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">data-src</span>=<span class="string">"/images/gallery-2.jpg"</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">alt</span>=<span class="string">"图片2"</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">loading</span>=<span class="string">"lazy"</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">class</span>=<span class="string">"lazy-image"</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">width</span>=<span class="string">"300"</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">height</span>=<span class="string">"200"</span></span></span><br><span class="line"><span class="tag">                &gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">section</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- 代码分割和动态导入 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">section</span> <span class="attr">class</span>=<span class="string">"dynamic-content"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">h2</span>&gt;</span>动态内容加载<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">button</span> <span class="attr">onclick</span>=<span class="string">"loadDynamicContent()"</span>&gt;</span>加载动态内容<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"dynamic-content-container"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">section</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- Web Workers示例 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">section</span> <span class="attr">class</span>=<span class="string">"web-workers"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">h2</span>&gt;</span>Web Workers性能优化<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">button</span> <span class="attr">onclick</span>=<span class="string">"startHeavyComputation()"</span>&gt;</span>开始重计算<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"computation-result"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">progress</span> <span class="attr">id</span>=<span class="string">"computation-progress"</span> <span class="attr">value</span>=<span class="string">"0"</span> <span class="attr">max</span>=<span class="string">"100"</span>&gt;</span><span class="tag">&lt;/<span class="name">progress</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">section</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">main</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 关键JavaScript内联 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 关键路径JavaScript：页面初始化必需的代码</span></span></span><br><span class="line"><span class="language-javascript">        (<span class="keyword">function</span>(<span class="params"></span>) {</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// 性能监控</span></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">const</span> perfObserver = <span class="keyword">new</span> <span class="title class_">PerformanceObserver</span>(<span class="function">(<span class="params">list</span>) =&gt;</span> {</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">for</span> (<span class="keyword">const</span> entry <span class="keyword">of</span> list.<span class="title function_">getEntries</span>()) {</span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">'性能指标:'</span>, entry.<span class="property">name</span>, entry.<span class="property">value</span>);</span></span><br><span class="line"><span class="language-javascript">                }</span></span><br><span class="line"><span class="language-javascript">            });</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// 监控关键性能指标</span></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">if</span> (<span class="string">'observe'</span> <span class="keyword">in</span> perfObserver) {</span></span><br><span class="line"><span class="language-javascript">                perfObserver.<span class="title function_">observe</span>({ <span class="attr">entryTypes</span>: [<span class="string">'measure'</span>, <span class="string">'navigation'</span>, <span class="string">'paint'</span>] });</span></span><br><span class="line"><span class="language-javascript">            }</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// 页面加载完成处理</span></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">function</span> <span class="title function_">onPageLoad</span>(<span class="params"></span>) {</span></span><br><span class="line"><span class="language-javascript">                <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">'loading-indicator'</span>).<span class="property">style</span>.<span class="property">display</span> = <span class="string">'none'</span>;</span></span><br><span class="line"><span class="language-javascript">                <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">'main-content'</span>).<span class="property">style</span>.<span class="property">display</span> = <span class="string">'block'</span>;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// 记录首次内容绘制时间</span></span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">const</span> paintEntries = performance.<span class="title function_">getEntriesByType</span>(<span class="string">'paint'</span>);</span></span><br><span class="line"><span class="language-javascript">                paintEntries.<span class="title function_">forEach</span>(<span class="function"><span class="params">entry</span> =&gt;</span> {</span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`<span class="subst">${entry.name}</span>: <span class="subst">${entry.startTime}</span>ms`</span>);</span></span><br><span class="line"><span class="language-javascript">                });</span></span><br><span class="line"><span class="language-javascript">            }</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// 使用requestIdleCallback优化非关键任务</span></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">function</span> <span class="title function_">scheduleNonCriticalTasks</span>(<span class="params"></span>) {</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">if</span> (<span class="string">'requestIdleCallback'</span> <span class="keyword">in</span> <span class="variable language_">window</span>) {</span></span><br><span class="line"><span class="language-javascript">                    <span class="title function_">requestIdleCallback</span>(<span class="function">() =&gt;</span> {</span></span><br><span class="line"><span class="language-javascript">                        <span class="comment">// 非关键任务：统计、分析等</span></span></span><br><span class="line"><span class="language-javascript">                        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">'执行非关键任务'</span>);</span></span><br><span class="line"><span class="language-javascript">                        <span class="title function_">initAnalytics</span>();</span></span><br><span class="line"><span class="language-javascript">                        <span class="title function_">preloadNextPageResources</span>();</span></span><br><span class="line"><span class="language-javascript">                    });</span></span><br><span class="line"><span class="language-javascript">                } <span class="keyword">else</span> {</span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">// 降级处理</span></span></span><br><span class="line"><span class="language-javascript">                    <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> {</span></span><br><span class="line"><span class="language-javascript">                        <span class="title function_">initAnalytics</span>();</span></span><br><span class="line"><span class="language-javascript">                        <span class="title function_">preloadNextPageResources</span>();</span></span><br><span class="line"><span class="language-javascript">                    }, <span class="number">100</span>);</span></span><br><span class="line"><span class="language-javascript">                }</span></span><br><span class="line"><span class="language-javascript">            }</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// 页面加载事件</span></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">if</span> (<span class="variable language_">document</span>.<span class="property">readyState</span> === <span class="string">'loading'</span>) {</span></span><br><span class="line"><span class="language-javascript">                <span class="variable language_">document</span>.<span class="title function_">addEventListener</span>(<span class="string">'DOMContentLoaded'</span>, onPageLoad);</span></span><br><span class="line"><span class="language-javascript">            } <span class="keyword">else</span> {</span></span><br><span class="line"><span class="language-javascript">                <span class="title function_">onPageLoad</span>();</span></span><br><span class="line"><span class="language-javascript">            }</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// 调度非关键任务</span></span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">window</span>.<span class="title function_">addEventListener</span>(<span class="string">'load'</span>, scheduleNonCriticalTasks);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// 图片懒加载实现</span></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">function</span> <span class="title function_">initLazyLoading</span>(<span class="params"></span>) {</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">const</span> lazyImages = <span class="variable language_">document</span>.<span class="title function_">querySelectorAll</span>(<span class="string">'.lazy-image'</span>);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">if</span> (<span class="string">'IntersectionObserver'</span> <span class="keyword">in</span> <span class="variable language_">window</span>) {</span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">const</span> imageObserver = <span class="keyword">new</span> <span class="title class_">IntersectionObserver</span>(<span class="function">(<span class="params">entries</span>) =&gt;</span> {</span></span><br><span class="line"><span class="language-javascript">                        entries.<span class="title function_">forEach</span>(<span class="function"><span class="params">entry</span> =&gt;</span> {</span></span><br><span class="line"><span class="language-javascript">                            <span class="keyword">if</span> (entry.<span class="property">isIntersecting</span>) {</span></span><br><span class="line"><span class="language-javascript">                                <span class="keyword">const</span> img = entry.<span class="property">target</span>;</span></span><br><span class="line"><span class="language-javascript">                                img.<span class="property">src</span> = img.<span class="property">dataset</span>.<span class="property">src</span>;</span></span><br><span class="line"><span class="language-javascript">                                img.<span class="property">classList</span>.<span class="title function_">remove</span>(<span class="string">'lazy-image'</span>);</span></span><br><span class="line"><span class="language-javascript">                                imageObserver.<span class="title function_">unobserve</span>(img);</span></span><br><span class="line"><span class="language-javascript">                            }</span></span><br><span class="line"><span class="language-javascript">                        });</span></span><br><span class="line"><span class="language-javascript">                    });</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                    lazyImages.<span class="title function_">forEach</span>(<span class="function"><span class="params">img</span> =&gt;</span> imageObserver.<span class="title function_">observe</span>(img));</span></span><br><span class="line"><span class="language-javascript">                } <span class="keyword">else</span> {</span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">// 降级处理：直接加载所有图片</span></span></span><br><span class="line"><span class="language-javascript">                    lazyImages.<span class="title function_">forEach</span>(<span class="function"><span class="params">img</span> =&gt;</span> {</span></span><br><span class="line"><span class="language-javascript">                        img.<span class="property">src</span> = img.<span class="property">dataset</span>.<span class="property">src</span>;</span></span><br><span class="line"><span class="language-javascript">                    });</span></span><br><span class="line"><span class="language-javascript">                }</span></span><br><span class="line"><span class="language-javascript">            }</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// 初始化懒加载</span></span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">initLazyLoading</span>();</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// 全局函数定义</span></span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">window</span>.<span class="property">loadDynamicContent</span> = <span class="keyword">async</span> <span class="keyword">function</span>(<span class="params"></span>) {</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">try</span> {</span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">// 动态导入模块</span></span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">const</span> { <span class="title class_">DynamicComponent</span> } = <span class="keyword">await</span> <span class="keyword">import</span>(<span class="string">'./js/dynamic-component.js'</span>);</span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">const</span> container = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">'dynamic-content-container'</span>);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">const</span> component = <span class="keyword">new</span> <span class="title class_">DynamicComponent</span>();</span></span><br><span class="line"><span class="language-javascript">                    container.<span class="title function_">appendChild</span>(component.<span class="title function_">render</span>());</span></span><br><span class="line"><span class="language-javascript">                } <span class="keyword">catch</span> (error) {</span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">console</span>.<span class="title function_">error</span>(<span class="string">'动态内容加载失败:'</span>, error);</span></span><br><span class="line"><span class="language-javascript">                }</span></span><br><span class="line"><span class="language-javascript">            };</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">window</span>.<span class="property">startHeavyComputation</span> = <span class="keyword">function</span>(<span class="params"></span>) {</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">if</span> (<span class="string">'Worker'</span> <span class="keyword">in</span> <span class="variable language_">window</span>) {</span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">const</span> worker = <span class="keyword">new</span> <span class="title class_">Worker</span>(<span class="string">'./js/computation-worker.js'</span>);</span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">const</span> progressBar = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">'computation-progress'</span>);</span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">const</span> resultDiv = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">'computation-result'</span>);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                    worker.<span class="title function_">postMessage</span>({ <span class="attr">command</span>: <span class="string">'start'</span>, <span class="attr">data</span>: <span class="number">1000000</span> });</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                    worker.<span class="property">onmessage</span> = <span class="keyword">function</span>(<span class="params">e</span>) {</span></span><br><span class="line"><span class="language-javascript">                        <span class="keyword">const</span> { type, progress, result } = e.<span class="property">data</span>;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                        <span class="keyword">if</span> (type === <span class="string">'progress'</span>) {</span></span><br><span class="line"><span class="language-javascript">                            progressBar.<span class="property">value</span> = progress;</span></span><br><span class="line"><span class="language-javascript">                        } <span class="keyword">else</span> <span class="keyword">if</span> (type === <span class="string">'complete'</span>) {</span></span><br><span class="line"><span class="language-javascript">                            resultDiv.<span class="property">textContent</span> = <span class="string">`计算完成，结果：<span class="subst">${result}</span>`</span>;</span></span><br><span class="line"><span class="language-javascript">                            worker.<span class="title function_">terminate</span>();</span></span><br><span class="line"><span class="language-javascript">                        }</span></span><br><span class="line"><span class="language-javascript">                    };</span></span><br><span class="line"><span class="language-javascript">                } <span class="keyword">else</span> {</span></span><br><span class="line"><span class="language-javascript">                    <span class="title function_">alert</span>(<span class="string">'您的浏览器不支持Web Workers'</span>);</span></span><br><span class="line"><span class="language-javascript">                }</span></span><br><span class="line"><span class="language-javascript">            };</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// 分析和统计初始化</span></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">function</span> <span class="title function_">initAnalytics</span>(<span class="params"></span>) {</span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// 模拟分析代码初始化</span></span></span><br><span class="line"><span class="language-javascript">                <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">'分析工具已初始化'</span>);</span></span><br><span class="line"><span class="language-javascript">            }</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// 预加载下一页资源</span></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">function</span> <span class="title function_">preloadNextPageResources</span>(<span class="params"></span>) {</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">const</span> nextPageLink = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">'link[rel="next"]'</span>);</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">if</span> (nextPageLink) {</span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">const</span> link = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">'link'</span>);</span></span><br><span class="line"><span class="language-javascript">                    link.<span class="property">rel</span> = <span class="string">'prefetch'</span>;</span></span><br><span class="line"><span class="language-javascript">                    link.<span class="property">href</span> = nextPageLink.<span class="property">href</span>;</span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">document</span>.<span class="property">head</span>.<span class="title function_">appendChild</span>(link);</span></span><br><span class="line"><span class="language-javascript">                }</span></span><br><span class="line"><span class="language-javascript">            }</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// 错误监控</span></span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">window</span>.<span class="title function_">addEventListener</span>(<span class="string">'error'</span>, <span class="function">(<span class="params">e</span>) =&gt;</span> {</span></span><br><span class="line"><span class="language-javascript">                <span class="variable language_">console</span>.<span class="title function_">error</span>(<span class="string">'JavaScript错误:'</span>, e.<span class="property">error</span>);</span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// 发送错误报告到监控服务</span></span></span><br><span class="line"><span class="language-javascript">            });</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// 未处理的Promise拒绝</span></span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">window</span>.<span class="title function_">addEventListener</span>(<span class="string">'unhandledrejection'</span>, <span class="function">(<span class="params">e</span>) =&gt;</span> {</span></span><br><span class="line"><span class="language-javascript">                <span class="variable language_">console</span>.<span class="title function_">error</span>(<span class="string">'未处理的Promise拒绝:'</span>, e.<span class="property">reason</span>);</span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// 发送错误报告到监控服务</span></span></span><br><span class="line"><span class="language-javascript">            });</span></span><br><span class="line"><span class="language-javascript">        })();</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 非关键JavaScript异步加载 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">async</span> <span class="attr">src</span>=<span class="string">"/js/analytics.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">defer</span> <span class="attr">src</span>=<span class="string">"/js/main.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// js/computation-worker.js - Web Worker示例</span></span><br><span class="line">self.<span class="property">onmessage</span> = <span class="keyword">function</span>(<span class="params">e</span>) {</span><br><span class="line">    <span class="keyword">const</span> { command, data } = e.<span class="property">data</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (command === <span class="string">'start'</span>) {</span><br><span class="line">        <span class="comment">// 执行重计算任务</span></span><br><span class="line">        <span class="keyword">let</span> result = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">const</span> total = data;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; total; i++) {</span><br><span class="line">            result += <span class="title class_">Math</span>.<span class="title function_">sqrt</span>(i);</span><br><span class="line"></span><br><span class="line">            <span class="comment">// 定期报告进度</span></span><br><span class="line">            <span class="keyword">if</span> (i % <span class="number">10000</span> === <span class="number">0</span>) {</span><br><span class="line">                <span class="keyword">const</span> progress = (i / total) * <span class="number">100</span>;</span><br><span class="line">                self.<span class="title function_">postMessage</span>({</span><br><span class="line">                    <span class="attr">type</span>: <span class="string">'progress'</span>,</span><br><span class="line">                    <span class="attr">progress</span>: progress</span><br><span class="line">                });</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 发送完成结果</span></span><br><span class="line">        self.<span class="title function_">postMessage</span>({</span><br><span class="line">            <span class="attr">type</span>: <span class="string">'complete'</span>,</span><br><span class="line">            <span class="attr">result</span>: result.<span class="title function_">toFixed</span>(<span class="number">2</span>)</span><br><span class="line">        });</span><br><span class="line">    }</span><br><span class="line">};</span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// js/dynamic-component.js - 动态组件示例</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">class</span> <span class="title class_">DynamicComponent</span> {</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params"></span>) {</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">data</span> = [];</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">async</span> <span class="title function_">loadData</span>(<span class="params"></span>) {</span><br><span class="line">        <span class="comment">// 模拟数据加载</span></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function"><span class="params">resolve</span> =&gt;</span> {</span><br><span class="line">            <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> {</span><br><span class="line">                <span class="title function_">resolve</span>([</span><br><span class="line">                    { <span class="attr">id</span>: <span class="number">1</span>, <span class="attr">name</span>: <span class="string">'动态内容1'</span> },</span><br><span class="line">                    { <span class="attr">id</span>: <span class="number">2</span>, <span class="attr">name</span>: <span class="string">'动态内容2'</span> },</span><br><span class="line">                    { <span class="attr">id</span>: <span class="number">3</span>, <span class="attr">name</span>: <span class="string">'动态内容3'</span> }</span><br><span class="line">                ]);</span><br><span class="line">            }, <span class="number">1000</span>);</span><br><span class="line">        });</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="title function_">render</span>(<span class="params"></span>) {</span><br><span class="line">        <span class="keyword">const</span> container = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">'div'</span>);</span><br><span class="line">        container.<span class="property">className</span> = <span class="string">'dynamic-component'</span>;</span><br><span class="line">        container.<span class="property">innerHTML</span> = <span class="string">'&lt;p&gt;正在加载动态内容...&lt;/p&gt;'</span>;</span><br><span class="line"></span><br><span class="line">        <span class="variable language_">this</span>.<span class="title function_">loadData</span>().<span class="title function_">then</span>(<span class="function"><span class="params">data</span> =&gt;</span> {</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">data</span> = data;</span><br><span class="line">            container.<span class="property">innerHTML</span> = <span class="string">`</span></span><br><span class="line"><span class="string">                &lt;h3&gt;动态加载的内容&lt;/h3&gt;</span></span><br><span class="line"><span class="string">                &lt;ul&gt;</span></span><br><span class="line"><span class="string">                    <span class="subst">${data.map(item =&gt; <span class="string">`&lt;li&gt;<span class="subst">${item.name}</span>&lt;/li&gt;`</span>).join(<span class="string">''</span>)}</span></span></span><br><span class="line"><span class="string">                &lt;/ul&gt;</span></span><br><span class="line"><span class="string">            `</span>;</span><br><span class="line">        });</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> container;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h1 id="五、总结与展望"><a href="#五、总结与展望" class="headerlink" title="五、总结与展望"></a>五、总结与展望</h1><h2 id="（一）HTML5技术总结"><a href="#（一）HTML5技术总结" class="headerlink" title="（一）HTML5技术总结"></a>（一）HTML5技术总结</h2><p>通过本文的详细介绍，我们全面了解了HTML5的核心特性和实践应用：</p>
<p><strong>技术特性总结：</strong></p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">HTML5核心价值：</span><br><span class="line"></span><br><span class="line">语义化增强：</span><br><span class="line">├── 结构化标签：header、nav、main、section、article、aside、footer</span><br><span class="line">├── 表单增强：新的input类型、验证属性、表单控件</span><br><span class="line">├── 多媒体支持：video、audio原生播放，无需插件</span><br><span class="line">└── 可访问性：ARIA标签、语义化结构提升用户体验</span><br><span class="line"></span><br><span class="line">API功能扩展：</span><br><span class="line">├── 存储技术：localStorage、sessionStorage本地数据存储</span><br><span class="line">├── 地理定位：Geolocation API获取用户位置信息</span><br><span class="line">├── 拖拽交互：Drag and Drop API实现拖拽功能</span><br><span class="line">├── Canvas绘图：2D图形绘制和动画制作</span><br><span class="line">├── Web Workers：多线程处理提升性能</span><br><span class="line">└── WebSocket：实时双向通信支持</span><br><span class="line"></span><br><span class="line">性能优化：</span><br><span class="line">├── 资源预加载：dns-prefetch、preload、prefetch</span><br><span class="line">├── 图片优化：响应式图片、懒加载、现代格式</span><br><span class="line">├── 代码分割：动态导入、按需加载</span><br><span class="line">├── 缓存策略：Application Cache、Service Worker</span><br><span class="line">└── 性能监控：Performance API、关键指标测量</span><br></pre></td></tr></tbody></table></figure>

<p><strong>开发最佳实践：</strong></p>
<ol>
<li><strong>语义化优先</strong>：使用正确的HTML标签表达内容含义</li>
<li><strong>渐进增强</strong>：从基础功能开始，逐步添加高级特性</li>
<li><strong>可访问性</strong>：确保所有用户都能访问和使用网站</li>
<li><strong>性能优化</strong>：关注加载速度和运行时性能</li>
<li><strong>跨浏览器兼容</strong>：提供降级方案和polyfill支持</li>
</ol>
<h2 id="（二）发展趋势和展望"><a href="#（二）发展趋势和展望" class="headerlink" title="（二）发展趋势和展望"></a>（二）发展趋势和展望</h2><p><strong>HTML5技术发展方向：</strong></p>
<ol>
<li><strong>Web组件化</strong>：Custom Elements、Shadow DOM标准化</li>
<li><strong>PWA技术</strong>：Service Worker、Web App Manifest普及</li>
<li><strong>WebAssembly</strong>：高性能Web应用开发</li>
<li><strong>Web API扩展</strong>：更多设备API和系统集成能力</li>
<li><strong>性能优化</strong>：Core Web Vitals、用户体验指标</li>
</ol>
<p><strong>实际应用建议：</strong></p>
<ul>
<li><strong>选择HTML5</strong>：现代Web开发的标准选择</li>
<li><strong>渐进式采用</strong>：根据项目需求逐步引入新特性</li>
<li><strong>性能优先</strong>：始终关注用户体验和页面性能</li>
<li><strong>可访问性</strong>：确保网站对所有用户友好</li>
<li><strong>持续学习</strong>：跟上Web标准的发展和更新</li>
</ul>
<p>HTML5作为现代Web开发的基础，为开发者提供了丰富的功能和强大的能力。随着Web技术的不断发展，HTML5将继续演进，为构建更好的Web应用提供支持。掌握HTML5的核心概念和最佳实践，是每个前端开发者必备的技能。</p>
<h1 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h1><ul>
<li><a target="_blank" rel="noopener" href="https://html.spec.whatwg.org/">HTML5规范</a> - WHATWG官方规范</li>
<li><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/HTML">MDN Web文档</a> - Mozilla开发者网络</li>
<li><a target="_blank" rel="noopener" href="https://caniuse.com/">Can I Use</a> - 浏览器兼容性查询</li>
<li><a target="_blank" rel="noopener" href="https://web.dev/">Web.dev</a> - Google Web开发最佳实践</li>
<li><a target="_blank" rel="noopener" href="https://www.w3.org/TR/html52/">W3C HTML5标准</a> - W3C官方标准</li>
<li><a target="_blank" rel="noopener" href="https://html5boilerplate.com/">HTML5 Boilerplate</a> - 前端模板项目</li>
<li><a target="_blank" rel="noopener" href="https://developers.google.com/web/tools/lighthouse">Lighthouse</a> - Web性能审计工具</li>
<li><a target="_blank" rel="noopener" href="https://webaim.org/">WebAIM</a> - Web可访问性资源</li>
</ul>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="https://uwakeme.tech/about/">Wake</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a href="https://uwakeme.tech/2025/01/29/%E5%89%8D%E7%AB%AF/%E3%80%90%E5%89%8D%E7%AB%AF%E3%80%91HTML5%E7%8E%B0%E4%BB%A3Web%E5%BC%80%E5%8F%91%E5%AE%8C%E5%85%A8%E6%8C%87%E5%8D%97%EF%BC%9A%E4%BB%8E%E5%9F%BA%E7%A1%80%E7%89%B9%E6%80%A7%E5%88%B0%E9%AB%98%E7%BA%A7%E5%BA%94%E7%94%A8%E7%9A%84%E5%85%A8%E9%9D%A2%E5%AE%9E%E8%B7%B5/">https://uwakeme.tech/2025/01/29/%E5%89%8D%E7%AB%AF/%E3%80%90%E5%89%8D%E7%AB%AF%E3%80%91HTML5%E7%8E%B0%E4%BB%A3Web%E5%BC%80%E5%8F%91%E5%AE%8C%E5%85%A8%E6%8C%87%E5%8D%97%EF%BC%9A%E4%BB%8E%E5%9F%BA%E7%A1%80%E7%89%B9%E6%80%A7%E5%88%B0%E9%AB%98%E7%BA%A7%E5%BA%94%E7%94%A8%E7%9A%84%E5%85%A8%E9%9D%A2%E5%AE%9E%E8%B7%B5/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来源 <a href="https://uwakeme.tech" target="_blank">Uwakeme</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Web%E5%BC%80%E5%8F%91/">Web开发</a><a class="post-meta__tags" href="/tags/%E5%93%8D%E5%BA%94%E5%BC%8F%E8%AE%BE%E8%AE%A1/">响应式设计</a><a class="post-meta__tags" href="/tags/HTML5/">HTML5</a><a class="post-meta__tags" href="/tags/%E5%89%8D%E7%AB%AF%E6%8A%80%E6%9C%AF/">前端技术</a><a class="post-meta__tags" href="/tags/%E7%A7%BB%E5%8A%A8%E7%AB%AF/">移动端</a><a class="post-meta__tags" href="/tags/Web-API/">Web API</a></div><div class="post-share"><div class="social-share" data-image="https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/html5.svg" data-sites="facebook,twitter,wechat,weibo,qq"></div><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.4/sharejs/dist/js/social-share.min.js" defer=""></script></div></div><div class="post-reward"><div class="reward-button"><i class="fas fa-qrcode"></i>赞助</div><div class="reward-main"><ul class="reward-all"><li class="reward-item"><a href="/img/reward/wechat.jpg" target="_blank"><img class="post-qr-code-img" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0OCIgaGVpZ2h0PSI0OCIgdmlld0JveD0iMCAwIDI0IDI0Ij48Y2lyY2xlIGN4PSI0IiBjeT0iMTIiIHI9IjMiIGZpbGw9ImN1cnJlbnRDb2xvciI+PGFuaW1hdGUgaWQ9InN2Z1NwaW5uZXJzM0RvdHNTY2FsZTAiIGF0dHJpYnV0ZU5hbWU9InIiIGJlZ2luPSIwO3N2Z1NwaW5uZXJzM0RvdHNTY2FsZTEuZW5kLTAuMjVzIiBkdXI9IjAuNzVzIiB2YWx1ZXM9IjM7LjI7MyIvPjwvY2lyY2xlPjxjaXJjbGUgY3g9IjEyIiBjeT0iMTIiIHI9IjMiIGZpbGw9ImN1cnJlbnRDb2xvciI+PGFuaW1hdGUgYXR0cmlidXRlTmFtZT0iciIgYmVnaW49InN2Z1NwaW5uZXJzM0RvdHNTY2FsZTAuZW5kLTAuNnMiIGR1cj0iMC43NXMiIHZhbHVlcz0iMzsuMjszIi8+PC9jaXJjbGU+PGNpcmNsZSBjeD0iMjAiIGN5PSIxMiIgcj0iMyIgZmlsbD0iY3VycmVudENvbG9yIj48YW5pbWF0ZSBpZD0ic3ZnU3Bpbm5lcnMzRG90c1NjYWxlMSIgYXR0cmlidXRlTmFtZT0iciIgYmVnaW49InN2Z1NwaW5uZXJzM0RvdHNTY2FsZTAuZW5kLTAuNDVzIiBkdXI9IjAuNzVzIiB2YWx1ZXM9IjM7LjI7MyIvPjwvY2lyY2xlPjwvc3ZnPg==" data-original="/img/reward/wechat.jpg" alt="微信"></a><div class="post-qr-code-desc">微信</div></li><li class="reward-item"><a href="/img/reward/alipay.jpg" target="_blank"><img class="post-qr-code-img" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0OCIgaGVpZ2h0PSI0OCIgdmlld0JveD0iMCAwIDI0IDI0Ij48Y2lyY2xlIGN4PSI0IiBjeT0iMTIiIHI9IjMiIGZpbGw9ImN1cnJlbnRDb2xvciI+PGFuaW1hdGUgaWQ9InN2Z1NwaW5uZXJzM0RvdHNTY2FsZTAiIGF0dHJpYnV0ZU5hbWU9InIiIGJlZ2luPSIwO3N2Z1NwaW5uZXJzM0RvdHNTY2FsZTEuZW5kLTAuMjVzIiBkdXI9IjAuNzVzIiB2YWx1ZXM9IjM7LjI7MyIvPjwvY2lyY2xlPjxjaXJjbGUgY3g9IjEyIiBjeT0iMTIiIHI9IjMiIGZpbGw9ImN1cnJlbnRDb2xvciI+PGFuaW1hdGUgYXR0cmlidXRlTmFtZT0iciIgYmVnaW49InN2Z1NwaW5uZXJzM0RvdHNTY2FsZTAuZW5kLTAuNnMiIGR1cj0iMC43NXMiIHZhbHVlcz0iMzsuMjszIi8+PC9jaXJjbGU+PGNpcmNsZSBjeD0iMjAiIGN5PSIxMiIgcj0iMyIgZmlsbD0iY3VycmVudENvbG9yIj48YW5pbWF0ZSBpZD0ic3ZnU3Bpbm5lcnMzRG90c1NjYWxlMSIgYXR0cmlidXRlTmFtZT0iciIgYmVnaW49InN2Z1NwaW5uZXJzM0RvdHNTY2FsZTAuZW5kLTAuNDVzIiBkdXI9IjAuNzVzIiB2YWx1ZXM9IjM7LjI7MyIvPjwvY2lyY2xlPjwvc3ZnPg==" data-original="/img/reward/alipay.jpg" alt="支付宝"></a><div class="post-qr-code-desc">支付宝</div></li></ul></div></div><nav class="pagination-post" id="pagination"><a class="pagination-related" href="/2025/01/29/%E5%89%8D%E7%AB%AF/%E3%80%90%E5%89%8D%E7%AB%AF%E3%80%91Node.js%E5%B8%B8%E7%94%A8%E4%BE%9D%E8%B5%96%E5%BA%93%E8%AF%A6%E8%A7%A3%EF%BC%9A%E4%BB%8E%E5%9F%BA%E7%A1%80%E5%B7%A5%E5%85%B7%E5%88%B0%E4%BC%81%E4%B8%9A%E7%BA%A7%E5%BA%94%E7%94%A8/" title="【前端】Node.js常用依赖库详解：从基础工具到企业级应用"><img class="cover" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0OCIgaGVpZ2h0PSI0OCIgdmlld0JveD0iMCAwIDI0IDI0Ij48Y2lyY2xlIGN4PSI0IiBjeT0iMTIiIHI9IjMiIGZpbGw9ImN1cnJlbnRDb2xvciI+PGFuaW1hdGUgaWQ9InN2Z1NwaW5uZXJzM0RvdHNTY2FsZTAiIGF0dHJpYnV0ZU5hbWU9InIiIGJlZ2luPSIwO3N2Z1NwaW5uZXJzM0RvdHNTY2FsZTEuZW5kLTAuMjVzIiBkdXI9IjAuNzVzIiB2YWx1ZXM9IjM7LjI7MyIvPjwvY2lyY2xlPjxjaXJjbGUgY3g9IjEyIiBjeT0iMTIiIHI9IjMiIGZpbGw9ImN1cnJlbnRDb2xvciI+PGFuaW1hdGUgYXR0cmlidXRlTmFtZT0iciIgYmVnaW49InN2Z1NwaW5uZXJzM0RvdHNTY2FsZTAuZW5kLTAuNnMiIGR1cj0iMC43NXMiIHZhbHVlcz0iMzsuMjszIi8+PC9jaXJjbGU+PGNpcmNsZSBjeD0iMjAiIGN5PSIxMiIgcj0iMyIgZmlsbD0iY3VycmVudENvbG9yIj48YW5pbWF0ZSBpZD0ic3ZnU3Bpbm5lcnMzRG90c1NjYWxlMSIgYXR0cmlidXRlTmFtZT0iciIgYmVnaW49InN2Z1NwaW5uZXJzM0RvdHNTY2FsZTAuZW5kLTAuNDVzIiBkdXI9IjAuNzVzIiB2YWx1ZXM9IjM7LjI7MyIvPjwvY2lyY2xlPjwvc3ZnPg==" data-original="https://cdn.jsdelivr.net/gh/uwakeme/personal-image-repository/images/nodejs.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="info"><div class="info-1"><div class="info-item-1">上一篇</div><div class="info-item-2">【前端】Node.js常用依赖库详解：从基础工具到企业级应用</div></div><div class="info-2"><div class="info-item-1">前言Node.js作为JavaScript运行时环境，拥有庞大的生态系统和丰富的第三方依赖库。合理选择和使用这些依赖库，能够大大提高开发效率，避免重复造轮子。本文将详细介绍Node.js开发中最常用的依赖库，包括Web框架、数据库操作、工具库等，并提供详细的代码示例和使用说明。 一、Web框架类（一）Express.js - 最流行的Web框架Express.js是Node.js最受欢迎的Web应用框架，类似于Java的Spring Boot或Python的Flask，提供了简洁而强大的Web开发功能。 安装方式： 1npm install express  基础使用示例： 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677// 引入Express框架：Node.js最流行的Web框架，类似于Java的Spring Bootconst expr...</div></div></div></a><a class="pagination-related" href="/2025/01/29/%E5%89%8D%E7%AB%AF/%E3%80%90%E5%89%8D%E7%AB%AF%E3%80%91CSS%E8%AF%AD%E6%B3%95%E5%AE%8C%E5%85%A8%E6%8C%87%E5%8D%97%EF%BC%9A%E4%BB%8E%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95%E5%88%B0%E9%AB%98%E7%BA%A7%E7%89%B9%E6%80%A7/" title="【前端】CSS语法完全指南：从基础语法到高级特性"><img class="cover" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0OCIgaGVpZ2h0PSI0OCIgdmlld0JveD0iMCAwIDI0IDI0Ij48Y2lyY2xlIGN4PSI0IiBjeT0iMTIiIHI9IjMiIGZpbGw9ImN1cnJlbnRDb2xvciI+PGFuaW1hdGUgaWQ9InN2Z1NwaW5uZXJzM0RvdHNTY2FsZTAiIGF0dHJpYnV0ZU5hbWU9InIiIGJlZ2luPSIwO3N2Z1NwaW5uZXJzM0RvdHNTY2FsZTEuZW5kLTAuMjVzIiBkdXI9IjAuNzVzIiB2YWx1ZXM9IjM7LjI7MyIvPjwvY2lyY2xlPjxjaXJjbGUgY3g9IjEyIiBjeT0iMTIiIHI9IjMiIGZpbGw9ImN1cnJlbnRDb2xvciI+PGFuaW1hdGUgYXR0cmlidXRlTmFtZT0iciIgYmVnaW49InN2Z1NwaW5uZXJzM0RvdHNTY2FsZTAuZW5kLTAuNnMiIGR1cj0iMC43NXMiIHZhbHVlcz0iMzsuMjszIi8+PC9jaXJjbGU+PGNpcmNsZSBjeD0iMjAiIGN5PSIxMiIgcj0iMyIgZmlsbD0iY3VycmVudENvbG9yIj48YW5pbWF0ZSBpZD0ic3ZnU3Bpbm5lcnMzRG90c1NjYWxlMSIgYXR0cmlidXRlTmFtZT0iciIgYmVnaW49InN2Z1NwaW5uZXJzM0RvdHNTY2FsZTAuZW5kLTAuNDVzIiBkdXI9IjAuNzVzIiB2YWx1ZXM9IjM7LjI7MyIvPjwvY2lyY2xlPjwvc3ZnPg==" data-original="https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/css3.svg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="info text-right"><div class="info-1"><div class="info-item-1">下一篇</div><div class="info-item-2">【前端】CSS语法完全指南：从基础语法到高级特性</div></div><div class="info-2"><div class="info-item-1">前言CSS（Cascading Style Sheets，层叠样式表）是用于描述HTML文档样式的语言，它控制着网页的视觉呈现。CSS就像是网页的”化妆师”，负责让网页变得美观和易用。对于前端开发者来说，掌握CSS语法是构建现代Web应用的基础技能。本文将从基础语法开始，逐步深入到高级特性，帮助开发者全面掌握CSS的使用方法。 一、CSS基础语法（一）CSS语法结构CSS的基本语法由选择器、属性和值组成，类似于编程语言中的”对象.属性 = 值”的概念。 基本语法格式： 123456789101112131415161718192021222324252627282930/* CSS注释：类似于编程语言中的注释，不会被浏览器执行 *//* 选择器 { 属性: 值; } *//* 基础选择器示例：选择HTML元素并设置样式 */h1 {    color: blue;           /* 文字颜色：类似于Word中的字体颜色设置 */    font-size: 24px;       /* 字体大小：类似于Word中的字号设置 */  ...</div></div></div></a></nav><hr class="custom-hr"><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div></div><div class="comment-wrap"><div><div id="gitalk-container"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0OCIgaGVpZ2h0PSI0OCIgdmlld0JveD0iMCAwIDI0IDI0Ij48Y2lyY2xlIGN4PSI0IiBjeT0iMTIiIHI9IjMiIGZpbGw9ImN1cnJlbnRDb2xvciI+PGFuaW1hdGUgaWQ9InN2Z1NwaW5uZXJzM0RvdHNTY2FsZTAiIGF0dHJpYnV0ZU5hbWU9InIiIGJlZ2luPSIwO3N2Z1NwaW5uZXJzM0RvdHNTY2FsZTEuZW5kLTAuMjVzIiBkdXI9IjAuNzVzIiB2YWx1ZXM9IjM7LjI7MyIvPjwvY2lyY2xlPjxjaXJjbGUgY3g9IjEyIiBjeT0iMTIiIHI9IjMiIGZpbGw9ImN1cnJlbnRDb2xvciI+PGFuaW1hdGUgYXR0cmlidXRlTmFtZT0iciIgYmVnaW49InN2Z1NwaW5uZXJzM0RvdHNTY2FsZTAuZW5kLTAuNnMiIGR1cj0iMC43NXMiIHZhbHVlcz0iMzsuMjszIi8+PC9jaXJjbGU+PGNpcmNsZSBjeD0iMjAiIGN5PSIxMiIgcj0iMyIgZmlsbD0iY3VycmVudENvbG9yIj48YW5pbWF0ZSBpZD0ic3ZnU3Bpbm5lcnMzRG90c1NjYWxlMSIgYXR0cmlidXRlTmFtZT0iciIgYmVnaW49InN2Z1NwaW5uZXJzM0RvdHNTY2FsZTAuZW5kLTAuNDVzIiBkdXI9IjAuNzVzIiB2YWx1ZXM9IjM7LjI7MyIvPjwvY2lyY2xlPjwvc3ZnPg==" data-original="/img/avatar.jpeg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"></div><div class="author-info-name">Wake</div><div class="author-info-description">一起学习，一起进步</div><div class="site-data"><a href="/archives/"><div class="headline">文章</div><div class="length-num">203</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">569</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">26</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/uwakeme"><i class="fab fa-github"></i><span>关注我</span></a><div class="card-info-social-icons"><a class="social-icon" href="https://github.com/uwakeme" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:wakemeup2025@126.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">欢迎来到我的博客！这里分享技术知识、学习心得和生活感悟。</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content is-expand"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%89%8D%E8%A8%80"><span class="toc-text">前言</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%B8%80%E3%80%81HTML5%E6%A6%82%E8%BF%B0%E4%B8%8E%E6%A0%B8%E5%BF%83%E7%89%B9%E6%80%A7"><span class="toc-text">一、HTML5概述与核心特性</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%EF%BC%88%E4%B8%80%EF%BC%89HTML5%E7%9A%84%E5%8F%91%E5%B1%95%E5%8E%86%E7%A8%8B"><span class="toc-text">（一）HTML5的发展历程</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%EF%BC%88%E4%BA%8C%EF%BC%89HTML5%E6%A0%B8%E5%BF%83%E7%89%B9%E6%80%A7%E8%AF%A6%E8%A7%A3"><span class="toc-text">（二）HTML5核心特性详解</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BA%8C%E3%80%81HTML5%E8%A1%A8%E5%8D%95%E5%A2%9E%E5%BC%BA%E4%B8%8E%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86"><span class="toc-text">二、HTML5表单增强与数据处理</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%EF%BC%88%E4%B8%80%EF%BC%89%E6%96%B0%E7%9A%84%E8%A1%A8%E5%8D%95%E5%85%83%E7%B4%A0%E5%92%8C%E8%BE%93%E5%85%A5%E7%B1%BB%E5%9E%8B"><span class="toc-text">（一）新的表单元素和输入类型</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%B8%89%E3%80%81HTML5-Web-API%E4%B8%8E%E9%AB%98%E7%BA%A7%E5%8A%9F%E8%83%BD"><span class="toc-text">三、HTML5 Web API与高级功能</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%EF%BC%88%E4%B8%80%EF%BC%89Web%E5%AD%98%E5%82%A8%E6%8A%80%E6%9C%AF"><span class="toc-text">（一）Web存储技术</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%EF%BC%88%E4%BA%8C%EF%BC%89%E5%9C%B0%E7%90%86%E5%AE%9A%E4%BD%8DAPI"><span class="toc-text">（二）地理定位API</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%EF%BC%88%E4%B8%89%EF%BC%89%E6%8B%96%E6%8B%BDAPI"><span class="toc-text">（三）拖拽API</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%9B%9B%E3%80%81HTML5%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5%E4%B8%8E%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96"><span class="toc-text">四、HTML5最佳实践与性能优化</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%EF%BC%88%E4%B8%80%EF%BC%89%E8%AF%AD%E4%B9%89%E5%8C%96%E5%92%8C%E5%8F%AF%E8%AE%BF%E9%97%AE%E6%80%A7"><span class="toc-text">（一）语义化和可访问性</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%EF%BC%88%E4%BA%8C%EF%BC%89%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E7%AD%96%E7%95%A5"><span class="toc-text">（二）性能优化策略</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BA%94%E3%80%81%E6%80%BB%E7%BB%93%E4%B8%8E%E5%B1%95%E6%9C%9B"><span class="toc-text">五、总结与展望</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%EF%BC%88%E4%B8%80%EF%BC%89HTML5%E6%8A%80%E6%9C%AF%E6%80%BB%E7%BB%93"><span class="toc-text">（一）HTML5技术总结</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%EF%BC%88%E4%BA%8C%EF%BC%89%E5%8F%91%E5%B1%95%E8%B6%8B%E5%8A%BF%E5%92%8C%E5%B1%95%E6%9C%9B"><span class="toc-text">（二）发展趋势和展望</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99"><span class="toc-text">参考资料</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2025/08/06/%E5%89%8D%E7%AB%AF/%E3%80%90%E5%89%8D%E7%AB%AF%E3%80%91JavaScript%E8%8A%82%E6%B5%81%E4%B8%8E%E9%98%B2%E6%8A%96%E8%AF%A6%E8%A7%A3%EF%BC%9A%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E7%9A%84%E6%A0%B8%E5%BF%83%E6%8A%80%E6%9C%AF/" title="【前端】JavaScript节流与防抖详解：性能优化的核心技术"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0OCIgaGVpZ2h0PSI0OCIgdmlld0JveD0iMCAwIDI0IDI0Ij48Y2lyY2xlIGN4PSI0IiBjeT0iMTIiIHI9IjMiIGZpbGw9ImN1cnJlbnRDb2xvciI+PGFuaW1hdGUgaWQ9InN2Z1NwaW5uZXJzM0RvdHNTY2FsZTAiIGF0dHJpYnV0ZU5hbWU9InIiIGJlZ2luPSIwO3N2Z1NwaW5uZXJzM0RvdHNTY2FsZTEuZW5kLTAuMjVzIiBkdXI9IjAuNzVzIiB2YWx1ZXM9IjM7LjI7MyIvPjwvY2lyY2xlPjxjaXJjbGUgY3g9IjEyIiBjeT0iMTIiIHI9IjMiIGZpbGw9ImN1cnJlbnRDb2xvciI+PGFuaW1hdGUgYXR0cmlidXRlTmFtZT0iciIgYmVnaW49InN2Z1NwaW5uZXJzM0RvdHNTY2FsZTAuZW5kLTAuNnMiIGR1cj0iMC43NXMiIHZhbHVlcz0iMzsuMjszIi8+PC9jaXJjbGU+PGNpcmNsZSBjeD0iMjAiIGN5PSIxMiIgcj0iMyIgZmlsbD0iY3VycmVudENvbG9yIj48YW5pbWF0ZSBpZD0ic3ZnU3Bpbm5lcnMzRG90c1NjYWxlMSIgYXR0cmlidXRlTmFtZT0iciIgYmVnaW49InN2Z1NwaW5uZXJzM0RvdHNTY2FsZTAuZW5kLTAuNDVzIiBkdXI9IjAuNzVzIiB2YWx1ZXM9IjM7LjI7MyIvPjwvY2lyY2xlPjwvc3ZnPg==" data-original="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/cover/default_bg.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="【前端】JavaScript节流与防抖详解：性能优化的核心技术"></a><div class="content"><a class="title" href="/2025/08/06/%E5%89%8D%E7%AB%AF/%E3%80%90%E5%89%8D%E7%AB%AF%E3%80%91JavaScript%E8%8A%82%E6%B5%81%E4%B8%8E%E9%98%B2%E6%8A%96%E8%AF%A6%E8%A7%A3%EF%BC%9A%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E7%9A%84%E6%A0%B8%E5%BF%83%E6%8A%80%E6%9C%AF/" title="【前端】JavaScript节流与防抖详解：性能优化的核心技术">【前端】JavaScript节流与防抖详解：性能优化的核心技术</a><time datetime="2025-08-05T16:00:00.000Z" title="发表于 2025-08-06 00:00:00">2025-08-06</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/08/06/%E6%95%B0%E6%8D%AE%E5%BA%93/%E3%80%90MySQL%E3%80%91MySQL%E5%8E%BB%E9%87%8D%E6%93%8D%E4%BD%9C%E8%AF%A6%E8%A7%A3%EF%BC%9ADISTINCT%E3%80%81GROUP%20BY%E4%B8%8E%E5%AE%9E%E9%99%85%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF/" title="【MySQL】MySQL去重操作详解：DISTINCT、GROUP BY与实际应用场景"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0OCIgaGVpZ2h0PSI0OCIgdmlld0JveD0iMCAwIDI0IDI0Ij48Y2lyY2xlIGN4PSI0IiBjeT0iMTIiIHI9IjMiIGZpbGw9ImN1cnJlbnRDb2xvciI+PGFuaW1hdGUgaWQ9InN2Z1NwaW5uZXJzM0RvdHNTY2FsZTAiIGF0dHJpYnV0ZU5hbWU9InIiIGJlZ2luPSIwO3N2Z1NwaW5uZXJzM0RvdHNTY2FsZTEuZW5kLTAuMjVzIiBkdXI9IjAuNzVzIiB2YWx1ZXM9IjM7LjI7MyIvPjwvY2lyY2xlPjxjaXJjbGUgY3g9IjEyIiBjeT0iMTIiIHI9IjMiIGZpbGw9ImN1cnJlbnRDb2xvciI+PGFuaW1hdGUgYXR0cmlidXRlTmFtZT0iciIgYmVnaW49InN2Z1NwaW5uZXJzM0RvdHNTY2FsZTAuZW5kLTAuNnMiIGR1cj0iMC43NXMiIHZhbHVlcz0iMzsuMjszIi8+PC9jaXJjbGU+PGNpcmNsZSBjeD0iMjAiIGN5PSIxMiIgcj0iMyIgZmlsbD0iY3VycmVudENvbG9yIj48YW5pbWF0ZSBpZD0ic3ZnU3Bpbm5lcnMzRG90c1NjYWxlMSIgYXR0cmlidXRlTmFtZT0iciIgYmVnaW49InN2Z1NwaW5uZXJzM0RvdHNTY2FsZTAuZW5kLTAuNDVzIiBkdXI9IjAuNzVzIiB2YWx1ZXM9IjM7LjI7MyIvPjwvY2lyY2xlPjwvc3ZnPg==" data-original="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/cover/default_bg.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="【MySQL】MySQL去重操作详解：DISTINCT、GROUP BY与实际应用场景"></a><div class="content"><a class="title" href="/2025/08/06/%E6%95%B0%E6%8D%AE%E5%BA%93/%E3%80%90MySQL%E3%80%91MySQL%E5%8E%BB%E9%87%8D%E6%93%8D%E4%BD%9C%E8%AF%A6%E8%A7%A3%EF%BC%9ADISTINCT%E3%80%81GROUP%20BY%E4%B8%8E%E5%AE%9E%E9%99%85%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF/" title="【MySQL】MySQL去重操作详解：DISTINCT、GROUP BY与实际应用场景">【MySQL】MySQL去重操作详解：DISTINCT、GROUP BY与实际应用场景</a><time datetime="2025-08-05T16:00:00.000Z" title="发表于 2025-08-06 00:00:00">2025-08-06</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/08/06/%E8%BD%AF%E4%BB%B6%E5%8A%9F%E8%83%BD%E8%A7%A3%E6%9E%90/%E3%80%90%E8%BD%AF%E4%BB%B6%E5%8A%9F%E8%83%BD%E8%A7%A3%E6%9E%90%E3%80%91B%E7%AB%99%E5%BC%B9%E5%B9%95%E7%B3%BB%E7%BB%9F%E6%8A%80%E6%9C%AF%E5%AE%9E%E7%8E%B0%E6%B7%B1%E5%BA%A6%E5%89%96%E6%9E%90%EF%BC%9A%E4%BB%8E%E5%89%8D%E7%AB%AF%E6%B8%B2%E6%9F%93%E5%88%B0%E5%90%8E%E7%AB%AF%E5%AD%98%E5%82%A8/" title="【软件功能解析】B站弹幕系统技术实现深度剖析：从前端渲染到后端存储"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0OCIgaGVpZ2h0PSI0OCIgdmlld0JveD0iMCAwIDI0IDI0Ij48Y2lyY2xlIGN4PSI0IiBjeT0iMTIiIHI9IjMiIGZpbGw9ImN1cnJlbnRDb2xvciI+PGFuaW1hdGUgaWQ9InN2Z1NwaW5uZXJzM0RvdHNTY2FsZTAiIGF0dHJpYnV0ZU5hbWU9InIiIGJlZ2luPSIwO3N2Z1NwaW5uZXJzM0RvdHNTY2FsZTEuZW5kLTAuMjVzIiBkdXI9IjAuNzVzIiB2YWx1ZXM9IjM7LjI7MyIvPjwvY2lyY2xlPjxjaXJjbGUgY3g9IjEyIiBjeT0iMTIiIHI9IjMiIGZpbGw9ImN1cnJlbnRDb2xvciI+PGFuaW1hdGUgYXR0cmlidXRlTmFtZT0iciIgYmVnaW49InN2Z1NwaW5uZXJzM0RvdHNTY2FsZTAuZW5kLTAuNnMiIGR1cj0iMC43NXMiIHZhbHVlcz0iMzsuMjszIi8+PC9jaXJjbGU+PGNpcmNsZSBjeD0iMjAiIGN5PSIxMiIgcj0iMyIgZmlsbD0iY3VycmVudENvbG9yIj48YW5pbWF0ZSBpZD0ic3ZnU3Bpbm5lcnMzRG90c1NjYWxlMSIgYXR0cmlidXRlTmFtZT0iciIgYmVnaW49InN2Z1NwaW5uZXJzM0RvdHNTY2FsZTAuZW5kLTAuNDVzIiBkdXI9IjAuNzVzIiB2YWx1ZXM9IjM7LjI7MyIvPjwvY2lyY2xlPjwvc3ZnPg==" data-original="https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/bilibili.svg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="【软件功能解析】B站弹幕系统技术实现深度剖析：从前端渲染到后端存储"></a><div class="content"><a class="title" href="/2025/08/06/%E8%BD%AF%E4%BB%B6%E5%8A%9F%E8%83%BD%E8%A7%A3%E6%9E%90/%E3%80%90%E8%BD%AF%E4%BB%B6%E5%8A%9F%E8%83%BD%E8%A7%A3%E6%9E%90%E3%80%91B%E7%AB%99%E5%BC%B9%E5%B9%95%E7%B3%BB%E7%BB%9F%E6%8A%80%E6%9C%AF%E5%AE%9E%E7%8E%B0%E6%B7%B1%E5%BA%A6%E5%89%96%E6%9E%90%EF%BC%9A%E4%BB%8E%E5%89%8D%E7%AB%AF%E6%B8%B2%E6%9F%93%E5%88%B0%E5%90%8E%E7%AB%AF%E5%AD%98%E5%82%A8/" title="【软件功能解析】B站弹幕系统技术实现深度剖析：从前端渲染到后端存储">【软件功能解析】B站弹幕系统技术实现深度剖析：从前端渲染到后端存储</a><time datetime="2025-08-05T16:00:00.000Z" title="发表于 2025-08-06 00:00:00">2025-08-06</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/08/06/%E8%BD%AF%E4%BB%B6%E5%8A%9F%E8%83%BD%E8%A7%A3%E6%9E%90/%E3%80%90%E8%BD%AF%E4%BB%B6%E5%8A%9F%E8%83%BD%E8%A7%A3%E6%9E%90%E3%80%91%E6%B8%B8%E6%88%8F%E6%8A%BD%E5%A5%96%E7%B3%BB%E7%BB%9F%E6%8A%80%E6%9C%AF%E5%AE%9E%E7%8E%B0%EF%BC%9A%E6%A6%82%E7%8E%87%E7%AE%97%E6%B3%95%E3%80%81%E9%98%B2%E4%BD%9C%E5%BC%8A%E4%B8%8E%E7%94%A8%E6%88%B7%E5%BF%83%E7%90%86%E8%AE%BE%E8%AE%A1/" title="【软件功能解析】游戏抽奖系统技术实现：概率算法、防作弊与用户心理设计"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0OCIgaGVpZ2h0PSI0OCIgdmlld0JveD0iMCAwIDI0IDI0Ij48Y2lyY2xlIGN4PSI0IiBjeT0iMTIiIHI9IjMiIGZpbGw9ImN1cnJlbnRDb2xvciI+PGFuaW1hdGUgaWQ9InN2Z1NwaW5uZXJzM0RvdHNTY2FsZTAiIGF0dHJpYnV0ZU5hbWU9InIiIGJlZ2luPSIwO3N2Z1NwaW5uZXJzM0RvdHNTY2FsZTEuZW5kLTAuMjVzIiBkdXI9IjAuNzVzIiB2YWx1ZXM9IjM7LjI7MyIvPjwvY2lyY2xlPjxjaXJjbGUgY3g9IjEyIiBjeT0iMTIiIHI9IjMiIGZpbGw9ImN1cnJlbnRDb2xvciI+PGFuaW1hdGUgYXR0cmlidXRlTmFtZT0iciIgYmVnaW49InN2Z1NwaW5uZXJzM0RvdHNTY2FsZTAuZW5kLTAuNnMiIGR1cj0iMC43NXMiIHZhbHVlcz0iMzsuMjszIi8+PC9jaXJjbGU+PGNpcmNsZSBjeD0iMjAiIGN5PSIxMiIgcj0iMyIgZmlsbD0iY3VycmVudENvbG9yIj48YW5pbWF0ZSBpZD0ic3ZnU3Bpbm5lcnMzRG90c1NjYWxlMSIgYXR0cmlidXRlTmFtZT0iciIgYmVnaW49InN2Z1NwaW5uZXJzM0RvdHNTY2FsZTAuZW5kLTAuNDVzIiBkdXI9IjAuNzVzIiB2YWx1ZXM9IjM7LjI7MyIvPjwvY2lyY2xlPjwvc3ZnPg==" data-original="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/cover/default_bg.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="【软件功能解析】游戏抽奖系统技术实现：概率算法、防作弊与用户心理设计"></a><div class="content"><a class="title" href="/2025/08/06/%E8%BD%AF%E4%BB%B6%E5%8A%9F%E8%83%BD%E8%A7%A3%E6%9E%90/%E3%80%90%E8%BD%AF%E4%BB%B6%E5%8A%9F%E8%83%BD%E8%A7%A3%E6%9E%90%E3%80%91%E6%B8%B8%E6%88%8F%E6%8A%BD%E5%A5%96%E7%B3%BB%E7%BB%9F%E6%8A%80%E6%9C%AF%E5%AE%9E%E7%8E%B0%EF%BC%9A%E6%A6%82%E7%8E%87%E7%AE%97%E6%B3%95%E3%80%81%E9%98%B2%E4%BD%9C%E5%BC%8A%E4%B8%8E%E7%94%A8%E6%88%B7%E5%BF%83%E7%90%86%E8%AE%BE%E8%AE%A1/" title="【软件功能解析】游戏抽奖系统技术实现：概率算法、防作弊与用户心理设计">【软件功能解析】游戏抽奖系统技术实现：概率算法、防作弊与用户心理设计</a><time datetime="2025-08-05T16:00:00.000Z" title="发表于 2025-08-06 00:00:00">2025-08-06</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/08/05/%E5%8D%9A%E5%AE%A2/%E3%80%90%E5%8D%9A%E5%AE%A2%E3%80%91%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BAHexo%E5%8D%9A%E5%AE%A2%E7%BD%91%E7%AB%99/" title="【博客】搭建个人Hexo博客网站"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0OCIgaGVpZ2h0PSI0OCIgdmlld0JveD0iMCAwIDI0IDI0Ij48Y2lyY2xlIGN4PSI0IiBjeT0iMTIiIHI9IjMiIGZpbGw9ImN1cnJlbnRDb2xvciI+PGFuaW1hdGUgaWQ9InN2Z1NwaW5uZXJzM0RvdHNTY2FsZTAiIGF0dHJpYnV0ZU5hbWU9InIiIGJlZ2luPSIwO3N2Z1NwaW5uZXJzM0RvdHNTY2FsZTEuZW5kLTAuMjVzIiBkdXI9IjAuNzVzIiB2YWx1ZXM9IjM7LjI7MyIvPjwvY2lyY2xlPjxjaXJjbGUgY3g9IjEyIiBjeT0iMTIiIHI9IjMiIGZpbGw9ImN1cnJlbnRDb2xvciI+PGFuaW1hdGUgYXR0cmlidXRlTmFtZT0iciIgYmVnaW49InN2Z1NwaW5uZXJzM0RvdHNTY2FsZTAuZW5kLTAuNnMiIGR1cj0iMC43NXMiIHZhbHVlcz0iMzsuMjszIi8+PC9jaXJjbGU+PGNpcmNsZSBjeD0iMjAiIGN5PSIxMiIgcj0iMyIgZmlsbD0iY3VycmVudENvbG9yIj48YW5pbWF0ZSBpZD0ic3ZnU3Bpbm5lcnMzRG90c1NjYWxlMSIgYXR0cmlidXRlTmFtZT0iciIgYmVnaW49InN2Z1NwaW5uZXJzM0RvdHNTY2FsZTAuZW5kLTAuNDVzIiBkdXI9IjAuNzVzIiB2YWx1ZXM9IjM7LjI7MyIvPjwvY2lyY2xlPjwvc3ZnPg==" data-original="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/cover/default_bg.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="【博客】搭建个人Hexo博客网站"></a><div class="content"><a class="title" href="/2025/08/05/%E5%8D%9A%E5%AE%A2/%E3%80%90%E5%8D%9A%E5%AE%A2%E3%80%91%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BAHexo%E5%8D%9A%E5%AE%A2%E7%BD%91%E7%AB%99/" title="【博客】搭建个人Hexo博客网站">【博客】搭建个人Hexo博客网站</a><time datetime="2025-08-05T01:02:58.009Z" title="发表于 2025-08-05 09:02:58">2025-08-05</time></div></div></div></div></div></div></main><footer id="footer"><div class="footer-other"><div class="footer-copyright"><span class="copyright">©2024 - 2025 By Wake</span></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="日间和夜间模式切换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="前往评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="https://cdn.jsdelivr.net/npm/hexo-theme-butterfly@5.4.2/source/js/utils.min.js"></script><script src="https://cdn.jsdelivr.net/npm/hexo-theme-butterfly@5.4.2/source/js/main.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page@5.2.0/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload@19.1.3/dist/lazyload.iife.min.js"></script><div class="js-pjax"><script>(() => {
  const runMermaid = ele => {
    window.loadMermaid = true
    const theme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'dark' : 'default'

    ele.forEach((item, index) => {
      const mermaidSrc = item.firstElementChild
      const mermaidThemeConfig = `%%{init:{ 'theme':'${theme}'}}%%\n`
      const mermaidID = `mermaid-${index}`
      const mermaidDefinition = mermaidThemeConfig + mermaidSrc.textContent

      const renderFn = mermaid.render(mermaidID, mermaidDefinition)
      const renderMermaid = svg => {
        mermaidSrc.insertAdjacentHTML('afterend', svg)
      }

      // mermaid v9 and v10 compatibility
      typeof renderFn === 'string' ? renderMermaid(renderFn) : renderFn.then(({ svg }) => renderMermaid(svg))
    })
  }

  const codeToMermaid = () => {
    const codeMermaidEle = document.querySelectorAll('pre > code.mermaid')
    if (codeMermaidEle.length === 0) return

    codeMermaidEle.forEach(ele => {
      const preEle = document.createElement('pre')
      preEle.className = 'mermaid-src'
      preEle.hidden = true
      preEle.textContent = ele.textContent
      const newEle = document.createElement('div')
      newEle.className = 'mermaid-wrap'
      newEle.appendChild(preEle)
      ele.parentNode.replaceWith(newEle)
    })
  }

  const loadMermaid = () => {
    if (true) codeToMermaid()
    const $mermaid = document.querySelectorAll('#article-container .mermaid-wrap')
    if ($mermaid.length === 0) return

    const runMermaidFn = () => runMermaid($mermaid)
    btf.addGlobalFn('themeChange', runMermaidFn, 'mermaid')
    window.loadMermaid ? runMermaidFn() : btf.getScript('https://cdn.jsdelivr.net/npm/mermaid@11.8.0/dist/mermaid.min.js').then(runMermaidFn)
  }

  btf.addGlobalFn('encrypt', loadMermaid, 'mermaid')
  window.pjax ? loadMermaid() : document.addEventListener('DOMContentLoaded', loadMermaid)
})()</script><script>(() => {
  const isShuoshuo = GLOBAL_CONFIG_SITE.pageType === 'shuoshuo'
  const option = null

  const commentCount = n => {
    const isCommentCount = document.querySelector('#post-meta .gitalk-comment-count')
    if (isCommentCount) {
      isCommentCount.textContent= n
    }
  }

  const initGitalk = (el, path) => {
    if (isShuoshuo) {
      window.shuoshuoComment.destroyGitalk = () => {
        if (el.children.length) {
          el.innerHTML = ''
          el.classList.add('no-comment')
        }
      }
    }

    const gitalk = new Gitalk({
      clientID: 'Ov23liBiL0mPM9ywqcV3',
      clientSecret: '99811bbc42de51338a2ef755501651c968f3240c',
      repo: 'uwakeme/gitalk-pool',
      owner: 'uwakeme',
      admin: ['uwakeme'],
      updateCountCallback: commentCount,
      ...option,
      id: isShuoshuo ? path : (option && option.id) || '87bddc9f36dbe0e93456e34e0d7fa45d'
    })

    gitalk.render('gitalk-container')
  }

  const loadGitalk = async(el, path) => {
    if (typeof Gitalk === 'function') initGitalk(el, path)
    else {
      await btf.getCSS('https://cdn.jsdelivr.net/npm/gitalk@1.8.0/dist/gitalk.min.css')
      await btf.getScript('https://cdn.jsdelivr.net/npm/gitalk@1.8.0/dist/gitalk.min.js')
      initGitalk(el, path)
    }
  }

  if (isShuoshuo) {
    'Gitalk' === 'Gitalk'
      ? window.shuoshuoComment = { loadComment: loadGitalk }
      : window.loadOtherComment = loadGitalk
    return
  }

  if ('Gitalk' === 'Gitalk' || !false) {
    if (false) btf.loadComment(document.getElementById('gitalk-container'), loadGitalk)
    else loadGitalk()
  } else {
    window.loadOtherComment = loadGitalk
  }
})()</script></div><canvas class="fireworks" mobile="false"></canvas><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.4/dist/fireworks.min.js"></script><script defer="defer" id="fluttering_ribbon" mobile="true" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.4/dist/canvas-fluttering-ribbon.min.js"></script><script id="canvas_nest" defer="defer" color="0,0,255" opacity="0.7" zindex="-1" count="99" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.4/dist/canvas-nest.min.js"></script><script async="" data-pjax="" src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="text-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="请输入搜索内容" type="text"></div></div><hr><div id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="https://cdn.jsdelivr.net/npm/hexo-theme-butterfly@5.4.2/source/js/search/local-search.min.js"></script></div></div>
        <style>
            [bg-lazy] {
                background-image: none !important;
                background-color: #eee !important;
            }
        </style>
        <script src="/bundle.js"></script><script>L2Dwidget.init({"log":false,"pluginJsPath":"lib/","pluginModelPath":"assets/","pluginRootPath":"live2dw/","tagMode":false});;

            window.imageLazyLoadSetting = {
                isSPA: false,
                preloadRatio: 1,
                processImages: null,
            };
        ;
window.addEventListener("load",function(){var t=/\.(gif|jpg|jpeg|tiff|png)$/i,r=/^data:image\/[a-z\d\-\.\+]+;base64,/;Array.prototype.slice.call(document.querySelectorAll("img[data-original]")).forEach(function(a){var e=a.parentNode;"A"===e.tagName&&(t.test(e.href)||r.test(e.href))&&(e.href=a.dataset.original)})});;
(r=>{r.imageLazyLoadSetting.processImages=t;var a=r.imageLazyLoadSetting.isSPA,o=r.imageLazyLoadSetting.preloadRatio||1,d=i();function i(){var t=Array.prototype.slice.call(document.querySelectorAll("img[data-original]")),e=Array.prototype.slice.call(document.querySelectorAll("[bg-lazy]"));return t.concat(e)}function t(t){(a||t)&&(d=i());for(var e,n=0;n<d.length;n++)0<=(e=(e=d[n]).getBoundingClientRect()).bottom&&0<=e.left&&e.top<=(r.innerHeight*o||document.documentElement.clientHeight*o)&&(()=>{var t,e,a,o,i=d[n];e=function(){d=d.filter(function(t){return i!==t}),r.imageLazyLoadSetting.onImageLoaded&&r.imageLazyLoadSetting.onImageLoaded(i)},(t=i).dataset.loaded||(t.hasAttribute("bg-lazy")?(t.removeAttribute("bg-lazy"),e&&e()):(a=new Image,o=t.getAttribute("data-original"),a.onload=function(){t.src=o,t.removeAttribute("data-original"),t.setAttribute("data-loaded",!0),e&&e()},a.onerror=function(){t.removeAttribute("data-original"),t.setAttribute("data-loaded",!1),t.src=o},t.src!==o&&(a.src=o)))})()}function e(){clearTimeout(t.tId),t.tId=setTimeout(t,500)}t(),document.addEventListener("scroll",e),r.addEventListener("resize",e),r.addEventListener("orientationchange",e)})(this);</script></body></html>