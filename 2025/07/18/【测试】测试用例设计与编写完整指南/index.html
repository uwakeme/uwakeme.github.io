

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">

  <link rel="apple-touch-icon" sizes="76x76" href="/img/fluid.png">
  <link rel="icon" href="https://cdn.jsdelivr.net/gh/uwakeme/cdn@main/img/favicon.png">
  

  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
    <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="Wake">
  <meta name="keywords" content="技术博客, Web开发, 后端开发, Java, Python, 人工智能, 编程学习, 技术分享">
  
    <meta name="description" content="测试用例设计与编写完整指南前言测试用例是软件测试的核心组成部分，是验证软件功能、性能和质量的重要手段。一个好的测试用例不仅能够发现软件缺陷，还能确保软件满足用户需求和业务要求。本文将全面介绍测试用例的设计原则、编写方法、管理策略以及最佳实践，帮助测试工程师和开发人员掌握测试用例的核心技能。 一、测试用例基础概念1.1 什么是测试用例测试用例（Test Case）是为了验证软件系统的特定功能或特性而">
<meta property="og:type" content="article">
<meta property="og:title" content="【测试】测试用例设计与编写完整指南">
<meta property="og:url" content="https://uwakeme.top/2025/07/18/%E3%80%90%E6%B5%8B%E8%AF%95%E3%80%91%E6%B5%8B%E8%AF%95%E7%94%A8%E4%BE%8B%E8%AE%BE%E8%AE%A1%E4%B8%8E%E7%BC%96%E5%86%99%E5%AE%8C%E6%95%B4%E6%8C%87%E5%8D%97/index.html">
<meta property="og:site_name" content="Uwakeme">
<meta property="og:description" content="测试用例设计与编写完整指南前言测试用例是软件测试的核心组成部分，是验证软件功能、性能和质量的重要手段。一个好的测试用例不仅能够发现软件缺陷，还能确保软件满足用户需求和业务要求。本文将全面介绍测试用例的设计原则、编写方法、管理策略以及最佳实践，帮助测试工程师和开发人员掌握测试用例的核心技能。 一、测试用例基础概念1.1 什么是测试用例测试用例（Test Case）是为了验证软件系统的特定功能或特性而">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2025-07-17T16:00:00.000Z">
<meta property="article:modified_time" content="2025-07-18T09:23:45.829Z">
<meta property="article:author" content="Wake">
<meta property="article:tag" content="测试用例">
<meta property="article:tag" content="软件测试">
<meta property="article:tag" content="质量保证">
<meta property="article:tag" content="单元测试">
<meta property="article:tag" content="集成测试">
<meta property="article:tag" content="自动化测试">
<meta name="twitter:card" content="summary_large_image">
  
  
    <meta name="referrer" content="no-referrer-when-downgrade">
  
  
  <title>【测试】测试用例设计与编写完整指南 - Uwakeme</title>

  <link  rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css" />



  <link  rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css" />



<!-- 主题依赖的图标库，不要自行修改 -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/c/font_1749284_5i9bdhy70f8.css">



<link rel="stylesheet" href="//at.alicdn.com/t/c/font_1736178_k526ubmyhba.css">


<link  rel="stylesheet" href="/css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="/css/highlight.css" />
  
    <link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css" />
  



  
<link rel="stylesheet" href="//at.alicdn.com/t/c/font_3846514_kabxni94auf.css">
<link rel="stylesheet" href="/css/custom.css">
<link rel="stylesheet" href="/css/ai-assistant.css">



  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    Fluid.ctx = Object.assign({}, Fluid.ctx)
    var CONFIG = {"hostname":"uwakeme.top","root":"/","version":"1.9.8","typing":{"enable":true,"typeSpeed":70,"cursorChar":"|","loop":false,"scope":[],"backSpeed":40,"showCursor":true},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"right","visible":"hover","icon":"#"},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100},"position_indicator":{"enable":true,"color":"#33a3dc"}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":true},"image_zoom":{"enable":true,"img_url_replace":["",""],"img_max_width":"80%","img_max_height":"80%"},"toc":{"enable":true,"placement":"right","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0,"level":3,"collapse":false,"follow":true,"number":true,"heading_list":true,"expand_all":true},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2,"element_loading_img":true},"web_analytics":{"enable":true,"follow_dnt":true,"baidu":"41fc030db57d5570dd22f78997dc4a7e","google":{"measurement_id":null},"tencent":{"sid":null,"cid":null},"leancloud":{"app_id":null,"app_key":null,"server_url":null,"path":"window.location.pathname","ignore_local":false},"umami":{"src":null,"website_id":null,"domains":null,"start_time":"2024-01-01T00:00:00.000Z","token":null,"api_server":null},"busuanzi":{"enable":true,"script_url":"//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js","site_uv":true,"site_pv":true,"page_pv":true}},"search_path":"/local-search.xml","include_content_in_search":true};

    if (CONFIG.web_analytics.follow_dnt) {
      var dntVal = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      Fluid.ctx.dnt = dntVal && (dntVal.startsWith('1') || dntVal.startsWith('yes') || dntVal.startsWith('on'));
    }
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
  

  
    <!-- Baidu Analytics -->
    <script async>
      if (!Fluid.ctx.dnt) {
        var _hmt = _hmt || [];
        (function() {
          var hm = document.createElement("script");
          hm.src = "https://hm.baidu.com/hm.js?41fc030db57d5570dd22f78997dc4a7e";
          var s = document.getElementsByTagName("script")[0];
          s.parentNode.insertBefore(hm, s);
        })();
      }
    </script>
  

  

  

  

  



  
<meta name="generator" content="Hexo 7.3.0"></head>


<body>
  

  <header>
    

<div class="header-inner" style="height: 70vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>Wake 的博客</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/" target="_self">
                <i class="iconfont icon-home-fill"></i>
                <span>首页</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives" target="_self">
                <i class="iconfont icon-books"></i>
                <span>归档</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories" target="_self">
                <i class="iconfont icon-th-large"></i>
                <span>分类</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/" target="_self">
                <i class="iconfont icon-tags-fill"></i>
                <span>标签</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/" target="_self">
                <i class="iconfont icon-user-fill"></i>
                <span>关于</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/links/" target="_self">
                <i class="iconfont icon-link-fill"></i>
                <span>友链</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" target="_self" href="javascript:;" role="button"
                 data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                <i class="iconfont icon-book"></i>
                <span>文档</span>
              </a>
              <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                
                  
                  
                  
                  <a class="dropdown-item" href="https://hexo.fluid-dev.com/" target="_self">
                    
                    <span>主题博客</span>
                  </a>
                
                  
                  
                  
                  <a class="dropdown-item" href="https://hexo.fluid-dev.com/docs/guide/" target="_self">
                    
                    <span>配置指南</span>
                  </a>
                
                  
                  
                  
                  <a class="dropdown-item" href="https://hexo.fluid-dev.com/docs/icon/" target="_self">
                    
                    <span>图标用法</span>
                  </a>
                
              </div>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              <i class="iconfont icon-search"></i>
            </a>
          </li>
          
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">
              <i class="iconfont icon-dark" id="color-toggle-icon"></i>
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax=true
     style="background: url('/img/default.png') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle" data-typed-text="【测试】测试用例设计与编写完整指南"></span>
          
        </div>

        
          
  <div class="mt-3">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-author" aria-hidden="true"></i>
        Wake
      </span>
    
    
      <span class="post-meta">
        <i class="iconfont icon-date-fill" aria-hidden="true"></i>
        <time datetime="2025-07-18 00:00" pubdate>
          2025-07-18 00:00
        </time>
      </span>
    
  </div>

  <div class="mt-1">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-chart"></i>
        
          <!-- compatible with older versions-->
          5.9k 字
        
      </span>
    

    
      <span class="post-meta mr-2">
        <i class="iconfont icon-clock-fill"></i>
        
        
        
          <!-- compatible with older versions-->
          49 分钟
        
      </span>
    

    
    
      
        <span id="busuanzi_container_page_pv" style="display: none">
          <i class="iconfont icon-eye" aria-hidden="true"></i>
          <span id="busuanzi_value_page_pv"></span> 次
        </span>
        

      
    
  </div>


        
      </div>

      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="side-col d-none d-lg-block col-lg-2">
      

    </div>

    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div id="board">
          <article class="post-content mx-auto">
            <h1 id="seo-header">【测试】测试用例设计与编写完整指南</h1>
            
            
              <div class="markdown-body">
                
                <h1 id="测试用例设计与编写完整指南"><a href="#测试用例设计与编写完整指南" class="headerlink" title="测试用例设计与编写完整指南"></a>测试用例设计与编写完整指南</h1><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>测试用例是软件测试的核心组成部分，是验证软件功能、性能和质量的重要手段。一个好的测试用例不仅能够发现软件缺陷，还能确保软件满足用户需求和业务要求。本文将全面介绍测试用例的设计原则、编写方法、管理策略以及最佳实践，帮助测试工程师和开发人员掌握测试用例的核心技能。</p>
<h2 id="一、测试用例基础概念"><a href="#一、测试用例基础概念" class="headerlink" title="一、测试用例基础概念"></a>一、测试用例基础概念</h2><h3 id="1-1-什么是测试用例"><a href="#1-1-什么是测试用例" class="headerlink" title="1.1 什么是测试用例"></a>1.1 什么是测试用例</h3><p>测试用例（Test Case）是为了验证软件系统的特定功能或特性而设计的一组测试步骤、测试数据和预期结果的集合。</p>
<h4 id="测试用例的组成要素"><a href="#测试用例的组成要素" class="headerlink" title="测试用例的组成要素"></a>测试用例的组成要素</h4><figure><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">测试用例 &#x3D; &#123;
    用例编号: &quot;TC_001&quot;,
    用例标题: &quot;用户登录功能验证&quot;,
    测试目标: &quot;验证用户能够正常登录系统&quot;,
    前置条件: &quot;用户已注册且账号状态正常&quot;,
    测试步骤: [
        &quot;1. 打开登录页面&quot;,
        &quot;2. 输入正确的用户名和密码&quot;,
        &quot;3. 点击登录按钮&quot;
    ],
    测试数据: &#123;
        用户名: &quot;testuser@example.com&quot;,
        密码: &quot;Password123&quot;
    &#125;,
    预期结果: &quot;用户成功登录，跳转到主页面&quot;,
    实际结果: &quot;&quot;,
    测试状态: &quot;待执行&quot;,
    优先级: &quot;高&quot;,
    执行人: &quot;张三&quot;,
    执行时间: &quot;2025-07-18&quot;
&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>

<h3 id="1-2-测试用例的价值"><a href="#1-2-测试用例的价值" class="headerlink" title="1.2 测试用例的价值"></a>1.2 测试用例的价值</h3><h4 id="质量保证价值"><a href="#质量保证价值" class="headerlink" title="质量保证价值"></a>质量保证价值</h4><ul>
<li><strong>缺陷发现</strong>：系统性地发现软件缺陷</li>
<li><strong>需求验证</strong>：确保软件满足业务需求</li>
<li><strong>回归测试</strong>：确保新功能不影响现有功能</li>
<li><strong>风险控制</strong>：降低软件发布风险</li>
</ul>
<h4 id="项目管理价值"><a href="#项目管理价值" class="headerlink" title="项目管理价值"></a>项目管理价值</h4><ul>
<li><strong>进度跟踪</strong>：通过用例执行率监控测试进度</li>
<li><strong>质量度量</strong>：通过缺陷密度评估软件质量</li>
<li><strong>资源规划</strong>：估算测试工作量和时间</li>
<li><strong>沟通工具</strong>：团队间的沟通和协作基础</li>
</ul>
<h3 id="1-3-测试用例分类"><a href="#1-3-测试用例分类" class="headerlink" title="1.3 测试用例分类"></a>1.3 测试用例分类</h3><h4 id="按测试层级分类"><a href="#按测试层级分类" class="headerlink" title="按测试层级分类"></a>按测试层级分类</h4><figure><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">测试金字塔：
    ┌─────────────────┐
    │   E2E测试       │  ← 少量，高价值
    │   (端到端测试)   │
    ├─────────────────┤
    │   集成测试       │  ← 适量，关键路径
    │   (API测试)     │
    ├─────────────────┤
    │   单元测试       │  ← 大量，快速反馈
    │   (函数&#x2F;方法)    │
    └─────────────────┘<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>

<h4 id="按测试类型分类"><a href="#按测试类型分类" class="headerlink" title="按测试类型分类"></a>按测试类型分类</h4><ul>
<li><strong>功能测试用例</strong>：验证功能是否正确实现</li>
<li><strong>性能测试用例</strong>：验证系统性能指标</li>
<li><strong>安全测试用例</strong>：验证系统安全性</li>
<li><strong>兼容性测试用例</strong>：验证跨平台兼容性</li>
<li><strong>易用性测试用例</strong>：验证用户体验</li>
</ul>
<h2 id="二、测试用例设计方法"><a href="#二、测试用例设计方法" class="headerlink" title="二、测试用例设计方法"></a>二、测试用例设计方法</h2><h3 id="2-1-等价类划分法"><a href="#2-1-等价类划分法" class="headerlink" title="2.1 等价类划分法"></a>2.1 等价类划分法</h3><h4 id="基本原理"><a href="#基本原理" class="headerlink" title="基本原理"></a>基本原理</h4><p>将输入域划分为若干等价类，从每个等价类中选取代表性数据进行测试。</p>
<h4 id="实际应用示例"><a href="#实际应用示例" class="headerlink" title="实际应用示例"></a>实际应用示例</h4><figure><div class="code-wrapper"><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// 用户年龄验证功能测试</span>
<span class="token keyword">function</span> <span class="token function">validateAge</span><span class="token punctuation">(</span><span class="token parameter">age</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>age <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token string">"年龄不能为负数"</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>age <span class="token operator">&lt;</span> <span class="token number">18</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token string">"未成年用户"</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>age <span class="token operator">&lt;=</span> <span class="token number">65</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token string">"成年用户"</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>age <span class="token operator">></span> <span class="token number">65</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token string">"老年用户"</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>age <span class="token operator">></span> <span class="token number">150</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token string">"年龄超出合理范围"</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">// 等价类划分</span>
<span class="token keyword">const</span> testCases <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token comment">// 有效等价类</span>
    <span class="token punctuation">&#123;</span> <span class="token literal-property property">input</span><span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token literal-property property">expected</span><span class="token operator">:</span> <span class="token string">"未成年用户"</span><span class="token punctuation">,</span> <span class="token literal-property property">description</span><span class="token operator">:</span> <span class="token string">"有效年龄-儿童"</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    <span class="token punctuation">&#123;</span> <span class="token literal-property property">input</span><span class="token operator">:</span> <span class="token number">25</span><span class="token punctuation">,</span> <span class="token literal-property property">expected</span><span class="token operator">:</span> <span class="token string">"成年用户"</span><span class="token punctuation">,</span> <span class="token literal-property property">description</span><span class="token operator">:</span> <span class="token string">"有效年龄-成年"</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    <span class="token punctuation">&#123;</span> <span class="token literal-property property">input</span><span class="token operator">:</span> <span class="token number">70</span><span class="token punctuation">,</span> <span class="token literal-property property">expected</span><span class="token operator">:</span> <span class="token string">"老年用户"</span><span class="token punctuation">,</span> <span class="token literal-property property">description</span><span class="token operator">:</span> <span class="token string">"有效年龄-老年"</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    
    <span class="token comment">// 无效等价类</span>
    <span class="token punctuation">&#123;</span> <span class="token literal-property property">input</span><span class="token operator">:</span> <span class="token operator">-</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token literal-property property">expected</span><span class="token operator">:</span> <span class="token string">"年龄不能为负数"</span><span class="token punctuation">,</span> <span class="token literal-property property">description</span><span class="token operator">:</span> <span class="token string">"无效年龄-负数"</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    <span class="token punctuation">&#123;</span> <span class="token literal-property property">input</span><span class="token operator">:</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token literal-property property">expected</span><span class="token operator">:</span> <span class="token string">"年龄超出合理范围"</span><span class="token punctuation">,</span> <span class="token literal-property property">description</span><span class="token operator">:</span> <span class="token string">"无效年龄-超大值"</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    <span class="token punctuation">&#123;</span> <span class="token literal-property property">input</span><span class="token operator">:</span> <span class="token string">"abc"</span><span class="token punctuation">,</span> <span class="token literal-property property">expected</span><span class="token operator">:</span> <span class="token string">"输入格式错误"</span><span class="token punctuation">,</span> <span class="token literal-property property">description</span><span class="token operator">:</span> <span class="token string">"无效年龄-非数字"</span> <span class="token punctuation">&#125;</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>

<h3 id="2-2-边界值分析法"><a href="#2-2-边界值分析法" class="headerlink" title="2.2 边界值分析法"></a>2.2 边界值分析法</h3><h4 id="基本原理-1"><a href="#基本原理-1" class="headerlink" title="基本原理"></a>基本原理</h4><p>重点测试输入域边界上和边界附近的值，因为边界处最容易出现错误。</p>
<h4 id="边界值测试示例"><a href="#边界值测试示例" class="headerlink" title="边界值测试示例"></a>边界值测试示例</h4><figure><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">test_password_length_validation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">"""密码长度验证的边界值测试"""</span>
    
    <span class="token comment"># 边界值：最小长度8，最大长度20</span>
    boundary_test_cases <span class="token operator">=</span> <span class="token punctuation">[</span>
        <span class="token comment"># 下边界测试</span>
        <span class="token punctuation">(</span><span class="token string">"1234567"</span><span class="token punctuation">,</span> <span class="token boolean">False</span><span class="token punctuation">,</span> <span class="token string">"7位密码-低于最小长度"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">(</span><span class="token string">"12345678"</span><span class="token punctuation">,</span> <span class="token boolean">True</span><span class="token punctuation">,</span> <span class="token string">"8位密码-最小长度边界"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">(</span><span class="token string">"123456789"</span><span class="token punctuation">,</span> <span class="token boolean">True</span><span class="token punctuation">,</span> <span class="token string">"9位密码-最小长度+1"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        
        <span class="token comment"># 上边界测试</span>
        <span class="token punctuation">(</span><span class="token string">"12345678901234567890"</span><span class="token punctuation">,</span> <span class="token boolean">True</span><span class="token punctuation">,</span> <span class="token string">"20位密码-最大长度边界"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">(</span><span class="token string">"123456789012345678901"</span><span class="token punctuation">,</span> <span class="token boolean">False</span><span class="token punctuation">,</span> <span class="token string">"21位密码-超过最大长度"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">(</span><span class="token string">"1234567890123456789"</span><span class="token punctuation">,</span> <span class="token boolean">True</span><span class="token punctuation">,</span> <span class="token string">"19位密码-最大长度-1"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        
        <span class="token comment"># 特殊边界</span>
        <span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">,</span> <span class="token boolean">False</span><span class="token punctuation">,</span> <span class="token string">"空密码"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">(</span><span class="token boolean">None</span><span class="token punctuation">,</span> <span class="token boolean">False</span><span class="token punctuation">,</span> <span class="token string">"空值密码"</span><span class="token punctuation">)</span>
    <span class="token punctuation">]</span>
    
    <span class="token keyword">for</span> password<span class="token punctuation">,</span> expected<span class="token punctuation">,</span> description <span class="token keyword">in</span> boundary_test_cases<span class="token punctuation">:</span>
        result <span class="token operator">=</span> validate_password_length<span class="token punctuation">(</span>password<span class="token punctuation">)</span>
        <span class="token keyword">assert</span> result <span class="token operator">==</span> expected<span class="token punctuation">,</span> <span class="token string-interpolation"><span class="token string">f"测试失败: </span><span class="token interpolation"><span class="token punctuation">&#123;</span>description<span class="token punctuation">&#125;</span></span><span class="token string">"</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>

<h3 id="2-3-决策表法"><a href="#2-3-决策表法" class="headerlink" title="2.3 决策表法"></a>2.3 决策表法</h3><h4 id="适用场景"><a href="#适用场景" class="headerlink" title="适用场景"></a>适用场景</h4><p>当系统行为依赖于多个条件的组合时，使用决策表法能够系统性地覆盖所有可能的条件组合。</p>
<h4 id="决策表示例"><a href="#决策表示例" class="headerlink" title="决策表示例"></a>决策表示例</h4><figure><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">用户权限验证决策表：

条件\规则    | R1 | R2 | R3 | R4 | R5 | R6 | R7 | R8
------------|----|----|----|----|----|----|----|----|
用户已登录   | Y  | Y  | Y  | Y  | N  | N  | N  | N
用户已激活   | Y  | Y  | N  | N  | Y  | Y  | N  | N
有访问权限   | Y  | N  | Y  | N  | Y  | N  | Y  | N
------------|----|----|----|----|----|----|----|----|
允许访问     | Y  | N  | N  | N  | N  | N  | N  | N
显示错误信息 | N  | Y  | Y  | Y  | Y  | Y  | Y  | Y<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>

<figure><div class="code-wrapper"><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// 基于决策表的测试用例</span>
<span class="token keyword">const</span> permissionTestCases <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token punctuation">&#123;</span>
        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"R1-完全授权用户"</span><span class="token punctuation">,</span>
        <span class="token literal-property property">conditions</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span> <span class="token literal-property property">loggedIn</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token literal-property property">activated</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token literal-property property">hasPermission</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">expected</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span> <span class="token literal-property property">allowAccess</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token literal-property property">showError</span><span class="token operator">:</span> <span class="token boolean">false</span> <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    <span class="token punctuation">&#123;</span>
        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"R2-无权限的已激活用户"</span><span class="token punctuation">,</span>
        <span class="token literal-property property">conditions</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span> <span class="token literal-property property">loggedIn</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token literal-property property">activated</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token literal-property property">hasPermission</span><span class="token operator">:</span> <span class="token boolean">false</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">expected</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span> <span class="token literal-property property">allowAccess</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token literal-property property">showError</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    <span class="token punctuation">&#123;</span>
        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"R5-未登录但有权限用户"</span><span class="token punctuation">,</span>
        <span class="token literal-property property">conditions</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span> <span class="token literal-property property">loggedIn</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token literal-property property">activated</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token literal-property property">hasPermission</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">expected</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span> <span class="token literal-property property">allowAccess</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token literal-property property">showError</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
    <span class="token comment">// ... 其他规则</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>

<h3 id="2-4-状态转换测试"><a href="#2-4-状态转换测试" class="headerlink" title="2.4 状态转换测试"></a>2.4 状态转换测试</h3><h4 id="状态图建模"><a href="#状态图建模" class="headerlink" title="状态图建模"></a>状态图建模</h4><figure><div class="code-wrapper"><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// 订单状态转换测试</span>
<span class="token keyword">class</span> <span class="token class-name">OrderStateMachine</span> <span class="token punctuation">&#123;</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token string">'CREATED'</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>validTransitions <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
            <span class="token string-property property">'CREATED'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'PAID'</span><span class="token punctuation">,</span> <span class="token string">'CANCELLED'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token string-property property">'PAID'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'SHIPPED'</span><span class="token punctuation">,</span> <span class="token string">'REFUNDED'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token string-property property">'SHIPPED'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'DELIVERED'</span><span class="token punctuation">,</span> <span class="token string">'RETURNED'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token string-property property">'DELIVERED'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'COMPLETED'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token string-property property">'CANCELLED'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token string-property property">'REFUNDED'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token string-property property">'RETURNED'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'REFUNDED'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token string-property property">'COMPLETED'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
    
    <span class="token function">transition</span><span class="token punctuation">(</span><span class="token parameter">newState</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>validTransitions<span class="token punctuation">[</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span>newState<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> newState<span class="token punctuation">;</span>
            <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span>
        <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">// 状态转换测试用例</span>
<span class="token keyword">const</span> stateTransitionTests <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token punctuation">&#123;</span>
        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"正常订单流程"</span><span class="token punctuation">,</span>
        <span class="token literal-property property">transitions</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'CREATED'</span><span class="token punctuation">,</span> <span class="token string">'PAID'</span><span class="token punctuation">,</span> <span class="token string">'SHIPPED'</span><span class="token punctuation">,</span> <span class="token string">'DELIVERED'</span><span class="token punctuation">,</span> <span class="token string">'COMPLETED'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token literal-property property">expected</span><span class="token operator">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    <span class="token punctuation">&#123;</span>
        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"订单取消流程"</span><span class="token punctuation">,</span>
        <span class="token literal-property property">transitions</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'CREATED'</span><span class="token punctuation">,</span> <span class="token string">'CANCELLED'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token literal-property property">expected</span><span class="token operator">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    <span class="token punctuation">&#123;</span>
        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"无效状态转换"</span><span class="token punctuation">,</span>
        <span class="token literal-property property">transitions</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'CREATED'</span><span class="token punctuation">,</span> <span class="token string">'SHIPPED'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// 跳过支付直接发货</span>
        <span class="token literal-property property">expected</span><span class="token operator">:</span> <span class="token boolean">false</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>

<h2 id="三、不同类型的测试用例"><a href="#三、不同类型的测试用例" class="headerlink" title="三、不同类型的测试用例"></a>三、不同类型的测试用例</h2><h3 id="3-1-单元测试用例"><a href="#3-1-单元测试用例" class="headerlink" title="3.1 单元测试用例"></a>3.1 单元测试用例</h3><h4 id="函数级测试"><a href="#函数级测试" class="headerlink" title="函数级测试"></a>函数级测试</h4><figure><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> unittest
<span class="token keyword">from</span> unittest<span class="token punctuation">.</span>mock <span class="token keyword">import</span> patch<span class="token punctuation">,</span> Mock

<span class="token keyword">class</span> <span class="token class-name">TestCalculator</span><span class="token punctuation">(</span>unittest<span class="token punctuation">.</span>TestCase<span class="token punctuation">)</span><span class="token punctuation">:</span>
    
    <span class="token keyword">def</span> <span class="token function">setUp</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">"""测试前置条件"""</span>
        self<span class="token punctuation">.</span>calculator <span class="token operator">=</span> Calculator<span class="token punctuation">(</span><span class="token punctuation">)</span>
    
    <span class="token keyword">def</span> <span class="token function">test_add_positive_numbers</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">"""测试正数相加"""</span>
        result <span class="token operator">=</span> self<span class="token punctuation">.</span>calculator<span class="token punctuation">.</span>add<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>assertEqual<span class="token punctuation">(</span>result<span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span>
    
    <span class="token keyword">def</span> <span class="token function">test_add_negative_numbers</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">"""测试负数相加"""</span>
        result <span class="token operator">=</span> self<span class="token punctuation">.</span>calculator<span class="token punctuation">.</span>add<span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>assertEqual<span class="token punctuation">(</span>result<span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">5</span><span class="token punctuation">)</span>
    
    <span class="token keyword">def</span> <span class="token function">test_divide_by_zero</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">"""测试除零异常"""</span>
        <span class="token keyword">with</span> self<span class="token punctuation">.</span>assertRaises<span class="token punctuation">(</span>ZeroDivisionError<span class="token punctuation">)</span><span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>calculator<span class="token punctuation">.</span>divide<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
    
    <span class="token decorator annotation punctuation">@patch</span><span class="token punctuation">(</span><span class="token string">'requests.get'</span><span class="token punctuation">)</span>
    <span class="token keyword">def</span> <span class="token function">test_api_call_with_mock</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> mock_get<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">"""测试API调用（使用Mock）"""</span>
        <span class="token comment"># 设置Mock返回值</span>
        mock_response <span class="token operator">=</span> Mock<span class="token punctuation">(</span><span class="token punctuation">)</span>
        mock_response<span class="token punctuation">.</span>json<span class="token punctuation">.</span>return_value <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token string">'result'</span><span class="token punctuation">:</span> <span class="token string">'success'</span><span class="token punctuation">&#125;</span>
        mock_response<span class="token punctuation">.</span>status_code <span class="token operator">=</span> <span class="token number">200</span>
        mock_get<span class="token punctuation">.</span>return_value <span class="token operator">=</span> mock_response
        
        <span class="token comment"># 执行测试</span>
        result <span class="token operator">=</span> self<span class="token punctuation">.</span>calculator<span class="token punctuation">.</span>fetch_data<span class="token punctuation">(</span><span class="token string">'http://api.example.com'</span><span class="token punctuation">)</span>
        
        <span class="token comment"># 验证结果</span>
        self<span class="token punctuation">.</span>assertEqual<span class="token punctuation">(</span>result<span class="token punctuation">[</span><span class="token string">'result'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">'success'</span><span class="token punctuation">)</span>
        mock_get<span class="token punctuation">.</span>assert_called_once_with<span class="token punctuation">(</span><span class="token string">'http://api.example.com'</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>

<h3 id="3-2-集成测试用例"><a href="#3-2-集成测试用例" class="headerlink" title="3.2 集成测试用例"></a>3.2 集成测试用例</h3><h4 id="API集成测试"><a href="#API集成测试" class="headerlink" title="API集成测试"></a>API集成测试</h4><figure><div class="code-wrapper"><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// Jest + Supertest API测试</span>
<span class="token keyword">const</span> request <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'supertest'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'../app'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">describe</span><span class="token punctuation">(</span><span class="token string">'User API Integration Tests'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">let</span> authToken<span class="token punctuation">;</span>
    <span class="token keyword">let</span> userId<span class="token punctuation">;</span>
    
    <span class="token function">beforeAll</span><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
        <span class="token comment">// 测试前置：创建测试用户并获取认证token</span>
        <span class="token keyword">const</span> response <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">request</span><span class="token punctuation">(</span>app<span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">'/api/auth/login'</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
                <span class="token literal-property property">email</span><span class="token operator">:</span> <span class="token string">'test@example.com'</span><span class="token punctuation">,</span>
                <span class="token literal-property property">password</span><span class="token operator">:</span> <span class="token string">'testpassword'</span>
            <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        authToken <span class="token operator">=</span> response<span class="token punctuation">.</span>body<span class="token punctuation">.</span>token<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token function">describe</span><span class="token punctuation">(</span><span class="token string">'POST /api/users'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
        <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">'should create a new user with valid data'</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
            <span class="token keyword">const</span> userData <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
                <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'Test User'</span><span class="token punctuation">,</span>
                <span class="token literal-property property">email</span><span class="token operator">:</span> <span class="token string">'newuser@example.com'</span><span class="token punctuation">,</span>
                <span class="token literal-property property">password</span><span class="token operator">:</span> <span class="token string">'password123'</span>
            <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
            
            <span class="token keyword">const</span> response <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">request</span><span class="token punctuation">(</span>app<span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">'/api/users'</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">'Authorization'</span><span class="token punctuation">,</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Bearer </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>authToken<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span>userData<span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">expect</span><span class="token punctuation">(</span><span class="token number">201</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            
            <span class="token function">expect</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>body<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toHaveProperty</span><span class="token punctuation">(</span><span class="token string">'id'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">expect</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>body<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBe</span><span class="token punctuation">(</span>userData<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">expect</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>body<span class="token punctuation">.</span>email<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBe</span><span class="token punctuation">(</span>userData<span class="token punctuation">.</span>email<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">expect</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>body<span class="token punctuation">)</span><span class="token punctuation">.</span>not<span class="token punctuation">.</span><span class="token function">toHaveProperty</span><span class="token punctuation">(</span><span class="token string">'password'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            
            userId <span class="token operator">=</span> response<span class="token punctuation">.</span>body<span class="token punctuation">.</span>id<span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">'should return 400 for invalid email format'</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
            <span class="token keyword">const</span> invalidData <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
                <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'Test User'</span><span class="token punctuation">,</span>
                <span class="token literal-property property">email</span><span class="token operator">:</span> <span class="token string">'invalid-email'</span><span class="token punctuation">,</span>
                <span class="token literal-property property">password</span><span class="token operator">:</span> <span class="token string">'password123'</span>
            <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
            
            <span class="token keyword">const</span> response <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">request</span><span class="token punctuation">(</span>app<span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">'/api/users'</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">'Authorization'</span><span class="token punctuation">,</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Bearer </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>authToken<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span>invalidData<span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">expect</span><span class="token punctuation">(</span><span class="token number">400</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            
            <span class="token function">expect</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>body<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toHaveProperty</span><span class="token punctuation">(</span><span class="token string">'error'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">expect</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>body<span class="token punctuation">.</span>error<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toContain</span><span class="token punctuation">(</span><span class="token string">'email'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token function">describe</span><span class="token punctuation">(</span><span class="token string">'GET /api/users/:id'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
        <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">'should retrieve user by id'</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
            <span class="token keyword">const</span> response <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">request</span><span class="token punctuation">(</span>app<span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">/api/users/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>userId<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">'Authorization'</span><span class="token punctuation">,</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Bearer </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>authToken<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">expect</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            
            <span class="token function">expect</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>body<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBe</span><span class="token punctuation">(</span>userId<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">expect</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>body<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toHaveProperty</span><span class="token punctuation">(</span><span class="token string">'name'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">expect</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>body<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toHaveProperty</span><span class="token punctuation">(</span><span class="token string">'email'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">'should return 404 for non-existent user'</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
            <span class="token keyword">await</span> <span class="token function">request</span><span class="token punctuation">(</span>app<span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/api/users/999999'</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">'Authorization'</span><span class="token punctuation">,</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Bearer </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>authToken<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">expect</span><span class="token punctuation">(</span><span class="token number">404</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token function">afterAll</span><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
        <span class="token comment">// 测试后清理：删除测试数据</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>userId<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            <span class="token keyword">await</span> <span class="token function">request</span><span class="token punctuation">(</span>app<span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">/api/users/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>userId<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">'Authorization'</span><span class="token punctuation">,</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Bearer </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>authToken<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>

<h3 id="3-3-端到端测试用例"><a href="#3-3-端到端测试用例" class="headerlink" title="3.3 端到端测试用例"></a>3.3 端到端测试用例</h3><h4 id="Web应用E2E测试"><a href="#Web应用E2E测试" class="headerlink" title="Web应用E2E测试"></a>Web应用E2E测试</h4><figure><div class="code-wrapper"><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// Cypress E2E测试</span>
<span class="token function">describe</span><span class="token punctuation">(</span><span class="token string">'E-commerce User Journey'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
    <span class="token function">beforeEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
        <span class="token comment">// 访问首页</span>
        cy<span class="token punctuation">.</span><span class="token function">visit</span><span class="token punctuation">(</span><span class="token string">'/'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token comment">// 清除购物车</span>
        cy<span class="token punctuation">.</span><span class="token function">clearLocalStorage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        cy<span class="token punctuation">.</span><span class="token function">clearCookies</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">'完整的购买流程'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
        <span class="token comment">// 1. 用户注册/登录</span>
        cy<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'[data-testid="login-button"]'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        cy<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'[data-testid="email-input"]'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">type</span><span class="token punctuation">(</span><span class="token string">'test@example.com'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        cy<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'[data-testid="password-input"]'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">type</span><span class="token punctuation">(</span><span class="token string">'password123'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        cy<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'[data-testid="submit-button"]'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token comment">// 验证登录成功</span>
        cy<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'[data-testid="user-menu"]'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">should</span><span class="token punctuation">(</span><span class="token string">'be.visible'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        cy<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'[data-testid="user-name"]'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">should</span><span class="token punctuation">(</span><span class="token string">'contain'</span><span class="token punctuation">,</span> <span class="token string">'Test User'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token comment">// 2. 浏览商品</span>
        cy<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'[data-testid="product-category"]'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">first</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        cy<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'[data-testid="product-list"]'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">should</span><span class="token punctuation">(</span><span class="token string">'be.visible'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token comment">// 3. 添加商品到购物车</span>
        cy<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'[data-testid="product-item"]'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">first</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        cy<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'[data-testid="add-to-cart"]'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token comment">// 验证添加成功</span>
        cy<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'[data-testid="cart-count"]'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">should</span><span class="token punctuation">(</span><span class="token string">'contain'</span><span class="token punctuation">,</span> <span class="token string">'1'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        cy<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'[data-testid="success-message"]'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">should</span><span class="token punctuation">(</span><span class="token string">'be.visible'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token comment">// 4. 查看购物车</span>
        cy<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'[data-testid="cart-icon"]'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        cy<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'[data-testid="cart-items"]'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">should</span><span class="token punctuation">(</span><span class="token string">'have.length'</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token comment">// 5. 结算流程</span>
        cy<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'[data-testid="checkout-button"]'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token comment">// 填写配送信息</span>
        cy<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'[data-testid="shipping-address"]'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">type</span><span class="token punctuation">(</span><span class="token string">'123 Test Street'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        cy<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'[data-testid="shipping-city"]'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">type</span><span class="token punctuation">(</span><span class="token string">'Test City'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        cy<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'[data-testid="shipping-zip"]'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">type</span><span class="token punctuation">(</span><span class="token string">'12345'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token comment">// 选择支付方式</span>
        cy<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'[data-testid="payment-method-card"]'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        cy<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'[data-testid="card-number"]'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">type</span><span class="token punctuation">(</span><span class="token string">'4111111111111111'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        cy<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'[data-testid="card-expiry"]'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">type</span><span class="token punctuation">(</span><span class="token string">'12/25'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        cy<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'[data-testid="card-cvv"]'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">type</span><span class="token punctuation">(</span><span class="token string">'123'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token comment">// 6. 完成订单</span>
        cy<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'[data-testid="place-order"]'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token comment">// 验证订单成功</span>
        cy<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'[data-testid="order-confirmation"]'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">should</span><span class="token punctuation">(</span><span class="token string">'be.visible'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        cy<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'[data-testid="order-number"]'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">should</span><span class="token punctuation">(</span><span class="token string">'exist'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token comment">// 7. 查看订单历史</span>
        cy<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'[data-testid="user-menu"]'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        cy<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'[data-testid="order-history"]'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        cy<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'[data-testid="order-list"]'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">should</span><span class="token punctuation">(</span><span class="token string">'contain'</span><span class="token punctuation">,</span> <span class="token string">'订单'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">'购物车功能测试'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
        <span class="token comment">// 登录</span>
        cy<span class="token punctuation">.</span><span class="token function">login</span><span class="token punctuation">(</span><span class="token string">'test@example.com'</span><span class="token punctuation">,</span> <span class="token string">'password123'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token comment">// 添加多个商品</span>
        cy<span class="token punctuation">.</span><span class="token function">addProductToCart</span><span class="token punctuation">(</span><span class="token string">'product-1'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        cy<span class="token punctuation">.</span><span class="token function">addProductToCart</span><span class="token punctuation">(</span><span class="token string">'product-2'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token comment">// 验证购物车数量</span>
        cy<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'[data-testid="cart-count"]'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">should</span><span class="token punctuation">(</span><span class="token string">'contain'</span><span class="token punctuation">,</span> <span class="token string">'2'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token comment">// 修改商品数量</span>
        cy<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'[data-testid="cart-icon"]'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        cy<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'[data-testid="quantity-input"]'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">first</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">type</span><span class="token punctuation">(</span><span class="token string">'3'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        cy<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'[data-testid="update-quantity"]'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">first</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token comment">// 验证总价更新</span>
        cy<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'[data-testid="cart-total"]'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">should</span><span class="token punctuation">(</span><span class="token string">'not.contain'</span><span class="token punctuation">,</span> <span class="token string">'0'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token comment">// 删除商品</span>
        cy<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'[data-testid="remove-item"]'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">first</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        cy<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'[data-testid="confirm-remove"]'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token comment">// 验证商品已删除</span>
        cy<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'[data-testid="cart-items"]'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">should</span><span class="token punctuation">(</span><span class="token string">'have.length'</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>

<h2 id="四、测试用例管理"><a href="#四、测试用例管理" class="headerlink" title="四、测试用例管理"></a>四、测试用例管理</h2><h3 id="4-1-测试用例组织结构"><a href="#4-1-测试用例组织结构" class="headerlink" title="4.1 测试用例组织结构"></a>4.1 测试用例组织结构</h3><h4 id="分层组织方式"><a href="#分层组织方式" class="headerlink" title="分层组织方式"></a>分层组织方式</h4><figure><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">测试用例目录结构：
project-tests&#x2F;
├── unit-tests&#x2F;                 # 单元测试
│   ├── models&#x2F;
│   ├── services&#x2F;
│   └── utils&#x2F;
├── integration-tests&#x2F;          # 集成测试
│   ├── api&#x2F;
│   ├── database&#x2F;
│   └── external-services&#x2F;
├── e2e-tests&#x2F;                  # 端到端测试
│   ├── user-journeys&#x2F;
│   ├── admin-workflows&#x2F;
│   └── mobile-scenarios&#x2F;
├── performance-tests&#x2F;          # 性能测试
│   ├── load-tests&#x2F;
│   ├── stress-tests&#x2F;
│   └── spike-tests&#x2F;
└── security-tests&#x2F;             # 安全测试
    ├── authentication&#x2F;
    ├── authorization&#x2F;
    └── data-validation&#x2F;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>

<h3 id="4-2-测试用例标识与命名"><a href="#4-2-测试用例标识与命名" class="headerlink" title="4.2 测试用例标识与命名"></a>4.2 测试用例标识与命名</h3><h4 id="命名规范"><a href="#命名规范" class="headerlink" title="命名规范"></a>命名规范</h4><figure><div class="code-wrapper"><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// 测试用例命名规范</span>
<span class="token keyword">const</span> testCaseNamingConvention <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
    <span class="token comment">// 格式：[模块]_[功能]_[场景]_[预期结果]</span>
    <span class="token literal-property property">examples</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token string">"USER_LOGIN_VALID_CREDENTIALS_SUCCESS"</span><span class="token punctuation">,</span>
        <span class="token string">"USER_LOGIN_INVALID_PASSWORD_FAILURE"</span><span class="token punctuation">,</span>
        <span class="token string">"CART_ADD_ITEM_DUPLICATE_PRODUCT_UPDATE_QUANTITY"</span><span class="token punctuation">,</span>
        <span class="token string">"PAYMENT_PROCESS_EXPIRED_CARD_ERROR_MESSAGE"</span><span class="token punctuation">,</span>
        <span class="token string">"ADMIN_USER_DELETE_ACTIVE_USER_CONFIRMATION_REQUIRED"</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    
    <span class="token comment">// 编号规范</span>
    <span class="token literal-property property">numbering</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>
        <span class="token literal-property property">format</span><span class="token operator">:</span> <span class="token string">"TC_[模块代码]_[序号]"</span><span class="token punctuation">,</span>
        <span class="token literal-property property">examples</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token string">"TC_USER_001"</span><span class="token punctuation">,</span> <span class="token comment">// 用户模块第1个测试用例</span>
            <span class="token string">"TC_CART_015"</span><span class="token punctuation">,</span> <span class="token comment">// 购物车模块第15个测试用例</span>
            <span class="token string">"TC_PAY_008"</span>   <span class="token comment">// 支付模块第8个测试用例</span>
        <span class="token punctuation">]</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>

<h3 id="4-3-测试数据管理"><a href="#4-3-测试数据管理" class="headerlink" title="4.3 测试数据管理"></a>4.3 测试数据管理</h3><h4 id="测试数据分类"><a href="#测试数据分类" class="headerlink" title="测试数据分类"></a>测试数据分类</h4><figure><div class="code-wrapper"><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// 测试数据管理策略</span>
<span class="token keyword">const</span> testDataManagement <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
    <span class="token comment">// 静态测试数据</span>
    <span class="token literal-property property">staticData</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>
        <span class="token literal-property property">validUsers</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">&#123;</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token literal-property property">email</span><span class="token operator">:</span> <span class="token string">"admin@test.com"</span><span class="token punctuation">,</span> <span class="token literal-property property">role</span><span class="token operator">:</span> <span class="token string">"admin"</span><span class="token punctuation">,</span> <span class="token literal-property property">status</span><span class="token operator">:</span> <span class="token string">"active"</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
            <span class="token punctuation">&#123;</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token literal-property property">email</span><span class="token operator">:</span> <span class="token string">"user@test.com"</span><span class="token punctuation">,</span> <span class="token literal-property property">role</span><span class="token operator">:</span> <span class="token string">"user"</span><span class="token punctuation">,</span> <span class="token literal-property property">status</span><span class="token operator">:</span> <span class="token string">"active"</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
            <span class="token punctuation">&#123;</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token literal-property property">email</span><span class="token operator">:</span> <span class="token string">"guest@test.com"</span><span class="token punctuation">,</span> <span class="token literal-property property">role</span><span class="token operator">:</span> <span class="token string">"guest"</span><span class="token punctuation">,</span> <span class="token literal-property property">status</span><span class="token operator">:</span> <span class="token string">"inactive"</span> <span class="token punctuation">&#125;</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token literal-property property">products</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">&#123;</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">101</span><span class="token punctuation">,</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"Laptop"</span><span class="token punctuation">,</span> <span class="token literal-property property">price</span><span class="token operator">:</span> <span class="token number">999.99</span><span class="token punctuation">,</span> <span class="token literal-property property">category</span><span class="token operator">:</span> <span class="token string">"Electronics"</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
            <span class="token punctuation">&#123;</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">102</span><span class="token punctuation">,</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"Book"</span><span class="token punctuation">,</span> <span class="token literal-property property">price</span><span class="token operator">:</span> <span class="token number">29.99</span><span class="token punctuation">,</span> <span class="token literal-property property">category</span><span class="token operator">:</span> <span class="token string">"Education"</span> <span class="token punctuation">&#125;</span>
        <span class="token punctuation">]</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>

    <span class="token comment">// 动态测试数据生成</span>
    <span class="token literal-property property">dynamicData</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>
        <span class="token function-variable function">generateUser</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
            <span class="token literal-property property">email</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">test_</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">@example.com</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
            <span class="token literal-property property">password</span><span class="token operator">:</span> <span class="token string">"TestPass123!"</span><span class="token punctuation">,</span>
            <span class="token literal-property property">firstName</span><span class="token operator">:</span> faker<span class="token punctuation">.</span>name<span class="token punctuation">.</span><span class="token function">firstName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token literal-property property">lastName</span><span class="token operator">:</span> faker<span class="token punctuation">.</span>name<span class="token punctuation">.</span><span class="token function">lastName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token literal-property property">phone</span><span class="token operator">:</span> faker<span class="token punctuation">.</span>phone<span class="token punctuation">.</span><span class="token function">phoneNumber</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>

        <span class="token function-variable function">generateOrder</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">userId</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
            <span class="token literal-property property">userId</span><span class="token operator">:</span> userId<span class="token punctuation">,</span>
            <span class="token literal-property property">orderDate</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toISOString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token literal-property property">items</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                <span class="token punctuation">&#123;</span> <span class="token literal-property property">productId</span><span class="token operator">:</span> <span class="token number">101</span><span class="token punctuation">,</span> <span class="token literal-property property">quantity</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token literal-property property">price</span><span class="token operator">:</span> <span class="token number">999.99</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
                <span class="token punctuation">&#123;</span> <span class="token literal-property property">productId</span><span class="token operator">:</span> <span class="token number">102</span><span class="token punctuation">,</span> <span class="token literal-property property">quantity</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token literal-property property">price</span><span class="token operator">:</span> <span class="token number">29.99</span> <span class="token punctuation">&#125;</span>
            <span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token literal-property property">total</span><span class="token operator">:</span> <span class="token number">2029.97</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>

    <span class="token comment">// 边界值数据</span>
    <span class="token literal-property property">boundaryData</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>
        <span class="token literal-property property">strings</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>
            <span class="token literal-property property">empty</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>
            <span class="token literal-property property">single</span><span class="token operator">:</span> <span class="token string">"a"</span><span class="token punctuation">,</span>
            <span class="token literal-property property">maxLength</span><span class="token operator">:</span> <span class="token string">"a"</span><span class="token punctuation">.</span><span class="token function">repeat</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token literal-property property">overMaxLength</span><span class="token operator">:</span> <span class="token string">"a"</span><span class="token punctuation">.</span><span class="token function">repeat</span><span class="token punctuation">(</span><span class="token number">256</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token literal-property property">specialChars</span><span class="token operator">:</span> <span class="token string">"!@#$%^&amp;*()_+-=[]&#123;&#125;|;:,.&lt;>?"</span><span class="token punctuation">,</span>
            <span class="token literal-property property">unicode</span><span class="token operator">:</span> <span class="token string">"测试数据🚀"</span><span class="token punctuation">,</span>
            <span class="token literal-property property">sql</span><span class="token operator">:</span> <span class="token string">"'; DROP TABLE users; --"</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">numbers</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>
            <span class="token literal-property property">zero</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
            <span class="token literal-property property">negative</span><span class="token operator">:</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span>
            <span class="token literal-property property">maxInt</span><span class="token operator">:</span> <span class="token number">2147483647</span><span class="token punctuation">,</span>
            <span class="token literal-property property">minInt</span><span class="token operator">:</span> <span class="token operator">-</span><span class="token number">2147483648</span><span class="token punctuation">,</span>
            <span class="token literal-property property">decimal</span><span class="token operator">:</span> <span class="token number">123.456</span><span class="token punctuation">,</span>
            <span class="token literal-property property">scientific</span><span class="token operator">:</span> <span class="token number">1.23e10</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>

<h4 id="测试数据工厂模式"><a href="#测试数据工厂模式" class="headerlink" title="测试数据工厂模式"></a>测试数据工厂模式</h4><figure><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># Python测试数据工厂</span>
<span class="token keyword">import</span> factory
<span class="token keyword">from</span> faker <span class="token keyword">import</span> Faker
<span class="token keyword">from</span> datetime <span class="token keyword">import</span> datetime<span class="token punctuation">,</span> timedelta

fake <span class="token operator">=</span> Faker<span class="token punctuation">(</span><span class="token string">'zh_CN'</span><span class="token punctuation">)</span>

<span class="token keyword">class</span> <span class="token class-name">UserFactory</span><span class="token punctuation">(</span>factory<span class="token punctuation">.</span>Factory<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">class</span> <span class="token class-name">Meta</span><span class="token punctuation">:</span>
        model <span class="token operator">=</span> User

    email <span class="token operator">=</span> factory<span class="token punctuation">.</span>LazyAttribute<span class="token punctuation">(</span><span class="token keyword">lambda</span> obj<span class="token punctuation">:</span> <span class="token string-interpolation"><span class="token string">f"test_</span><span class="token interpolation"><span class="token punctuation">&#123;</span>fake<span class="token punctuation">.</span>random_int<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span></span><span class="token string">@example.com"</span></span><span class="token punctuation">)</span>
    username <span class="token operator">=</span> factory<span class="token punctuation">.</span>LazyAttribute<span class="token punctuation">(</span><span class="token keyword">lambda</span> obj<span class="token punctuation">:</span> fake<span class="token punctuation">.</span>user_name<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    first_name <span class="token operator">=</span> factory<span class="token punctuation">.</span>LazyAttribute<span class="token punctuation">(</span><span class="token keyword">lambda</span> obj<span class="token punctuation">:</span> fake<span class="token punctuation">.</span>first_name<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    last_name <span class="token operator">=</span> factory<span class="token punctuation">.</span>LazyAttribute<span class="token punctuation">(</span><span class="token keyword">lambda</span> obj<span class="token punctuation">:</span> fake<span class="token punctuation">.</span>last_name<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    phone <span class="token operator">=</span> factory<span class="token punctuation">.</span>LazyAttribute<span class="token punctuation">(</span><span class="token keyword">lambda</span> obj<span class="token punctuation">:</span> fake<span class="token punctuation">.</span>phone_number<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    birth_date <span class="token operator">=</span> factory<span class="token punctuation">.</span>LazyAttribute<span class="token punctuation">(</span><span class="token keyword">lambda</span> obj<span class="token punctuation">:</span> fake<span class="token punctuation">.</span>date_of_birth<span class="token punctuation">(</span>minimum_age<span class="token operator">=</span><span class="token number">18</span><span class="token punctuation">,</span> maximum_age<span class="token operator">=</span><span class="token number">80</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    is_active <span class="token operator">=</span> <span class="token boolean">True</span>
    created_at <span class="token operator">=</span> factory<span class="token punctuation">.</span>LazyFunction<span class="token punctuation">(</span>datetime<span class="token punctuation">.</span>now<span class="token punctuation">)</span>

<span class="token keyword">class</span> <span class="token class-name">ProductFactory</span><span class="token punctuation">(</span>factory<span class="token punctuation">.</span>Factory<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">class</span> <span class="token class-name">Meta</span><span class="token punctuation">:</span>
        model <span class="token operator">=</span> Product

    name <span class="token operator">=</span> factory<span class="token punctuation">.</span>LazyAttribute<span class="token punctuation">(</span><span class="token keyword">lambda</span> obj<span class="token punctuation">:</span> fake<span class="token punctuation">.</span>catch_phrase<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    description <span class="token operator">=</span> factory<span class="token punctuation">.</span>LazyAttribute<span class="token punctuation">(</span><span class="token keyword">lambda</span> obj<span class="token punctuation">:</span> fake<span class="token punctuation">.</span>text<span class="token punctuation">(</span>max_nb_chars<span class="token operator">=</span><span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    price <span class="token operator">=</span> factory<span class="token punctuation">.</span>LazyAttribute<span class="token punctuation">(</span><span class="token keyword">lambda</span> obj<span class="token punctuation">:</span> fake<span class="token punctuation">.</span>pydecimal<span class="token punctuation">(</span>left_digits<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">,</span> right_digits<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">,</span> positive<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    category <span class="token operator">=</span> factory<span class="token punctuation">.</span>Iterator<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'Electronics'</span><span class="token punctuation">,</span> <span class="token string">'Books'</span><span class="token punctuation">,</span> <span class="token string">'Clothing'</span><span class="token punctuation">,</span> <span class="token string">'Home'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    stock_quantity <span class="token operator">=</span> factory<span class="token punctuation">.</span>LazyAttribute<span class="token punctuation">(</span><span class="token keyword">lambda</span> obj<span class="token punctuation">:</span> fake<span class="token punctuation">.</span>random_int<span class="token punctuation">(</span><span class="token builtin">min</span><span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token builtin">max</span><span class="token operator">=</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token keyword">class</span> <span class="token class-name">OrderFactory</span><span class="token punctuation">(</span>factory<span class="token punctuation">.</span>Factory<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">class</span> <span class="token class-name">Meta</span><span class="token punctuation">:</span>
        model <span class="token operator">=</span> Order

    user <span class="token operator">=</span> factory<span class="token punctuation">.</span>SubFactory<span class="token punctuation">(</span>UserFactory<span class="token punctuation">)</span>
    order_date <span class="token operator">=</span> factory<span class="token punctuation">.</span>LazyFunction<span class="token punctuation">(</span>datetime<span class="token punctuation">.</span>now<span class="token punctuation">)</span>
    status <span class="token operator">=</span> factory<span class="token punctuation">.</span>Iterator<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'pending'</span><span class="token punctuation">,</span> <span class="token string">'processing'</span><span class="token punctuation">,</span> <span class="token string">'shipped'</span><span class="token punctuation">,</span> <span class="token string">'delivered'</span><span class="token punctuation">,</span> <span class="token string">'cancelled'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    total_amount <span class="token operator">=</span> factory<span class="token punctuation">.</span>LazyAttribute<span class="token punctuation">(</span><span class="token keyword">lambda</span> obj<span class="token punctuation">:</span> fake<span class="token punctuation">.</span>pydecimal<span class="token punctuation">(</span>left_digits<span class="token operator">=</span><span class="token number">4</span><span class="token punctuation">,</span> right_digits<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">,</span> positive<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment"># 使用工厂创建测试数据</span>
<span class="token keyword">def</span> <span class="token function">test_user_creation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token comment"># 创建单个用户</span>
    user <span class="token operator">=</span> UserFactory<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">assert</span> user<span class="token punctuation">.</span>email <span class="token keyword">is</span> <span class="token keyword">not</span> <span class="token boolean">None</span>
    <span class="token keyword">assert</span> user<span class="token punctuation">.</span>is_active <span class="token keyword">is</span> <span class="token boolean">True</span>

    <span class="token comment"># 批量创建用户</span>
    users <span class="token operator">=</span> UserFactory<span class="token punctuation">.</span>create_batch<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>
    <span class="token keyword">assert</span> <span class="token builtin">len</span><span class="token punctuation">(</span>users<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">10</span>

    <span class="token comment"># 创建特定属性的用户</span>
    admin_user <span class="token operator">=</span> UserFactory<span class="token punctuation">(</span>email<span class="token operator">=</span><span class="token string">"admin@test.com"</span><span class="token punctuation">,</span> is_active<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
    <span class="token keyword">assert</span> admin_user<span class="token punctuation">.</span>email <span class="token operator">==</span> <span class="token string">"admin@test.com"</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>

<h2 id="五、自动化测试用例"><a href="#五、自动化测试用例" class="headerlink" title="五、自动化测试用例"></a>五、自动化测试用例</h2><h3 id="5-1-测试框架选择"><a href="#5-1-测试框架选择" class="headerlink" title="5.1 测试框架选择"></a>5.1 测试框架选择</h3><h4 id="不同语言的测试框架对比"><a href="#不同语言的测试框架对比" class="headerlink" title="不同语言的测试框架对比"></a>不同语言的测试框架对比</h4><figure><div class="code-wrapper"><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// JavaScript测试框架对比</span>
<span class="token keyword">const</span> testFrameworks <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
    <span class="token literal-property property">jest</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>
        <span class="token literal-property property">pros</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"零配置"</span><span class="token punctuation">,</span> <span class="token string">"内置断言库"</span><span class="token punctuation">,</span> <span class="token string">"快照测试"</span><span class="token punctuation">,</span> <span class="token string">"代码覆盖率"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token literal-property property">cons</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"主要针对React"</span><span class="token punctuation">,</span> <span class="token string">"配置复杂场景困难"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token literal-property property">bestFor</span><span class="token operator">:</span> <span class="token string">"React应用、Node.js项目"</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>

    <span class="token literal-property property">mocha</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>
        <span class="token literal-property property">pros</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"灵活配置"</span><span class="token punctuation">,</span> <span class="token string">"丰富的插件"</span><span class="token punctuation">,</span> <span class="token string">"支持多种断言库"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token literal-property property">cons</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"需要额外配置"</span><span class="token punctuation">,</span> <span class="token string">"学习曲线陡峭"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token literal-property property">bestFor</span><span class="token operator">:</span> <span class="token string">"复杂项目、需要自定义配置"</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>

    <span class="token literal-property property">cypress</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>
        <span class="token literal-property property">pros</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"真实浏览器环境"</span><span class="token punctuation">,</span> <span class="token string">"时间旅行调试"</span><span class="token punctuation">,</span> <span class="token string">"自动等待"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token literal-property property">cons</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"只支持Chrome系"</span><span class="token punctuation">,</span> <span class="token string">"不支持多标签页"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token literal-property property">bestFor</span><span class="token operator">:</span> <span class="token string">"E2E测试、前端集成测试"</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>

    <span class="token literal-property property">playwright</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>
        <span class="token literal-property property">pros</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"多浏览器支持"</span><span class="token punctuation">,</span> <span class="token string">"并行执行"</span><span class="token punctuation">,</span> <span class="token string">"移动端测试"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token literal-property property">cons</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"相对较新"</span><span class="token punctuation">,</span> <span class="token string">"学习成本"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token literal-property property">bestFor</span><span class="token operator">:</span> <span class="token string">"跨浏览器E2E测试"</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>

<h3 id="5-2-Page-Object模式"><a href="#5-2-Page-Object模式" class="headerlink" title="5.2 Page Object模式"></a>5.2 Page Object模式</h3><h4 id="页面对象设计"><a href="#页面对象设计" class="headerlink" title="页面对象设计"></a>页面对象设计</h4><figure><div class="code-wrapper"><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// Page Object Model 实现</span>
<span class="token keyword">class</span> <span class="token class-name">LoginPage</span> <span class="token punctuation">&#123;</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">page</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>page <span class="token operator">=</span> page<span class="token punctuation">;</span>

        <span class="token comment">// 页面元素定位器</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>selectors <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
            <span class="token literal-property property">emailInput</span><span class="token operator">:</span> <span class="token string">'[data-testid="email-input"]'</span><span class="token punctuation">,</span>
            <span class="token literal-property property">passwordInput</span><span class="token operator">:</span> <span class="token string">'[data-testid="password-input"]'</span><span class="token punctuation">,</span>
            <span class="token literal-property property">loginButton</span><span class="token operator">:</span> <span class="token string">'[data-testid="login-button"]'</span><span class="token punctuation">,</span>
            <span class="token literal-property property">errorMessage</span><span class="token operator">:</span> <span class="token string">'[data-testid="error-message"]'</span><span class="token punctuation">,</span>
            <span class="token literal-property property">forgotPasswordLink</span><span class="token operator">:</span> <span class="token string">'[data-testid="forgot-password"]'</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>

    <span class="token comment">// 页面操作方法</span>
    <span class="token keyword">async</span> <span class="token function">navigate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">await</span> <span class="token keyword">this</span><span class="token punctuation">.</span>page<span class="token punctuation">.</span><span class="token function">goto</span><span class="token punctuation">(</span><span class="token string">'/login'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">await</span> <span class="token keyword">this</span><span class="token punctuation">.</span>page<span class="token punctuation">.</span><span class="token function">waitForSelector</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>selectors<span class="token punctuation">.</span>emailInput<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>

    <span class="token keyword">async</span> <span class="token function">fillEmail</span><span class="token punctuation">(</span><span class="token parameter">email</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">await</span> <span class="token keyword">this</span><span class="token punctuation">.</span>page<span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>selectors<span class="token punctuation">.</span>emailInput<span class="token punctuation">,</span> email<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>

    <span class="token keyword">async</span> <span class="token function">fillPassword</span><span class="token punctuation">(</span><span class="token parameter">password</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">await</span> <span class="token keyword">this</span><span class="token punctuation">.</span>page<span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>selectors<span class="token punctuation">.</span>passwordInput<span class="token punctuation">,</span> password<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>

    <span class="token keyword">async</span> <span class="token function">clickLogin</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">await</span> <span class="token keyword">this</span><span class="token punctuation">.</span>page<span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>selectors<span class="token punctuation">.</span>loginButton<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>

    <span class="token keyword">async</span> <span class="token function">login</span><span class="token punctuation">(</span><span class="token parameter">email<span class="token punctuation">,</span> password</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">await</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">fillEmail</span><span class="token punctuation">(</span>email<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">await</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">fillPassword</span><span class="token punctuation">(</span>password<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">await</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">clickLogin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>

    <span class="token comment">// 验证方法</span>
    <span class="token keyword">async</span> <span class="token function">getErrorMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">return</span> <span class="token keyword">await</span> <span class="token keyword">this</span><span class="token punctuation">.</span>page<span class="token punctuation">.</span><span class="token function">textContent</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>selectors<span class="token punctuation">.</span>errorMessage<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>

    <span class="token keyword">async</span> <span class="token function">isLoginButtonEnabled</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">return</span> <span class="token keyword">await</span> <span class="token keyword">this</span><span class="token punctuation">.</span>page<span class="token punctuation">.</span><span class="token function">isEnabled</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>selectors<span class="token punctuation">.</span>loginButton<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>

    <span class="token keyword">async</span> <span class="token function">waitForRedirect</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">await</span> <span class="token keyword">this</span><span class="token punctuation">.</span>page<span class="token punctuation">.</span><span class="token function">waitForURL</span><span class="token punctuation">(</span><span class="token string">'/dashboard'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">// 使用Page Object的测试用例</span>
<span class="token function">describe</span><span class="token punctuation">(</span><span class="token string">'Login Functionality'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">let</span> loginPage<span class="token punctuation">;</span>

    <span class="token function">beforeEach</span><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
        loginPage <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">LoginPage</span><span class="token punctuation">(</span>page<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">await</span> loginPage<span class="token punctuation">.</span><span class="token function">navigate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'successful login with valid credentials'</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">await</span> loginPage<span class="token punctuation">.</span><span class="token function">login</span><span class="token punctuation">(</span><span class="token string">'user@example.com'</span><span class="token punctuation">,</span> <span class="token string">'password123'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">await</span> loginPage<span class="token punctuation">.</span><span class="token function">waitForRedirect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token function">expect</span><span class="token punctuation">(</span>page<span class="token punctuation">.</span><span class="token function">url</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toContain</span><span class="token punctuation">(</span><span class="token string">'/dashboard'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'login failure with invalid credentials'</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">await</span> loginPage<span class="token punctuation">.</span><span class="token function">login</span><span class="token punctuation">(</span><span class="token string">'user@example.com'</span><span class="token punctuation">,</span> <span class="token string">'wrongpassword'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">const</span> errorMessage <span class="token operator">=</span> <span class="token keyword">await</span> loginPage<span class="token punctuation">.</span><span class="token function">getErrorMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">expect</span><span class="token punctuation">(</span>errorMessage<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toContain</span><span class="token punctuation">(</span><span class="token string">'Invalid credentials'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'login button disabled with empty fields'</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">const</span> isEnabled <span class="token operator">=</span> <span class="token keyword">await</span> loginPage<span class="token punctuation">.</span><span class="token function">isLoginButtonEnabled</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">expect</span><span class="token punctuation">(</span>isEnabled<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBe</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>

<h3 id="5-3-数据驱动测试"><a href="#5-3-数据驱动测试" class="headerlink" title="5.3 数据驱动测试"></a>5.3 数据驱动测试</h3><h4 id="参数化测试实现"><a href="#参数化测试实现" class="headerlink" title="参数化测试实现"></a>参数化测试实现</h4><figure><div class="code-wrapper"><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># pytest参数化测试</span>
<span class="token keyword">import</span> pytest

<span class="token keyword">class</span> <span class="token class-name">TestUserValidation</span><span class="token punctuation">:</span>

    <span class="token decorator annotation punctuation">@pytest<span class="token punctuation">.</span>mark<span class="token punctuation">.</span>parametrize</span><span class="token punctuation">(</span><span class="token string">"email,password,expected_result,test_description"</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>
        <span class="token punctuation">(</span><span class="token string">"valid@example.com"</span><span class="token punctuation">,</span> <span class="token string">"ValidPass123!"</span><span class="token punctuation">,</span> <span class="token boolean">True</span><span class="token punctuation">,</span> <span class="token string">"有效邮箱和密码"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">(</span><span class="token string">"invalid-email"</span><span class="token punctuation">,</span> <span class="token string">"ValidPass123!"</span><span class="token punctuation">,</span> <span class="token boolean">False</span><span class="token punctuation">,</span> <span class="token string">"无效邮箱格式"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">(</span><span class="token string">"valid@example.com"</span><span class="token punctuation">,</span> <span class="token string">"weak"</span><span class="token punctuation">,</span> <span class="token boolean">False</span><span class="token punctuation">,</span> <span class="token string">"弱密码"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">,</span> <span class="token string">"ValidPass123!"</span><span class="token punctuation">,</span> <span class="token boolean">False</span><span class="token punctuation">,</span> <span class="token string">"空邮箱"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">(</span><span class="token string">"valid@example.com"</span><span class="token punctuation">,</span> <span class="token string">""</span><span class="token punctuation">,</span> <span class="token boolean">False</span><span class="token punctuation">,</span> <span class="token string">"空密码"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">(</span><span class="token string">"test@test.com"</span><span class="token punctuation">,</span> <span class="token string">"Test123!"</span><span class="token punctuation">,</span> <span class="token boolean">True</span><span class="token punctuation">,</span> <span class="token string">"边界有效数据"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">(</span><span class="token string">"a"</span> <span class="token operator">*</span> <span class="token number">100</span> <span class="token operator">+</span> <span class="token string">"@example.com"</span><span class="token punctuation">,</span> <span class="token string">"ValidPass123!"</span><span class="token punctuation">,</span> <span class="token boolean">False</span><span class="token punctuation">,</span> <span class="token string">"超长邮箱"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">(</span><span class="token string">"valid@example.com"</span><span class="token punctuation">,</span> <span class="token string">"a"</span> <span class="token operator">*</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token boolean">False</span><span class="token punctuation">,</span> <span class="token string">"超长密码"</span><span class="token punctuation">)</span>
    <span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token keyword">def</span> <span class="token function">test_user_registration_validation</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> email<span class="token punctuation">,</span> password<span class="token punctuation">,</span> expected_result<span class="token punctuation">,</span> test_description<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">"""参数化测试用户注册验证"""</span>
        result <span class="token operator">=</span> validate_user_registration<span class="token punctuation">(</span>email<span class="token punctuation">,</span> password<span class="token punctuation">)</span>
        <span class="token keyword">assert</span> result <span class="token operator">==</span> expected_result<span class="token punctuation">,</span> <span class="token string-interpolation"><span class="token string">f"测试失败: </span><span class="token interpolation"><span class="token punctuation">&#123;</span>test_description<span class="token punctuation">&#125;</span></span><span class="token string">"</span></span>

    <span class="token decorator annotation punctuation">@pytest<span class="token punctuation">.</span>mark<span class="token punctuation">.</span>parametrize</span><span class="token punctuation">(</span><span class="token string">"age,expected_category"</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>
        <span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token string">"child"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">(</span><span class="token number">17</span><span class="token punctuation">,</span> <span class="token string">"teenager"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">(</span><span class="token number">18</span><span class="token punctuation">,</span> <span class="token string">"adult"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">(</span><span class="token number">65</span><span class="token punctuation">,</span> <span class="token string">"adult"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">(</span><span class="token number">66</span><span class="token punctuation">,</span> <span class="token string">"senior"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">"infant"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"invalid"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">(</span><span class="token number">150</span><span class="token punctuation">,</span> <span class="token string">"invalid"</span><span class="token punctuation">)</span>
    <span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token keyword">def</span> <span class="token function">test_age_categorization</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> age<span class="token punctuation">,</span> expected_category<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">"""年龄分类测试"""</span>
        result <span class="token operator">=</span> categorize_by_age<span class="token punctuation">(</span>age<span class="token punctuation">)</span>
        <span class="token keyword">assert</span> result <span class="token operator">==</span> expected_category<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>

<h4 id="CSV数据驱动测试"><a href="#CSV数据驱动测试" class="headerlink" title="CSV数据驱动测试"></a>CSV数据驱动测试</h4><figure><div class="code-wrapper"><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// Jest + CSV数据驱动测试</span>
<span class="token keyword">const</span> fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'fs'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> csv <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'csv-parser'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">describe</span><span class="token punctuation">(</span><span class="token string">'Data-driven Login Tests'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">let</span> testData <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

    <span class="token function">beforeAll</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">done</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
        fs<span class="token punctuation">.</span><span class="token function">createReadStream</span><span class="token punctuation">(</span><span class="token string">'test-data/login-test-data.csv'</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">csv</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'data'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">row</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
                testData<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>row<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'end'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
                <span class="token function">done</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    test<span class="token punctuation">.</span><span class="token function">each</span><span class="token punctuation">(</span>testData<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token string">'Login test: $description'</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">const</span> <span class="token punctuation">&#123;</span> email<span class="token punctuation">,</span> password<span class="token punctuation">,</span> expectedResult<span class="token punctuation">,</span> description <span class="token punctuation">&#125;</span> <span class="token operator">=</span> data<span class="token punctuation">;</span>

        <span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">loginUser</span><span class="token punctuation">(</span>email<span class="token punctuation">,</span> password<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span>expectedResult <span class="token operator">===</span> <span class="token string">'success'</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            <span class="token function">expect</span><span class="token punctuation">(</span>result<span class="token punctuation">.</span>success<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBe</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">expect</span><span class="token punctuation">(</span>result<span class="token punctuation">.</span>token<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBeDefined</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
            <span class="token function">expect</span><span class="token punctuation">(</span>result<span class="token punctuation">.</span>success<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBe</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">expect</span><span class="token punctuation">(</span>result<span class="token punctuation">.</span>error<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBeDefined</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>

<h2 id="六、性能测试用例"><a href="#六、性能测试用例" class="headerlink" title="六、性能测试用例"></a>六、性能测试用例</h2><h3 id="6-1-负载测试用例"><a href="#6-1-负载测试用例" class="headerlink" title="6.1 负载测试用例"></a>6.1 负载测试用例</h3><h4 id="JMeter测试计划"><a href="#JMeter测试计划" class="headerlink" title="JMeter测试计划"></a>JMeter测试计划</h4><figure><div class="code-wrapper"><pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token comment">&lt;!-- JMeter测试计划示例 --></span>
<span class="token prolog">&lt;?xml version="1.0" encoding="UTF-8"?></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>jmeterTestPlan</span> <span class="token attr-name">version</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>1.2<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>hashTree</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>TestPlan</span> <span class="token attr-name">testname</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>API Load Test<span class="token punctuation">"</span></span> <span class="token attr-name">enabled</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>elementProp</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>TestPlan.arguments<span class="token punctuation">"</span></span> <span class="token attr-name">elementType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Arguments<span class="token punctuation">"</span></span> <span class="token attr-name">guiclass</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ArgumentsPanel<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>collectionProp</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Arguments.arguments<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>elementProp</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>baseUrl<span class="token punctuation">"</span></span> <span class="token attr-name">elementType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Argument<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>stringProp</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Argument.name<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>baseUrl<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>stringProp</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>stringProp</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Argument.value<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>https://api.example.com<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>stringProp</span><span class="token punctuation">></span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>elementProp</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>collectionProp</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>elementProp</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>TestPlan</span><span class="token punctuation">></span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>hashTree</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ThreadGroup</span> <span class="token attr-name">testname</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>User Load<span class="token punctuation">"</span></span> <span class="token attr-name">enabled</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>stringProp</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ThreadGroup.num_threads<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>100<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>stringProp</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>stringProp</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ThreadGroup.ramp_time<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>60<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>stringProp</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>stringProp</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ThreadGroup.duration<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>300<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>stringProp</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>boolProp</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ThreadGroup.scheduler<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>boolProp</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ThreadGroup</span><span class="token punctuation">></span></span>

      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>hashTree</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>HTTPSamplerProxy</span> <span class="token attr-name">testname</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Login API<span class="token punctuation">"</span></span> <span class="token attr-name">enabled</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>stringProp</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>HTTPSampler.domain<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>$&#123;baseUrl&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>stringProp</span><span class="token punctuation">></span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>stringProp</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>HTTPSampler.path<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>/api/auth/login<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>stringProp</span><span class="token punctuation">></span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>stringProp</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>HTTPSampler.method<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>POST<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>stringProp</span><span class="token punctuation">></span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>boolProp</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>HTTPSampler.use_keepalive<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>boolProp</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>HTTPSamplerProxy</span><span class="token punctuation">></span></span>

        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ResponseAssertion</span> <span class="token attr-name">testname</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Response Code Assertion<span class="token punctuation">"</span></span> <span class="token attr-name">enabled</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>collectionProp</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Asserion.test_strings<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>stringProp</span><span class="token punctuation">></span></span>200<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>stringProp</span><span class="token punctuation">></span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>collectionProp</span><span class="token punctuation">></span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>stringProp</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Assertion.test_field<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Assertion.response_code<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>stringProp</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ResponseAssertion</span><span class="token punctuation">></span></span>

        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ResponseAssertion</span> <span class="token attr-name">testname</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Response Time Assertion<span class="token punctuation">"</span></span> <span class="token attr-name">enabled</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>stringProp</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Assertion.test_field<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Assertion.response_time<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>stringProp</span><span class="token punctuation">></span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>stringProp</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Assertion.duration<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>2000<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>stringProp</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ResponseAssertion</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>hashTree</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>hashTree</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>hashTree</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>jmeterTestPlan</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>

<h4 id="K6性能测试脚本"><a href="#K6性能测试脚本" class="headerlink" title="K6性能测试脚本"></a>K6性能测试脚本</h4><figure><div class="code-wrapper"><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// K6负载测试脚本</span>
<span class="token keyword">import</span> http <span class="token keyword">from</span> <span class="token string">'k6/http'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">&#123;</span> check<span class="token punctuation">,</span> sleep <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'k6'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">&#123;</span> Rate <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'k6/metrics'</span><span class="token punctuation">;</span>

<span class="token comment">// 自定义指标</span>
<span class="token keyword">const</span> errorRate <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Rate</span><span class="token punctuation">(</span><span class="token string">'errors'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 测试配置</span>
<span class="token keyword">export</span> <span class="token keyword">let</span> options <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
    <span class="token literal-property property">stages</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">&#123;</span> <span class="token literal-property property">duration</span><span class="token operator">:</span> <span class="token string">'2m'</span><span class="token punctuation">,</span> <span class="token literal-property property">target</span><span class="token operator">:</span> <span class="token number">10</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>   <span class="token comment">// 预热阶段</span>
        <span class="token punctuation">&#123;</span> <span class="token literal-property property">duration</span><span class="token operator">:</span> <span class="token string">'5m'</span><span class="token punctuation">,</span> <span class="token literal-property property">target</span><span class="token operator">:</span> <span class="token number">50</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>   <span class="token comment">// 正常负载</span>
        <span class="token punctuation">&#123;</span> <span class="token literal-property property">duration</span><span class="token operator">:</span> <span class="token string">'2m'</span><span class="token punctuation">,</span> <span class="token literal-property property">target</span><span class="token operator">:</span> <span class="token number">100</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>  <span class="token comment">// 峰值负载</span>
        <span class="token punctuation">&#123;</span> <span class="token literal-property property">duration</span><span class="token operator">:</span> <span class="token string">'5m'</span><span class="token punctuation">,</span> <span class="token literal-property property">target</span><span class="token operator">:</span> <span class="token number">100</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>  <span class="token comment">// 持续峰值</span>
        <span class="token punctuation">&#123;</span> <span class="token literal-property property">duration</span><span class="token operator">:</span> <span class="token string">'2m'</span><span class="token punctuation">,</span> <span class="token literal-property property">target</span><span class="token operator">:</span> <span class="token number">0</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>    <span class="token comment">// 降负载</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token literal-property property">thresholds</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>
        <span class="token literal-property property">http_req_duration</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'p(95)&lt;2000'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// 95%的请求响应时间小于2秒</span>
        <span class="token literal-property property">http_req_failed</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'rate&lt;0.1'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>     <span class="token comment">// 错误率小于10%</span>
        <span class="token literal-property property">errors</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'rate&lt;0.1'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>              <span class="token comment">// 自定义错误率小于10%</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>

<span class="token comment">// 测试数据</span>
<span class="token keyword">const</span> users <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token punctuation">&#123;</span> <span class="token literal-property property">email</span><span class="token operator">:</span> <span class="token string">'user1@example.com'</span><span class="token punctuation">,</span> <span class="token literal-property property">password</span><span class="token operator">:</span> <span class="token string">'password123'</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    <span class="token punctuation">&#123;</span> <span class="token literal-property property">email</span><span class="token operator">:</span> <span class="token string">'user2@example.com'</span><span class="token punctuation">,</span> <span class="token literal-property property">password</span><span class="token operator">:</span> <span class="token string">'password123'</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    <span class="token punctuation">&#123;</span> <span class="token literal-property property">email</span><span class="token operator">:</span> <span class="token string">'user3@example.com'</span><span class="token punctuation">,</span> <span class="token literal-property property">password</span><span class="token operator">:</span> <span class="token string">'password123'</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token comment">// 随机选择用户</span>
    <span class="token keyword">const</span> user <span class="token operator">=</span> users<span class="token punctuation">[</span>Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> users<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

    <span class="token comment">// 1. 登录请求</span>
    <span class="token keyword">const</span> loginResponse <span class="token operator">=</span> http<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">'https://api.example.com/auth/login'</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>
        <span class="token literal-property property">email</span><span class="token operator">:</span> user<span class="token punctuation">.</span>email<span class="token punctuation">,</span>
        <span class="token literal-property property">password</span><span class="token operator">:</span> user<span class="token punctuation">.</span>password
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>
        <span class="token literal-property property">headers</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span> <span class="token string-property property">'Content-Type'</span><span class="token operator">:</span> <span class="token string">'application/json'</span> <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 验证登录响应</span>
    <span class="token keyword">const</span> loginSuccess <span class="token operator">=</span> <span class="token function">check</span><span class="token punctuation">(</span>loginResponse<span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>
        <span class="token string-property property">'login status is 200'</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">r</span><span class="token punctuation">)</span> <span class="token operator">=></span> r<span class="token punctuation">.</span>status <span class="token operator">===</span> <span class="token number">200</span><span class="token punctuation">,</span>
        <span class="token string-property property">'login response time &lt; 1000ms'</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">r</span><span class="token punctuation">)</span> <span class="token operator">=></span> r<span class="token punctuation">.</span>timings<span class="token punctuation">.</span>duration <span class="token operator">&lt;</span> <span class="token number">1000</span><span class="token punctuation">,</span>
        <span class="token string-property property">'login returns token'</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">r</span><span class="token punctuation">)</span> <span class="token operator">=></span> r<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token string">'token'</span><span class="token punctuation">)</span> <span class="token operator">!==</span> <span class="token keyword">undefined</span><span class="token punctuation">,</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    errorRate<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token operator">!</span>loginSuccess<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>loginSuccess<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">const</span> token <span class="token operator">=</span> loginResponse<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token string">'token'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 2. 获取用户信息</span>
        <span class="token keyword">const</span> profileResponse <span class="token operator">=</span> http<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'https://api.example.com/user/profile'</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>
            <span class="token literal-property property">headers</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>
                <span class="token string-property property">'Authorization'</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Bearer </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>token<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
                <span class="token string-property property">'Content-Type'</span><span class="token operator">:</span> <span class="token string">'application/json'</span>
            <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token function">check</span><span class="token punctuation">(</span>profileResponse<span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>
            <span class="token string-property property">'profile status is 200'</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">r</span><span class="token punctuation">)</span> <span class="token operator">=></span> r<span class="token punctuation">.</span>status <span class="token operator">===</span> <span class="token number">200</span><span class="token punctuation">,</span>
            <span class="token string-property property">'profile response time &lt; 500ms'</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">r</span><span class="token punctuation">)</span> <span class="token operator">=></span> r<span class="token punctuation">.</span>timings<span class="token punctuation">.</span>duration <span class="token operator">&lt;</span> <span class="token number">500</span><span class="token punctuation">,</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 3. 获取数据列表</span>
        <span class="token keyword">const</span> dataResponse <span class="token operator">=</span> http<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'https://api.example.com/data?page=1&amp;limit=20'</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>
            <span class="token literal-property property">headers</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>
                <span class="token string-property property">'Authorization'</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Bearer </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>token<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
                <span class="token string-property property">'Content-Type'</span><span class="token operator">:</span> <span class="token string">'application/json'</span>
            <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token function">check</span><span class="token punctuation">(</span>dataResponse<span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>
            <span class="token string-property property">'data status is 200'</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">r</span><span class="token punctuation">)</span> <span class="token operator">=></span> r<span class="token punctuation">.</span>status <span class="token operator">===</span> <span class="token number">200</span><span class="token punctuation">,</span>
            <span class="token string-property property">'data response time &lt; 1500ms'</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">r</span><span class="token punctuation">)</span> <span class="token operator">=></span> r<span class="token punctuation">.</span>timings<span class="token punctuation">.</span>duration <span class="token operator">&lt;</span> <span class="token number">1500</span><span class="token punctuation">,</span>
            <span class="token string-property property">'data contains items'</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">r</span><span class="token punctuation">)</span> <span class="token operator">=></span> r<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token string">'items'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>length <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">,</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>

    <span class="token comment">// 模拟用户思考时间</span>
    <span class="token function">sleep</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">3</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1-4秒随机等待</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">// 测试结束后的清理函数</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">teardown</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Performance test completed'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>

<h2 id="七、测试用例最佳实践"><a href="#七、测试用例最佳实践" class="headerlink" title="七、测试用例最佳实践"></a>七、测试用例最佳实践</h2><h3 id="7-1-测试用例设计原则"><a href="#7-1-测试用例设计原则" class="headerlink" title="7.1 测试用例设计原则"></a>7.1 测试用例设计原则</h3><h4 id="FIRST原则"><a href="#FIRST原则" class="headerlink" title="FIRST原则"></a>FIRST原则</h4><figure><div class="code-wrapper"><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// FIRST原则示例</span>
<span class="token keyword">const</span> testPrinciples <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
    <span class="token literal-property property">Fast</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>
        <span class="token literal-property property">description</span><span class="token operator">:</span> <span class="token string">"测试应该快速执行"</span><span class="token punctuation">,</span>
        <span class="token literal-property property">example</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
        // ✅ 好的实践：使用Mock避免网络调用
        test('calculate total price', () => &#123;
            const mockProducts = [
                &#123; price: 10.99, quantity: 2 &#125;,
                &#123; price: 5.99, quantity: 1 &#125;
            ];
            const total = calculateTotal(mockProducts);
            expect(total).toBe(27.97);
        &#125;);

        // ❌ 避免：实际的网络请求
        test('fetch products from API', async () => &#123;
            const products = await fetchProductsFromAPI(); // 慢
            expect(products.length).toBeGreaterThan(0);
        &#125;);</span><span class="token template-punctuation string">`</span></span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>

    <span class="token literal-property property">Independent</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>
        <span class="token literal-property property">description</span><span class="token operator">:</span> <span class="token string">"测试之间应该相互独立"</span><span class="token punctuation">,</span>
        <span class="token literal-property property">example</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
        // ✅ 好的实践：每个测试独立设置数据
        describe('User Service', () => &#123;
            beforeEach(() => &#123;
                // 每个测试前重置状态
                userService.reset();
            &#125;);

            test('create user', () => &#123;
                const user = userService.create(&#123; name: 'John' &#125;);
                expect(user.id).toBeDefined();
            &#125;);

            test('delete user', () => &#123;
                const user = userService.create(&#123; name: 'Jane' &#125;);
                const result = userService.delete(user.id);
                expect(result).toBe(true);
            &#125;);
        &#125;);</span><span class="token template-punctuation string">`</span></span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>

    <span class="token literal-property property">Repeatable</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>
        <span class="token literal-property property">description</span><span class="token operator">:</span> <span class="token string">"测试结果应该可重复"</span><span class="token punctuation">,</span>
        <span class="token literal-property property">example</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
        // ✅ 好的实践：使用固定的测试数据
        test('format date', () => &#123;
            const fixedDate = new Date('2025-07-18T10:00:00Z');
            const formatted = formatDate(fixedDate);
            expect(formatted).toBe('2025-07-18');
        &#125;);

        // ❌ 避免：依赖当前时间
        test('is recent date', () => &#123;
            const now = new Date(); // 不可预测
            const result = isRecent(now);
            expect(result).toBe(true);
        &#125;);</span><span class="token template-punctuation string">`</span></span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>

    <span class="token literal-property property">SelfValidating</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>
        <span class="token literal-property property">description</span><span class="token operator">:</span> <span class="token string">"测试应该有明确的通过/失败结果"</span><span class="token punctuation">,</span>
        <span class="token literal-property property">example</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
        // ✅ 好的实践：明确的断言
        test('user validation', () => &#123;
            const result = validateUser(&#123; email: 'test@example.com' &#125;);
            expect(result.isValid).toBe(true);
            expect(result.errors).toHaveLength(0);
        &#125;);

        // ❌ 避免：需要人工判断的输出
        test('print user info', () => &#123;
            const user = getUser(1);
            console.log(user); // 需要人工检查
        &#125;);</span><span class="token template-punctuation string">`</span></span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>

    <span class="token literal-property property">Timely</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>
        <span class="token literal-property property">description</span><span class="token operator">:</span> <span class="token string">"测试应该及时编写"</span><span class="token punctuation">,</span>
        <span class="token literal-property property">example</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
        // ✅ 好的实践：TDD - 先写测试
        test('calculate discount', () => &#123;
            // 先写测试，定义期望行为
            const discount = calculateDiscount(100, 'VIP');
            expect(discount).toBe(20);
        &#125;);

        // 然后实现功能
        function calculateDiscount(amount, customerType) &#123;
            if (customerType === 'VIP') &#123;
                return amount * 0.2;
            &#125;
            return 0;
        &#125;</span><span class="token template-punctuation string">`</span></span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>

<h3 id="7-2-测试用例维护策略"><a href="#7-2-测试用例维护策略" class="headerlink" title="7.2 测试用例维护策略"></a>7.2 测试用例维护策略</h3><h4 id="测试用例生命周期管理"><a href="#测试用例生命周期管理" class="headerlink" title="测试用例生命周期管理"></a>测试用例生命周期管理</h4><figure><div class="code-wrapper"><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// 测试用例维护策略</span>
<span class="token keyword">const</span> testMaintenanceStrategy <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
    <span class="token comment">// 1. 定期审查</span>
    <span class="token literal-property property">regularReview</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>
        <span class="token literal-property property">frequency</span><span class="token operator">:</span> <span class="token string">"每月一次"</span><span class="token punctuation">,</span>
        <span class="token literal-property property">activities</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token string">"检查失效的测试用例"</span><span class="token punctuation">,</span>
            <span class="token string">"更新过时的测试数据"</span><span class="token punctuation">,</span>
            <span class="token string">"优化执行缓慢的测试"</span><span class="token punctuation">,</span>
            <span class="token string">"删除重复的测试用例"</span>
        <span class="token punctuation">]</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>

    <span class="token comment">// 2. 版本控制</span>
    <span class="token literal-property property">versionControl</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>
        <span class="token literal-property property">strategy</span><span class="token operator">:</span> <span class="token string">"与代码同步版本控制"</span><span class="token punctuation">,</span>
        <span class="token literal-property property">practices</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token string">"测试用例与功能代码一起提交"</span><span class="token punctuation">,</span>
            <span class="token string">"使用分支管理测试用例变更"</span><span class="token punctuation">,</span>
            <span class="token string">"代码审查包含测试用例审查"</span><span class="token punctuation">,</span>
            <span class="token string">"维护测试用例变更日志"</span>
        <span class="token punctuation">]</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>

    <span class="token comment">// 3. 重构策略</span>
    <span class="token literal-property property">refactoringStrategy</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>
        <span class="token literal-property property">triggers</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token string">"测试执行时间过长"</span><span class="token punctuation">,</span>
            <span class="token string">"测试用例重复度高"</span><span class="token punctuation">,</span>
            <span class="token string">"维护成本过高"</span><span class="token punctuation">,</span>
            <span class="token string">"业务逻辑变更"</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token string">"提取公共测试方法"</span><span class="token punctuation">,</span>
            <span class="token string">"使用测试工厂模式"</span><span class="token punctuation">,</span>
            <span class="token string">"实现页面对象模式"</span><span class="token punctuation">,</span>
            <span class="token string">"优化测试数据管理"</span>
        <span class="token punctuation">]</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>

<span class="token comment">// 测试用例重构示例</span>
<span class="token keyword">class</span> <span class="token class-name">TestRefactoringExample</span> <span class="token punctuation">&#123;</span>
    <span class="token comment">// 重构前：重复的测试代码</span>
    <span class="token function">testUserCreationBefore</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token comment">// 重复的设置代码</span>
        <span class="token keyword">const</span> userData <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
            <span class="token literal-property property">email</span><span class="token operator">:</span> <span class="token string">'test@example.com'</span><span class="token punctuation">,</span>
            <span class="token literal-property property">password</span><span class="token operator">:</span> <span class="token string">'password123'</span><span class="token punctuation">,</span>
            <span class="token literal-property property">firstName</span><span class="token operator">:</span> <span class="token string">'John'</span><span class="token punctuation">,</span>
            <span class="token literal-property property">lastName</span><span class="token operator">:</span> <span class="token string">'Doe'</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>

        <span class="token keyword">const</span> user <span class="token operator">=</span> <span class="token function">createUser</span><span class="token punctuation">(</span>userData<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">expect</span><span class="token punctuation">(</span>user<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBeDefined</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">expect</span><span class="token punctuation">(</span>user<span class="token punctuation">.</span>email<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBe</span><span class="token punctuation">(</span>userData<span class="token punctuation">.</span>email<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>

    <span class="token comment">// 重构后：提取公共方法</span>
    <span class="token function">createTestUser</span><span class="token punctuation">(</span><span class="token parameter">overrides <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span></span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">const</span> defaultUserData <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
            <span class="token literal-property property">email</span><span class="token operator">:</span> <span class="token string">'test@example.com'</span><span class="token punctuation">,</span>
            <span class="token literal-property property">password</span><span class="token operator">:</span> <span class="token string">'password123'</span><span class="token punctuation">,</span>
            <span class="token literal-property property">firstName</span><span class="token operator">:</span> <span class="token string">'John'</span><span class="token punctuation">,</span>
            <span class="token literal-property property">lastName</span><span class="token operator">:</span> <span class="token string">'Doe'</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>

        <span class="token keyword">return</span> <span class="token punctuation">&#123;</span> <span class="token operator">...</span>defaultUserData<span class="token punctuation">,</span> <span class="token operator">...</span>overrides <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>

    <span class="token function">testUserCreationAfter</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">const</span> userData <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">createTestUser</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">const</span> user <span class="token operator">=</span> <span class="token function">createUser</span><span class="token punctuation">(</span>userData<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token function">expect</span><span class="token punctuation">(</span>user<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBeDefined</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">expect</span><span class="token punctuation">(</span>user<span class="token punctuation">.</span>email<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBe</span><span class="token punctuation">(</span>userData<span class="token punctuation">.</span>email<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>

    <span class="token function">testUserCreationWithCustomEmail</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">const</span> userData <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">createTestUser</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
            <span class="token literal-property property">email</span><span class="token operator">:</span> <span class="token string">'custom@example.com'</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">const</span> user <span class="token operator">=</span> <span class="token function">createUser</span><span class="token punctuation">(</span>userData<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token function">expect</span><span class="token punctuation">(</span>user<span class="token punctuation">.</span>email<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBe</span><span class="token punctuation">(</span><span class="token string">'custom@example.com'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>

<h3 id="7-3-测试报告与度量"><a href="#7-3-测试报告与度量" class="headerlink" title="7.3 测试报告与度量"></a>7.3 测试报告与度量</h3><h4 id="测试覆盖率分析"><a href="#测试覆盖率分析" class="headerlink" title="测试覆盖率分析"></a>测试覆盖率分析</h4><figure><div class="code-wrapper"><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// Jest覆盖率配置</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
    <span class="token literal-property property">collectCoverage</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token literal-property property">coverageDirectory</span><span class="token operator">:</span> <span class="token string">'coverage'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">coverageReporters</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'text'</span><span class="token punctuation">,</span> <span class="token string">'lcov'</span><span class="token punctuation">,</span> <span class="token string">'html'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token literal-property property">coverageThreshold</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>
        <span class="token literal-property property">global</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>
            <span class="token literal-property property">branches</span><span class="token operator">:</span> <span class="token number">80</span><span class="token punctuation">,</span>
            <span class="token literal-property property">functions</span><span class="token operator">:</span> <span class="token number">80</span><span class="token punctuation">,</span>
            <span class="token literal-property property">lines</span><span class="token operator">:</span> <span class="token number">80</span><span class="token punctuation">,</span>
            <span class="token literal-property property">statements</span><span class="token operator">:</span> <span class="token number">80</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
        <span class="token string-property property">'./src/utils/'</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>
            <span class="token literal-property property">branches</span><span class="token operator">:</span> <span class="token number">90</span><span class="token punctuation">,</span>
            <span class="token literal-property property">functions</span><span class="token operator">:</span> <span class="token number">90</span><span class="token punctuation">,</span>
            <span class="token literal-property property">lines</span><span class="token operator">:</span> <span class="token number">90</span><span class="token punctuation">,</span>
            <span class="token literal-property property">statements</span><span class="token operator">:</span> <span class="token number">90</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">collectCoverageFrom</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token string">'src/**/*.&#123;js,jsx&#125;'</span><span class="token punctuation">,</span>
        <span class="token string">'!src/index.js'</span><span class="token punctuation">,</span>
        <span class="token string">'!src/serviceWorker.js'</span><span class="token punctuation">,</span>
        <span class="token string">'!src/**/*.test.js'</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>

<span class="token comment">// 自定义测试报告生成</span>
<span class="token keyword">class</span> <span class="token class-name">TestReportGenerator</span> <span class="token punctuation">&#123;</span>
    <span class="token function">generateReport</span><span class="token punctuation">(</span><span class="token parameter">testResults</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">const</span> report <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
            <span class="token literal-property property">summary</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>
                <span class="token literal-property property">totalTests</span><span class="token operator">:</span> testResults<span class="token punctuation">.</span>length<span class="token punctuation">,</span>
                <span class="token literal-property property">passed</span><span class="token operator">:</span> testResults<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token parameter">t</span> <span class="token operator">=></span> t<span class="token punctuation">.</span>status <span class="token operator">===</span> <span class="token string">'passed'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>length<span class="token punctuation">,</span>
                <span class="token literal-property property">failed</span><span class="token operator">:</span> testResults<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token parameter">t</span> <span class="token operator">=></span> t<span class="token punctuation">.</span>status <span class="token operator">===</span> <span class="token string">'failed'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>length<span class="token punctuation">,</span>
                <span class="token literal-property property">skipped</span><span class="token operator">:</span> testResults<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token parameter">t</span> <span class="token operator">=></span> t<span class="token punctuation">.</span>status <span class="token operator">===</span> <span class="token string">'skipped'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>length<span class="token punctuation">,</span>
                <span class="token literal-property property">executionTime</span><span class="token operator">:</span> testResults<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">sum<span class="token punctuation">,</span> t</span><span class="token punctuation">)</span> <span class="token operator">=></span> sum <span class="token operator">+</span> t<span class="token punctuation">.</span>duration<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
            <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>

            <span class="token literal-property property">coverage</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>
                <span class="token literal-property property">statements</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">calculateCoverage</span><span class="token punctuation">(</span><span class="token string">'statements'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token literal-property property">branches</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">calculateCoverage</span><span class="token punctuation">(</span><span class="token string">'branches'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token literal-property property">functions</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">calculateCoverage</span><span class="token punctuation">(</span><span class="token string">'functions'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token literal-property property">lines</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">calculateCoverage</span><span class="token punctuation">(</span><span class="token string">'lines'</span><span class="token punctuation">)</span>
            <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>

            <span class="token literal-property property">failedTests</span><span class="token operator">:</span> testResults
                <span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token parameter">t</span> <span class="token operator">=></span> t<span class="token punctuation">.</span>status <span class="token operator">===</span> <span class="token string">'failed'</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">t</span> <span class="token operator">=></span> <span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
                    <span class="token literal-property property">name</span><span class="token operator">:</span> t<span class="token punctuation">.</span>name<span class="token punctuation">,</span>
                    <span class="token literal-property property">error</span><span class="token operator">:</span> t<span class="token punctuation">.</span>error<span class="token punctuation">,</span>
                    <span class="token literal-property property">file</span><span class="token operator">:</span> t<span class="token punctuation">.</span>file<span class="token punctuation">,</span>
                    <span class="token literal-property property">line</span><span class="token operator">:</span> t<span class="token punctuation">.</span>line
                <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>

            <span class="token literal-property property">performance</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>
                <span class="token literal-property property">slowestTests</span><span class="token operator">:</span> testResults
                    <span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token operator">=></span> b<span class="token punctuation">.</span>duration <span class="token operator">-</span> a<span class="token punctuation">.</span>duration<span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token literal-property property">averageExecutionTime</span><span class="token operator">:</span> testResults<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">sum<span class="token punctuation">,</span> t</span><span class="token punctuation">)</span> <span class="token operator">=></span> sum <span class="token operator">+</span> t<span class="token punctuation">.</span>duration<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">/</span> testResults<span class="token punctuation">.</span>length
            <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>

        <span class="token keyword">return</span> report<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>

    <span class="token function">generateHTMLReport</span><span class="token punctuation">(</span><span class="token parameter">report</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
        &lt;!DOCTYPE html>
        &lt;html>
        &lt;head>
            &lt;title>测试报告&lt;/title>
            &lt;style>
                body &#123; font-family: Arial, sans-serif; margin: 20px; &#125;
                .summary &#123; background: #f5f5f5; padding: 15px; border-radius: 5px; &#125;
                .passed &#123; color: green; &#125;
                .failed &#123; color: red; &#125;
                .coverage &#123; margin: 20px 0; &#125;
                .coverage-bar &#123; width: 200px; height: 20px; background: #ddd; border-radius: 10px; &#125;
                .coverage-fill &#123; height: 100%; background: #4caf50; border-radius: 10px; &#125;
            &lt;/style>
        &lt;/head>
        &lt;body>
            &lt;h1>测试执行报告&lt;/h1>

            &lt;div class="summary">
                &lt;h2>测试概要&lt;/h2>
                &lt;p>总测试数: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>report<span class="token punctuation">.</span>summary<span class="token punctuation">.</span>totalTests<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">&lt;/p>
                &lt;p class="passed">通过: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>report<span class="token punctuation">.</span>summary<span class="token punctuation">.</span>passed<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">&lt;/p>
                &lt;p class="failed">失败: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>report<span class="token punctuation">.</span>summary<span class="token punctuation">.</span>failed<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">&lt;/p>
                &lt;p>跳过: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>report<span class="token punctuation">.</span>summary<span class="token punctuation">.</span>skipped<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">&lt;/p>
                &lt;p>执行时间: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>report<span class="token punctuation">.</span>summary<span class="token punctuation">.</span>executionTime<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">ms&lt;/p>
            &lt;/div>

            &lt;div class="coverage">
                &lt;h2>代码覆盖率&lt;/h2>
                &lt;div>
                    &lt;span>语句覆盖率: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>report<span class="token punctuation">.</span>coverage<span class="token punctuation">.</span>statements<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">%&lt;/span>
                    &lt;div class="coverage-bar">
                        &lt;div class="coverage-fill" style="width: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>report<span class="token punctuation">.</span>coverage<span class="token punctuation">.</span>statements<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">%">&lt;/div>
                    &lt;/div>
                &lt;/div>
                &lt;!-- 其他覆盖率指标... -->
            &lt;/div>

            </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>report<span class="token punctuation">.</span>failedTests<span class="token punctuation">.</span>length <span class="token operator">></span> <span class="token number">0</span> <span class="token operator">?</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
            &lt;div class="failed-tests">
                &lt;h2>失败的测试&lt;/h2>
                &lt;ul>
                    </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>report<span class="token punctuation">.</span>failedTests<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">test</span> <span class="token operator">=></span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
                        &lt;li>
                            &lt;strong></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>test<span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">&lt;/strong>&lt;br>
                            &lt;span style="color: red;"></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>test<span class="token punctuation">.</span>error<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">&lt;/span>&lt;br>
                            &lt;small></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>test<span class="token punctuation">.</span>file<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">:</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>test<span class="token punctuation">.</span>line<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">&lt;/small>
                        &lt;/li>
                    </span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">
                &lt;/ul>
            &lt;/div>
            </span><span class="token template-punctuation string">`</span></span> <span class="token operator">:</span> <span class="token string">''</span><span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">
        &lt;/body>
        &lt;/html>
        </span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>

<h2 id="八、总结与展望"><a href="#八、总结与展望" class="headerlink" title="八、总结与展望"></a>八、总结与展望</h2><h3 id="8-1-测试用例设计核心要点"><a href="#8-1-测试用例设计核心要点" class="headerlink" title="8.1 测试用例设计核心要点"></a>8.1 测试用例设计核心要点</h3><ol>
<li><strong>系统性设计</strong>：使用科学的测试设计方法，确保测试覆盖全面</li>
<li><strong>质量优先</strong>：编写高质量、可维护的测试用例</li>
<li><strong>自动化驱动</strong>：优先考虑自动化执行和持续集成</li>
<li><strong>数据驱动</strong>：合理管理测试数据，提高测试效率</li>
<li><strong>持续改进</strong>：定期审查和优化测试用例</li>
</ol>
<h3 id="8-2-未来发展趋势"><a href="#8-2-未来发展趋势" class="headerlink" title="8.2 未来发展趋势"></a>8.2 未来发展趋势</h3><ul>
<li><strong>AI辅助测试</strong>：利用人工智能生成和优化测试用例</li>
<li><strong>智能化测试</strong>：自动识别测试场景和生成测试数据</li>
<li><strong>云端测试</strong>：基于云平台的大规模并行测试执行</li>
<li><strong>可视化测试</strong>：图形化的测试用例设计和管理工具</li>
</ul>
<p>测试用例是软件质量保证的基石，掌握测试用例的设计和编写技能对于任何软件开发团队都至关重要。通过系统的学习和实践，我们能够构建更加可靠、高效的测试体系，确保软件产品的质量和用户体验。</p>
<p>希望这份测试用例指南能够帮助你在软件测试的道路上更进一步！🧪✨</p>

                
              </div>
            
            <hr/>
            <div>
              <div class="post-metas my-3">
  
    <div class="post-meta mr-3 d-flex align-items-center">
      <i class="iconfont icon-category"></i>
      

<span class="category-chains">
  
  
    
      <span class="category-chain">
        
  <a href="/categories/%E6%B5%8B%E8%AF%95/" class="category-chain-item">测试</a>
  
  

      </span>
    
  
</span>

    </div>
  
  
    <div class="post-meta">
      <i class="iconfont icon-tags"></i>
      
        <a href="/tags/%E6%B5%8B%E8%AF%95%E7%94%A8%E4%BE%8B/" class="print-no-link">#测试用例</a>
      
        <a href="/tags/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/" class="print-no-link">#软件测试</a>
      
        <a href="/tags/%E8%B4%A8%E9%87%8F%E4%BF%9D%E8%AF%81/" class="print-no-link">#质量保证</a>
      
        <a href="/tags/%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/" class="print-no-link">#单元测试</a>
      
        <a href="/tags/%E9%9B%86%E6%88%90%E6%B5%8B%E8%AF%95/" class="print-no-link">#集成测试</a>
      
        <a href="/tags/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95/" class="print-no-link">#自动化测试</a>
      
    </div>
  
</div>


              

              
                <div class="post-prevnext my-3">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2025/07/18/%E3%80%90%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E3%80%91%E4%BB%A3%E7%A0%81%E8%B4%A8%E9%87%8F%E6%A3%80%E6%9F%A5%E4%B8%8E%E6%87%92%E5%8A%A0%E8%BD%BD%E9%85%8D%E7%BD%AE%E9%97%AE%E9%A2%98%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/" title="【微信小程序】代码质量检查与懒加载配置问题解决方案">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">【微信小程序】代码质量检查与懒加载配置问题解决方案</span>
                        <span class="visible-mobile">上一篇</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2025/07/18/%E3%80%90%E8%AE%BE%E8%AE%A1%E3%80%91%E8%AE%BE%E8%AE%A1%E5%8E%9F%E5%9E%8B%E8%AF%A6%E8%A7%A3%EF%BC%9A%E4%BB%8E%E6%A6%82%E5%BF%B5%E5%88%B0%E5%AE%9E%E7%8E%B0%E7%9A%84%E5%AE%8C%E6%95%B4%E6%8C%87%E5%8D%97/" title="【设计】设计原型详解：从概念到实现的完整指南">
                        <span class="hidden-mobile">【设计】设计原型详解：从概念到实现的完整指南</span>
                        <span class="visible-mobile">下一篇</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
          </article>
        </div>
      </div>
    </div>

    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar" style="margin-left: -1rem">
    <div id="toc">
  <p class="toc-header">
    <i class="iconfont icon-list"></i>
    <span>目录</span>
  </p>
  <div class="toc-body" id="toc-body"></div>
</div>



  </aside>


    </div>
  </div>
</div>





  



  



  



  



  







    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    <div class="footer-inner">
  
    <div class="footer-content">
       <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> 
    </div>
  
  
    <div class="statistics">
  
  

  
    
      <span id="busuanzi_container_site_pv" style="display: none">
        总访问量 
        <span id="busuanzi_value_site_pv"></span>
         次
      </span>
    
    
      <span id="busuanzi_container_site_uv" style="display: none">
        总访客数 
        <span id="busuanzi_value_site_uv"></span>
         人
      </span>
    
    

  

</div>

  
  
</div>

  </footer>

  <!-- Scripts -->
  
  <script  src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://lib.baomitu.com/jquery/3.6.4/jquery.min.js" ></script>
<script  src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>


  <script  src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var subtitle = document.getElementById('subtitle');
      if (!subtitle || !typing) {
        return;
      }
      var text = subtitle.getAttribute('data-typed-text');
      
        typing(text);
      
    })(window, document);
  </script>




  
    <script  src="/js/img-lazyload.js" ></script>
  




  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/tocbot/4.20.1/tocbot.min.js', function() {
    var toc = jQuery('#toc');
    if (toc.length === 0 || !window.tocbot) { return; }
    var boardCtn = jQuery('#board-ctn');
    var boardTop = boardCtn.offset().top;

    window.tocbot.init(Object.assign({
      tocSelector     : '#toc-body',
      contentSelector : '.markdown-body',
      linkClass       : 'tocbot-link',
      activeLinkClass : 'tocbot-active-link',
      listClass       : 'tocbot-list',
      isCollapsedClass: 'tocbot-is-collapsed',
      collapsibleClass: 'tocbot-is-collapsible',
      scrollSmooth    : true,
      includeTitleTags: true,
      headingsOffset  : -boardTop,
    }, CONFIG.toc));
    if (toc.find('.toc-list-item').length > 0) {
      toc.css('visibility', 'visible');
    }

    Fluid.events.registerRefreshCallback(function() {
      if ('tocbot' in window) {
        tocbot.refresh();
        var toc = jQuery('#toc');
        if (toc.length === 0 || !tocbot) {
          return;
        }
        if (toc.find('.toc-list-item').length > 0) {
          toc.css('visibility', 'visible');
        }
      }
    });
  });
</script>


  <script  src="https://lib.baomitu.com/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.js" ></script>

  <script src=https://lib.baomitu.com/clipboard.js/2.0.11/clipboard.min.js></script>

  <script>Fluid.plugins.codeWidget();</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/anchor-js/5.0.0/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));

    Fluid.events.registerRefreshCallback(function() {
      if ('anchors' in window) {
        anchors.removeAll();
        var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
        var res = [];
        for (var item of el) {
          res.push('.markdown-body > ' + item.trim());
        }
        if (CONFIG.anchorjs.placement === 'left') {
          anchors.options.class = 'anchorjs-link-left';
        }
        anchors.add(res.join(', '));
      }
    });
  });
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js', function() {
    Fluid.plugins.fancyBox();
  });
</script>


  <script>Fluid.plugins.imageCaption();</script>

  <script  src="/js/local-search.js" ></script>

  <script defer src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" ></script>




  
<script src="/js/custom.js"></script>
<script src="/js/ai-assistant.js"></script>
<script src="https://cdn.jsdelivr.net/npm/mermaid@9.4.0/dist/mermaid.min.js"></script>



<!-- 主题的启动项，将它保持在最底部 -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="/js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">博客在允许 JavaScript 运行的环境下浏览效果更佳</div>
  </noscript>
</body>
</html>
