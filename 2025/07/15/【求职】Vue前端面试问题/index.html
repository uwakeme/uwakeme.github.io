

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">

  <link rel="apple-touch-icon" sizes="76x76" href="/img/fluid.png">
  <link rel="icon" href="https://cdn.jsdelivr.net/gh/uwakeme/cdn@main/img/favicon.png">
  

  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
    <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="Wake">
  <meta name="keywords" content="技术博客, Web开发, 后端开发, Java, Python, 人工智能, 编程学习, 技术分享">
  
    <meta name="description" content="前言Vue.js作为当前最受欢迎的前端框架之一，在求职市场中占据重要地位。无论是Vue 2还是Vue 3，掌握其核心概念和面试技巧都是前端开发者必备的技能。本文整理了Vue面试中最常见的问题类型，并提供了详细的回答思路和代码示例，帮助求职者在面试中展现专业水平。 一、Vue基础概念面试问题（一）Vue核心特性1. 请解释Vue的核心特性标准回答： Vue.js具有以下核心特性： 响应式数据绑定：">
<meta property="og:type" content="article">
<meta property="og:title" content="【求职】Vue前端面试问题">
<meta property="og:url" content="https://uwakeme.top/2025/07/15/%E3%80%90%E6%B1%82%E8%81%8C%E3%80%91Vue%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E9%97%AE%E9%A2%98/index.html">
<meta property="og:site_name" content="Uwakeme">
<meta property="og:description" content="前言Vue.js作为当前最受欢迎的前端框架之一，在求职市场中占据重要地位。无论是Vue 2还是Vue 3，掌握其核心概念和面试技巧都是前端开发者必备的技能。本文整理了Vue面试中最常见的问题类型，并提供了详细的回答思路和代码示例，帮助求职者在面试中展现专业水平。 一、Vue基础概念面试问题（一）Vue核心特性1. 请解释Vue的核心特性标准回答： Vue.js具有以下核心特性： 响应式数据绑定：">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2025-07-15T02:03:44.247Z">
<meta property="article:modified_time" content="2025-07-15T02:03:44.247Z">
<meta property="article:author" content="Wake">
<meta property="article:tag" content="前端">
<meta property="article:tag" content="JavaScript">
<meta property="article:tag" content="Vue">
<meta property="article:tag" content="面试">
<meta name="twitter:card" content="summary_large_image">
  
  
    <meta name="referrer" content="no-referrer-when-downgrade">
  
  
  <title>【求职】Vue前端面试问题 - Uwakeme</title>

  <link  rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css" />



  <link  rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css" />



<!-- 主题依赖的图标库，不要自行修改 -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/c/font_1749284_5i9bdhy70f8.css">



<link rel="stylesheet" href="//at.alicdn.com/t/c/font_1736178_k526ubmyhba.css">


<link  rel="stylesheet" href="/css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="/css/highlight.css" />
  
    <link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css" />
  



  
<link rel="stylesheet" href="//at.alicdn.com/t/c/font_3846514_kabxni94auf.css">
<link rel="stylesheet" href="/css/custom.css">
<link rel="stylesheet" href="/css/ai-assistant.css">



  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    Fluid.ctx = Object.assign({}, Fluid.ctx)
    var CONFIG = {"hostname":"uwakeme.top","root":"/","version":"1.9.8","typing":{"enable":true,"typeSpeed":70,"cursorChar":"|","loop":false,"scope":[],"backSpeed":40,"showCursor":true},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"right","visible":"hover","icon":"#"},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100},"position_indicator":{"enable":true,"color":"#33a3dc"}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":true},"image_zoom":{"enable":true,"img_url_replace":["",""],"img_max_width":"80%","img_max_height":"80%"},"toc":{"enable":true,"placement":"right","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0,"level":3,"collapse":false,"follow":true,"number":true,"heading_list":true,"expand_all":true},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2,"element_loading_img":true},"web_analytics":{"enable":true,"follow_dnt":true,"baidu":"41fc030db57d5570dd22f78997dc4a7e","google":{"measurement_id":null},"tencent":{"sid":null,"cid":null},"leancloud":{"app_id":null,"app_key":null,"server_url":null,"path":"window.location.pathname","ignore_local":false},"umami":{"src":null,"website_id":null,"domains":null,"start_time":"2024-01-01T00:00:00.000Z","token":null,"api_server":null},"busuanzi":{"enable":true,"script_url":"//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js","site_uv":true,"site_pv":true,"page_pv":true}},"search_path":"/local-search.xml","include_content_in_search":true};

    if (CONFIG.web_analytics.follow_dnt) {
      var dntVal = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      Fluid.ctx.dnt = dntVal && (dntVal.startsWith('1') || dntVal.startsWith('yes') || dntVal.startsWith('on'));
    }
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
  

  
    <!-- Baidu Analytics -->
    <script async>
      if (!Fluid.ctx.dnt) {
        var _hmt = _hmt || [];
        (function() {
          var hm = document.createElement("script");
          hm.src = "https://hm.baidu.com/hm.js?41fc030db57d5570dd22f78997dc4a7e";
          var s = document.getElementsByTagName("script")[0];
          s.parentNode.insertBefore(hm, s);
        })();
      }
    </script>
  

  

  

  

  



  
<meta name="generator" content="Hexo 7.3.0"></head>


<body>
  

  <header>
    

<div class="header-inner" style="height: 70vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>Wake 的博客</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/" target="_self">
                <i class="iconfont icon-home-fill"></i>
                <span>首页</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives" target="_self">
                <i class="iconfont icon-books"></i>
                <span>归档</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories" target="_self">
                <i class="iconfont icon-th-large"></i>
                <span>分类</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/" target="_self">
                <i class="iconfont icon-tags-fill"></i>
                <span>标签</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/" target="_self">
                <i class="iconfont icon-user-fill"></i>
                <span>关于</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/links/" target="_self">
                <i class="iconfont icon-link-fill"></i>
                <span>友链</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" target="_self" href="javascript:;" role="button"
                 data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                <i class="iconfont icon-book"></i>
                <span>文档</span>
              </a>
              <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                
                  
                  
                  
                  <a class="dropdown-item" href="https://hexo.fluid-dev.com/" target="_self">
                    
                    <span>主题博客</span>
                  </a>
                
                  
                  
                  
                  <a class="dropdown-item" href="https://hexo.fluid-dev.com/docs/guide/" target="_self">
                    
                    <span>配置指南</span>
                  </a>
                
                  
                  
                  
                  <a class="dropdown-item" href="https://hexo.fluid-dev.com/docs/icon/" target="_self">
                    
                    <span>图标用法</span>
                  </a>
                
              </div>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              <i class="iconfont icon-search"></i>
            </a>
          </li>
          
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">
              <i class="iconfont icon-dark" id="color-toggle-icon"></i>
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax=true
     style="background: url('/img/default.png') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle" data-typed-text="【求职】Vue前端面试问题"></span>
          
        </div>

        
          
  <div class="mt-3">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-author" aria-hidden="true"></i>
        Wake
      </span>
    
    
      <span class="post-meta">
        <i class="iconfont icon-date-fill" aria-hidden="true"></i>
        <time datetime="2025-07-15 10:03" pubdate>
          2025-07-15 10:03
        </time>
      </span>
    
  </div>

  <div class="mt-1">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-chart"></i>
        
          <!-- compatible with older versions-->
          8.5k 字
        
      </span>
    

    
      <span class="post-meta mr-2">
        <i class="iconfont icon-clock-fill"></i>
        
        
        
          <!-- compatible with older versions-->
          72 分钟
        
      </span>
    

    
    
      
        <span id="busuanzi_container_page_pv" style="display: none">
          <i class="iconfont icon-eye" aria-hidden="true"></i>
          <span id="busuanzi_value_page_pv"></span> 次
        </span>
        

      
    
  </div>


        
      </div>

      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="side-col d-none d-lg-block col-lg-2">
      

    </div>

    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div id="board">
          <article class="post-content mx-auto">
            <h1 id="seo-header">【求职】Vue前端面试问题</h1>
            
            
              <div class="markdown-body">
                
                <h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>Vue.js作为当前最受欢迎的前端框架之一，在求职市场中占据重要地位。无论是Vue 2还是Vue 3，掌握其核心概念和面试技巧都是前端开发者必备的技能。本文整理了Vue面试中最常见的问题类型，并提供了详细的回答思路和代码示例，帮助求职者在面试中展现专业水平。</p>
<h1 id="一、Vue基础概念面试问题"><a href="#一、Vue基础概念面试问题" class="headerlink" title="一、Vue基础概念面试问题"></a>一、Vue基础概念面试问题</h1><h2 id="（一）Vue核心特性"><a href="#（一）Vue核心特性" class="headerlink" title="（一）Vue核心特性"></a>（一）Vue核心特性</h2><h3 id="1-请解释Vue的核心特性"><a href="#1-请解释Vue的核心特性" class="headerlink" title="1. 请解释Vue的核心特性"></a>1. 请解释Vue的核心特性</h3><p><strong>标准回答：</strong></p>
<p>Vue.js具有以下核心特性：</p>
<p><strong>响应式数据绑定：</strong></p>
<ul>
<li>数据变化时自动更新视图</li>
<li>基于Object.defineProperty（Vue 2）或Proxy（Vue 3）实现</li>
<li>支持双向数据绑定</li>
</ul>
<figure><div class="code-wrapper"><pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;template&gt;
  &lt;div&gt;
    &lt;input v-model&#x3D;&quot;message&quot; placeholder&#x3D;&quot;输入内容&quot;&gt;
    &lt;p&gt;&#123;&#123; message &#125;&#125;&lt;&#x2F;p&gt;
  &lt;&#x2F;div&gt;
&lt;&#x2F;template&gt;

&lt;script&gt;
export default &#123;
  data() &#123;
    return &#123;
      message: &#39;Hello Vue!&#39;  &#x2F;&#x2F; 响应式数据
    &#125;
  &#125;
&#125;
&lt;&#x2F;script&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>

<p><strong>组件化开发：</strong></p>
<ul>
<li>将UI拆分为可复用的组件</li>
<li>组件间通过props和events通信</li>
<li>支持组件的嵌套和组合</li>
</ul>
<figure><div class="code-wrapper"><pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;!-- 父组件 --&gt;
&lt;template&gt;
  &lt;div&gt;
    &lt;child-component 
      :title&#x3D;&quot;parentTitle&quot; 
      @child-event&#x3D;&quot;handleChildEvent&quot;
    &#x2F;&gt;
  &lt;&#x2F;div&gt;
&lt;&#x2F;template&gt;

&lt;script&gt;
import ChildComponent from &#39;.&#x2F;ChildComponent.vue&#39;

export default &#123;
  components: &#123;
    ChildComponent
  &#125;,
  data() &#123;
    return &#123;
      parentTitle: &#39;父组件标题&#39;
    &#125;
  &#125;,
  methods: &#123;
    handleChildEvent(data) &#123;
      console.log(&#39;接收到子组件事件：&#39;, data)
    &#125;
  &#125;
&#125;
&lt;&#x2F;script&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>

<p><strong>虚拟DOM：</strong></p>
<ul>
<li>在内存中构建虚拟的DOM树</li>
<li>通过diff算法优化DOM操作</li>
<li>提高渲染性能</li>
</ul>
<p><strong>指令系统：</strong></p>
<ul>
<li>提供丰富的内置指令（v-if、v-for、v-model等）</li>
<li>支持自定义指令</li>
<li>简化DOM操作</li>
</ul>
<figure><div class="code-wrapper"><pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;template&gt;
  &lt;div&gt;
    &lt;!-- 条件渲染 --&gt;
    &lt;p v-if&#x3D;&quot;isVisible&quot;&gt;条件显示的内容&lt;&#x2F;p&gt;
    
    &lt;!-- 列表渲染 --&gt;
    &lt;ul&gt;
      &lt;li v-for&#x3D;&quot;item in items&quot; :key&#x3D;&quot;item.id&quot;&gt;
        &#123;&#123; item.name &#125;&#125;
      &lt;&#x2F;li&gt;
    &lt;&#x2F;ul&gt;
    
    &lt;!-- 事件绑定 --&gt;
    &lt;button @click&#x3D;&quot;toggleVisibility&quot;&gt;切换显示&lt;&#x2F;button&gt;
  &lt;&#x2F;div&gt;
&lt;&#x2F;template&gt;

&lt;script&gt;
export default &#123;
  data() &#123;
    return &#123;
      isVisible: true,
      items: [
        &#123; id: 1, name: &#39;项目1&#39; &#125;,
        &#123; id: 2, name: &#39;项目2&#39; &#125;
      ]
    &#125;
  &#125;,
  methods: &#123;
    toggleVisibility() &#123;
      this.isVisible &#x3D; !this.isVisible
    &#125;
  &#125;
&#125;
&lt;&#x2F;script&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>

<h3 id="2-Vue-2和Vue-3的主要区别"><a href="#2-Vue-2和Vue-3的主要区别" class="headerlink" title="2. Vue 2和Vue 3的主要区别"></a>2. Vue 2和Vue 3的主要区别</h3><p><strong>标准回答：</strong></p>
<table>
<thead>
<tr>
<th>特性</th>
<th>Vue 2</th>
<th>Vue 3</th>
</tr>
</thead>
<tbody><tr>
<td>响应式原理</td>
<td>Object.defineProperty</td>
<td>Proxy</td>
</tr>
<tr>
<td>组合式API</td>
<td>不支持</td>
<td>支持Composition API</td>
</tr>
<tr>
<td>多根节点</td>
<td>不支持</td>
<td>支持Fragment</td>
</tr>
<tr>
<td>TypeScript支持</td>
<td>有限支持</td>
<td>原生支持</td>
</tr>
<tr>
<td>性能</td>
<td>较好</td>
<td>更优（Tree-shaking、更小体积）</td>
</tr>
<tr>
<td>生命周期</td>
<td>beforeCreate、created等</td>
<td>setup()、onMounted等</td>
</tr>
</tbody></table>
<p><strong>Vue 2 Options API示例：</strong></p>
<figure><div class="code-wrapper"><pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;template&gt;
  &lt;div&gt;
    &lt;p&gt;&#123;&#123; count &#125;&#125;&lt;&#x2F;p&gt;
    &lt;button @click&#x3D;&quot;increment&quot;&gt;增加&lt;&#x2F;button&gt;
  &lt;&#x2F;div&gt;
&lt;&#x2F;template&gt;

&lt;script&gt;
export default &#123;
  data() &#123;
    return &#123;
      count: 0
    &#125;
  &#125;,
  methods: &#123;
    increment() &#123;
      this.count++
    &#125;
  &#125;,
  mounted() &#123;
    console.log(&#39;组件已挂载&#39;)
  &#125;
&#125;
&lt;&#x2F;script&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>

<p><strong>Vue 3 Composition API示例：</strong></p>
<figure><div class="code-wrapper"><pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;template&gt;
  &lt;div&gt;
    &lt;p&gt;&#123;&#123; count &#125;&#125;&lt;&#x2F;p&gt;
    &lt;button @click&#x3D;&quot;increment&quot;&gt;增加&lt;&#x2F;button&gt;
  &lt;&#x2F;div&gt;
&lt;&#x2F;template&gt;

&lt;script&gt;
import &#123; ref, onMounted &#125; from &#39;vue&#39;

export default &#123;
  setup() &#123;
    const count &#x3D; ref(0)
    
    const increment &#x3D; () &#x3D;&gt; &#123;
      count.value++
    &#125;
    
    onMounted(() &#x3D;&gt; &#123;
      console.log(&#39;组件已挂载&#39;)
    &#125;)
    
    return &#123;
      count,
      increment
    &#125;
  &#125;
&#125;
&lt;&#x2F;script&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>

<h2 id="（二）Vue响应式原理"><a href="#（二）Vue响应式原理" class="headerlink" title="（二）Vue响应式原理"></a>（二）Vue响应式原理</h2><h3 id="3-请解释Vue的响应式原理"><a href="#3-请解释Vue的响应式原理" class="headerlink" title="3. 请解释Vue的响应式原理"></a>3. 请解释Vue的响应式原理</h3><p><strong>标准回答：</strong></p>
<p><strong>Vue 2响应式原理：</strong></p>
<ul>
<li>使用Object.defineProperty劫持对象属性</li>
<li>在getter中收集依赖（Watcher）</li>
<li>在setter中触发更新</li>
<li>通过Dep类管理依赖关系</li>
</ul>
<figure><div class="code-wrapper"><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// Vue 2响应式原理简化实现</span>
<span class="token keyword">function</span> <span class="token function">defineReactive</span><span class="token punctuation">(</span><span class="token parameter">obj<span class="token punctuation">,</span> key<span class="token punctuation">,</span> val</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">const</span> dep <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Dep</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment">// 依赖收集器</span>
  
  Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> key<span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>
    <span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
      <span class="token comment">// 收集依赖</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>Dep<span class="token punctuation">.</span>target<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        dep<span class="token punctuation">.</span><span class="token function">depend</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token punctuation">&#125;</span>
      <span class="token keyword">return</span> val
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    <span class="token function">set</span><span class="token punctuation">(</span>newVal<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>newVal <span class="token operator">===</span> val<span class="token punctuation">)</span> <span class="token keyword">return</span>
      val <span class="token operator">=</span> newVal
      <span class="token comment">// 触发更新</span>
      dep<span class="token punctuation">.</span><span class="token function">notify</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">class</span> <span class="token class-name">Dep</span> <span class="token punctuation">&#123;</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>subs <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>  <span class="token comment">// 存储Watcher</span>
  <span class="token punctuation">&#125;</span>
  
  <span class="token function">depend</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>Dep<span class="token punctuation">.</span>target<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>subs<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>Dep<span class="token punctuation">.</span>target<span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
  <span class="token punctuation">&#125;</span>
  
  <span class="token function">notify</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>subs<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">watcher</span> <span class="token operator">=></span> watcher<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>

<p><strong>Vue 3响应式原理：</strong></p>
<ul>
<li>使用Proxy代理整个对象</li>
<li>支持动态添加属性</li>
<li>更好的性能和更完整的拦截</li>
</ul>
<figure><div class="code-wrapper"><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// Vue 3响应式原理简化实现</span>
<span class="token keyword">function</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token parameter">target</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>
    <span class="token function">get</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> key<span class="token punctuation">,</span> receiver<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
      <span class="token comment">// 收集依赖</span>
      <span class="token function">track</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> key<span class="token punctuation">)</span>
      <span class="token keyword">return</span> Reflect<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> key<span class="token punctuation">,</span> receiver<span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    <span class="token function">set</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> key<span class="token punctuation">,</span> value<span class="token punctuation">,</span> receiver<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
      <span class="token keyword">const</span> result <span class="token operator">=</span> Reflect<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> key<span class="token punctuation">,</span> value<span class="token punctuation">,</span> receiver<span class="token punctuation">)</span>
      <span class="token comment">// 触发更新</span>
      <span class="token function">trigger</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> key<span class="token punctuation">)</span>
      <span class="token keyword">return</span> result
    <span class="token punctuation">&#125;</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">function</span> <span class="token function">track</span><span class="token punctuation">(</span><span class="token parameter">target<span class="token punctuation">,</span> key</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token comment">// 收集依赖的逻辑</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>activeEffect<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">let</span> depsMap <span class="token operator">=</span> targetMap<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>target<span class="token punctuation">)</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>depsMap<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
      targetMap<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> <span class="token punctuation">(</span>depsMap <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
    <span class="token keyword">let</span> dep <span class="token operator">=</span> depsMap<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>dep<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
      depsMap<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> <span class="token punctuation">(</span>dep <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
    dep<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>activeEffect<span class="token punctuation">)</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">function</span> <span class="token function">trigger</span><span class="token punctuation">(</span><span class="token parameter">target<span class="token punctuation">,</span> key</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token comment">// 触发更新的逻辑</span>
  <span class="token keyword">const</span> depsMap <span class="token operator">=</span> targetMap<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>target<span class="token punctuation">)</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>depsMap<span class="token punctuation">)</span> <span class="token keyword">return</span>
  <span class="token keyword">const</span> dep <span class="token operator">=</span> depsMap<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>dep<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    dep<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">effect</span> <span class="token operator">=></span> <span class="token function">effect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>

<h3 id="4-Vue中的数组响应式处理"><a href="#4-Vue中的数组响应式处理" class="headerlink" title="4. Vue中的数组响应式处理"></a>4. Vue中的数组响应式处理</h3><p><strong>标准回答：</strong></p>
<p><strong>Vue 2中的数组处理：</strong></p>
<ul>
<li>Object.defineProperty无法监听数组索引变化</li>
<li>重写数组的7个变更方法（push、pop、shift、unshift、splice、sort、reverse）</li>
<li>使用Vue.set()添加响应式属性</li>
</ul>
<figure><div class="code-wrapper"><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// Vue 2数组方法重写示例</span>
<span class="token keyword">const</span> arrayProto <span class="token operator">=</span> <span class="token class-name">Array</span><span class="token punctuation">.</span>prototype
<span class="token keyword">const</span> arrayMethods <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>arrayProto<span class="token punctuation">)</span>

<span class="token punctuation">;</span><span class="token punctuation">[</span><span class="token string">'push'</span><span class="token punctuation">,</span> <span class="token string">'pop'</span><span class="token punctuation">,</span> <span class="token string">'shift'</span><span class="token punctuation">,</span> <span class="token string">'unshift'</span><span class="token punctuation">,</span> <span class="token string">'splice'</span><span class="token punctuation">,</span> <span class="token string">'sort'</span><span class="token punctuation">,</span> <span class="token string">'reverse'</span><span class="token punctuation">]</span>
<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">method</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">const</span> original <span class="token operator">=</span> arrayProto<span class="token punctuation">[</span>method<span class="token punctuation">]</span>
  
  Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span>arrayMethods<span class="token punctuation">,</span> method<span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>
    <span class="token function-variable function">value</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token function">mutator</span><span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>args</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
      <span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token function">original</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span>
      <span class="token keyword">const</span> ob <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>__ob__
      <span class="token keyword">let</span> inserted
      
      <span class="token keyword">switch</span> <span class="token punctuation">(</span>method<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">case</span> <span class="token string">'push'</span><span class="token operator">:</span>
        <span class="token keyword">case</span> <span class="token string">'unshift'</span><span class="token operator">:</span>
          inserted <span class="token operator">=</span> args
          <span class="token keyword">break</span>
        <span class="token keyword">case</span> <span class="token string">'splice'</span><span class="token operator">:</span>
          inserted <span class="token operator">=</span> args<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
          <span class="token keyword">break</span>
      <span class="token punctuation">&#125;</span>
      
      <span class="token keyword">if</span> <span class="token punctuation">(</span>inserted<span class="token punctuation">)</span> ob<span class="token punctuation">.</span><span class="token function">observeArray</span><span class="token punctuation">(</span>inserted<span class="token punctuation">)</span>
      <span class="token comment">// 触发更新</span>
      ob<span class="token punctuation">.</span>dep<span class="token punctuation">.</span><span class="token function">notify</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token keyword">return</span> result
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">enumerable</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token literal-property property">writable</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token literal-property property">configurable</span><span class="token operator">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>

<p><strong>Vue 3中的数组处理：</strong></p>
<ul>
<li>Proxy可以直接监听数组索引变化</li>
<li>支持所有数组操作的响应式</li>
</ul>
<figure><div class="code-wrapper"><pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;template&gt;
  &lt;div&gt;
    &lt;ul&gt;
      &lt;li v-for&#x3D;&quot;(item, index) in items&quot; :key&#x3D;&quot;index&quot;&gt;
        &#123;&#123; item &#125;&#125;
        &lt;button @click&#x3D;&quot;updateItem(index)&quot;&gt;更新&lt;&#x2F;button&gt;
      &lt;&#x2F;li&gt;
    &lt;&#x2F;ul&gt;
    &lt;button @click&#x3D;&quot;addItem&quot;&gt;添加项目&lt;&#x2F;button&gt;
  &lt;&#x2F;div&gt;
&lt;&#x2F;template&gt;

&lt;script&gt;
import &#123; ref &#125; from &#39;vue&#39;

export default &#123;
  setup() &#123;
    const items &#x3D; ref([&#39;项目1&#39;, &#39;项目2&#39;, &#39;项目3&#39;])
    
    const updateItem &#x3D; (index) &#x3D;&gt; &#123;
      &#x2F;&#x2F; Vue 3中直接修改数组索引是响应式的
      items.value[index] &#x3D; &#96;更新的项目$&#123;index + 1&#125;&#96;
    &#125;
    
    const addItem &#x3D; () &#x3D;&gt; &#123;
      items.value.push(&#96;新项目$&#123;items.value.length + 1&#125;&#96;)
    &#125;
    
    return &#123;
      items,
      updateItem,
      addItem
    &#125;
  &#125;
&#125;
&lt;&#x2F;script&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>

<h1 id="二、Vue组件通信面试问题"><a href="#二、Vue组件通信面试问题" class="headerlink" title="二、Vue组件通信面试问题"></a>二、Vue组件通信面试问题</h1><h2 id="（一）组件间通信方式"><a href="#（一）组件间通信方式" class="headerlink" title="（一）组件间通信方式"></a>（一）组件间通信方式</h2><h3 id="5-Vue组件间有哪些通信方式？"><a href="#5-Vue组件间有哪些通信方式？" class="headerlink" title="5. Vue组件间有哪些通信方式？"></a>5. Vue组件间有哪些通信方式？</h3><p><strong>标准回答：</strong></p>
<p><strong>1. Props &#x2F; Events（父子组件通信）：</strong></p>
<figure><div class="code-wrapper"><pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;!-- 父组件 --&gt;
&lt;template&gt;
  &lt;div&gt;
    &lt;child-component 
      :user-info&#x3D;&quot;userInfo&quot; 
      @update-user&#x3D;&quot;handleUpdateUser&quot;
    &#x2F;&gt;
  &lt;&#x2F;div&gt;
&lt;&#x2F;template&gt;

&lt;script&gt;
import ChildComponent from &#39;.&#x2F;ChildComponent.vue&#39;

export default &#123;
  components: &#123; ChildComponent &#125;,
  data() &#123;
    return &#123;
      userInfo: &#123; name: &#39;张三&#39;, age: 25 &#125;
    &#125;
  &#125;,
  methods: &#123;
    handleUpdateUser(newUserInfo) &#123;
      this.userInfo &#x3D; &#123; ...this.userInfo, ...newUserInfo &#125;
    &#125;
  &#125;
&#125;
&lt;&#x2F;script&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>

<figure><div class="code-wrapper"><pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;!-- 子组件 --&gt;
&lt;template&gt;
  &lt;div&gt;
    &lt;p&gt;姓名：&#123;&#123; userInfo.name &#125;&#125;&lt;&#x2F;p&gt;
    &lt;p&gt;年龄：&#123;&#123; userInfo.age &#125;&#125;&lt;&#x2F;p&gt;
    &lt;button @click&#x3D;&quot;updateAge&quot;&gt;增加年龄&lt;&#x2F;button&gt;
  &lt;&#x2F;div&gt;
&lt;&#x2F;template&gt;

&lt;script&gt;
export default &#123;
  props: &#123;
    userInfo: &#123;
      type: Object,
      required: true,
      validator(value) &#123;
        return value &amp;&amp; typeof value.name &#x3D;&#x3D;&#x3D; &#39;string&#39;
      &#125;
    &#125;
  &#125;,
  emits: [&#39;update-user&#39;],
  methods: &#123;
    updateAge() &#123;
      this.$emit(&#39;update-user&#39;, &#123; age: this.userInfo.age + 1 &#125;)
    &#125;
  &#125;
&#125;
&lt;&#x2F;script&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>

<p><strong>2. $refs（父组件直接访问子组件）：</strong></p>
<figure><div class="code-wrapper"><pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;template&gt;
  &lt;div&gt;
    &lt;child-component ref&#x3D;&quot;childRef&quot; &#x2F;&gt;
    &lt;button @click&#x3D;&quot;callChildMethod&quot;&gt;调用子组件方法&lt;&#x2F;button&gt;
  &lt;&#x2F;div&gt;
&lt;&#x2F;template&gt;

&lt;script&gt;
export default &#123;
  methods: &#123;
    callChildMethod() &#123;
      &#x2F;&#x2F; 直接调用子组件的方法
      this.$refs.childRef.childMethod()
      &#x2F;&#x2F; 访问子组件的数据
      console.log(this.$refs.childRef.childData)
    &#125;
  &#125;
&#125;
&lt;&#x2F;script&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>

<p><strong>3. Provide &#x2F; Inject（跨层级组件通信）：</strong></p>
<figure><div class="code-wrapper"><pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;!-- 祖先组件 --&gt;
&lt;template&gt;
  &lt;div&gt;
    &lt;parent-component &#x2F;&gt;
  &lt;&#x2F;div&gt;
&lt;&#x2F;template&gt;

&lt;script&gt;
export default &#123;
  provide() &#123;
    return &#123;
      theme: &#39;dark&#39;,
      userPermissions: this.userPermissions
    &#125;
  &#125;,
  data() &#123;
    return &#123;
      userPermissions: [&#39;read&#39;, &#39;write&#39;]
    &#125;
  &#125;
&#125;
&lt;&#x2F;script&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>

<figure><div class="code-wrapper"><pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;!-- 后代组件 --&gt;
&lt;template&gt;
  &lt;div :class&#x3D;&quot;theme&quot;&gt;
    &lt;p v-if&#x3D;&quot;canWrite&quot;&gt;可以编辑内容&lt;&#x2F;p&gt;
  &lt;&#x2F;div&gt;
&lt;&#x2F;template&gt;

&lt;script&gt;
export default &#123;
  inject: [&#39;theme&#39;, &#39;userPermissions&#39;],
  computed: &#123;
    canWrite() &#123;
      return this.userPermissions.includes(&#39;write&#39;)
    &#125;
  &#125;
&#125;
&lt;&#x2F;script&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>

<p><strong>4. EventBus（兄弟组件通信）：</strong></p>
<figure><div class="code-wrapper"><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// eventBus.js</span>
<span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> EventBus <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">// 或者在Vue 3中</span>
<span class="token keyword">import</span> <span class="token punctuation">&#123;</span> createApp <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">createApp</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> EventBus <span class="token operator">=</span> app<span class="token punctuation">.</span>config<span class="token punctuation">.</span>globalProperties<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>

<figure><div class="code-wrapper"><pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;!-- 组件A --&gt;
&lt;template&gt;
  &lt;button @click&#x3D;&quot;sendMessage&quot;&gt;发送消息&lt;&#x2F;button&gt;
&lt;&#x2F;template&gt;

&lt;script&gt;
import &#123; EventBus &#125; from &#39;.&#x2F;eventBus.js&#39;

export default &#123;
  methods: &#123;
    sendMessage() &#123;
      EventBus.$emit(&#39;message-sent&#39;, &#123; text: &#39;Hello from A&#39; &#125;)
    &#125;
  &#125;
&#125;
&lt;&#x2F;script&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>

<figure><div class="code-wrapper"><pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;!-- 组件B --&gt;
&lt;template&gt;
  &lt;div&gt;
    &lt;p&gt;接收到的消息：&#123;&#123; receivedMessage &#125;&#125;&lt;&#x2F;p&gt;
  &lt;&#x2F;div&gt;
&lt;&#x2F;template&gt;

&lt;script&gt;
import &#123; EventBus &#125; from &#39;.&#x2F;eventBus.js&#39;

export default &#123;
  data() &#123;
    return &#123;
      receivedMessage: &#39;&#39;
    &#125;
  &#125;,
  mounted() &#123;
    EventBus.$on(&#39;message-sent&#39;, (data) &#x3D;&gt; &#123;
      this.receivedMessage &#x3D; data.text
    &#125;)
  &#125;,
  beforeDestroy() &#123;
    EventBus.$off(&#39;message-sent&#39;)
  &#125;
&#125;
&lt;&#x2F;script&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>

<p><strong>5. Vuex（全局状态管理）：</strong></p>
<figure><div class="code-wrapper"><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// store.js</span>
<span class="token keyword">import</span> <span class="token punctuation">&#123;</span> createStore <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'vuex'</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">createStore</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
  <span class="token literal-property property">state</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>
    <span class="token literal-property property">user</span><span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
    <span class="token literal-property property">theme</span><span class="token operator">:</span> <span class="token string">'light'</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">mutations</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>
    <span class="token constant">SET_USER</span><span class="token punctuation">(</span><span class="token parameter">state<span class="token punctuation">,</span> user</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
      state<span class="token punctuation">.</span>user <span class="token operator">=</span> user
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    <span class="token constant">TOGGLE_THEME</span><span class="token punctuation">(</span><span class="token parameter">state</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
      state<span class="token punctuation">.</span>theme <span class="token operator">=</span> state<span class="token punctuation">.</span>theme <span class="token operator">===</span> <span class="token string">'light'</span> <span class="token operator">?</span> <span class="token string">'dark'</span> <span class="token operator">:</span> <span class="token string">'light'</span>
    <span class="token punctuation">&#125;</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">actions</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">async</span> <span class="token function">fetchUser</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">&#123;</span> commit <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> userId</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
      <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">const</span> user <span class="token operator">=</span> <span class="token keyword">await</span> api<span class="token punctuation">.</span><span class="token function">getUser</span><span class="token punctuation">(</span>userId<span class="token punctuation">)</span>
        <span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">'SET_USER'</span><span class="token punctuation">,</span> user<span class="token punctuation">)</span>
      <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">'获取用户失败：'</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span>
      <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">getters</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>
    <span class="token function-variable function">isLoggedIn</span><span class="token operator">:</span> <span class="token parameter">state</span> <span class="token operator">=></span> <span class="token operator">!</span><span class="token operator">!</span>state<span class="token punctuation">.</span>user<span class="token punctuation">,</span>
    <span class="token function-variable function">userDisplayName</span><span class="token operator">:</span> <span class="token parameter">state</span> <span class="token operator">=></span> state<span class="token punctuation">.</span>user<span class="token operator">?.</span>name <span class="token operator">||</span> <span class="token string">'游客'</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>

<figure><div class="code-wrapper"><pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;!-- 使用Vuex的组件 --&gt;
&lt;template&gt;
  &lt;div&gt;
    &lt;p&gt;当前用户：&#123;&#123; userDisplayName &#125;&#125;&lt;&#x2F;p&gt;
    &lt;button @click&#x3D;&quot;toggleTheme&quot;&gt;切换主题&lt;&#x2F;button&gt;
  &lt;&#x2F;div&gt;
&lt;&#x2F;template&gt;

&lt;script&gt;
import &#123; mapState, mapGetters, mapMutations &#125; from &#39;vuex&#39;

export default &#123;
  computed: &#123;
    ...mapState([&#39;theme&#39;]),
    ...mapGetters([&#39;userDisplayName&#39;])
  &#125;,
  methods: &#123;
    ...mapMutations([&#39;TOGGLE_THEME&#39;]),
    toggleTheme() &#123;
      this.TOGGLE_THEME()
    &#125;
  &#125;
&#125;
&lt;&#x2F;script&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>

<h3 id="6-什么时候使用哪种通信方式？"><a href="#6-什么时候使用哪种通信方式？" class="headerlink" title="6. 什么时候使用哪种通信方式？"></a>6. 什么时候使用哪种通信方式？</h3><p><strong>标准回答：</strong></p>
<p><strong>选择原则：</strong></p>
<table>
<thead>
<tr>
<th>通信场景</th>
<th>推荐方式</th>
<th>使用场景</th>
</tr>
</thead>
<tbody><tr>
<td>父子组件</td>
<td>Props&#x2F;Events</td>
<td>数据传递、事件通知</td>
</tr>
<tr>
<td>父访问子</td>
<td>$refs</td>
<td>调用子组件方法、获取子组件状态</td>
</tr>
<tr>
<td>跨层级组件</td>
<td>Provide&#x2F;Inject</td>
<td>主题、权限等配置传递</td>
</tr>
<tr>
<td>兄弟组件</td>
<td>EventBus</td>
<td>简单的事件通信</td>
</tr>
<tr>
<td>复杂状态管理</td>
<td>Vuex&#x2F;Pinia</td>
<td>全局状态、复杂业务逻辑</td>
</tr>
</tbody></table>
<p><strong>最佳实践：</strong></p>
<ul>
<li>优先使用Props&#x2F;Events，保持组件的独立性</li>
<li>避免过度使用$refs，会增加组件耦合</li>
<li>EventBus适合简单场景，复杂场景使用状态管理</li>
<li>Provide&#x2F;Inject适合传递配置，不适合频繁变化的数据</li>
</ul>
<h1 id="三、Vue生命周期面试问题"><a href="#三、Vue生命周期面试问题" class="headerlink" title="三、Vue生命周期面试问题"></a>三、Vue生命周期面试问题</h1><h2 id="（一）生命周期钩子"><a href="#（一）生命周期钩子" class="headerlink" title="（一）生命周期钩子"></a>（一）生命周期钩子</h2><h3 id="7-请详细说明Vue的生命周期"><a href="#7-请详细说明Vue的生命周期" class="headerlink" title="7. 请详细说明Vue的生命周期"></a>7. 请详细说明Vue的生命周期</h3><p><strong>标准回答：</strong></p>
<p><strong>Vue 2生命周期：</strong></p>
<figure><div class="code-wrapper"><pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;template&gt;
  &lt;div&gt;
    &lt;p&gt;&#123;&#123; message &#125;&#125;&lt;&#x2F;p&gt;
    &lt;button @click&#x3D;&quot;updateMessage&quot;&gt;更新消息&lt;&#x2F;button&gt;
  &lt;&#x2F;div&gt;
&lt;&#x2F;template&gt;

&lt;script&gt;
export default &#123;
  data() &#123;
    return &#123;
      message: &#39;Hello Vue!&#39;
    &#125;
  &#125;,
  
  &#x2F;&#x2F; 1. 创建阶段
  beforeCreate() &#123;
    console.log(&#39;beforeCreate: 实例初始化之后，数据观测和事件配置之前&#39;)
    console.log(&#39;data:&#39;, this.message) &#x2F;&#x2F; undefined
  &#125;,
  
  created() &#123;
    console.log(&#39;created: 实例创建完成，数据观测、属性和方法的运算已完成&#39;)
    console.log(&#39;data:&#39;, this.message) &#x2F;&#x2F; &#39;Hello Vue!&#39;
    &#x2F;&#x2F; 适合进行数据初始化、API调用
    this.fetchData()
  &#125;,
  
  &#x2F;&#x2F; 2. 挂载阶段
  beforeMount() &#123;
    console.log(&#39;beforeMount: 挂载开始之前，render函数首次被调用&#39;)
    console.log(&#39;$el:&#39;, this.$el) &#x2F;&#x2F; undefined
  &#125;,
  
  mounted() &#123;
    console.log(&#39;mounted: 实例挂载完成，DOM已生成&#39;)
    console.log(&#39;$el:&#39;, this.$el) &#x2F;&#x2F; DOM元素
    &#x2F;&#x2F; 适合进行DOM操作、启动定时器、绑定事件
    this.initChart()
  &#125;,
  
  &#x2F;&#x2F; 3. 更新阶段
  beforeUpdate() &#123;
    console.log(&#39;beforeUpdate: 数据更新时调用，发生在虚拟DOM重新渲染之前&#39;)
    console.log(&#39;更新前的DOM:&#39;, this.$el.textContent)
  &#125;,
  
  updated() &#123;
    console.log(&#39;updated: 数据更改导致的虚拟DOM重新渲染完成&#39;)
    console.log(&#39;更新后的DOM:&#39;, this.$el.textContent)
    &#x2F;&#x2F; 注意：避免在此钩子中修改数据，可能导致无限循环
  &#125;,
  
  &#x2F;&#x2F; 4. 销毁阶段
  beforeDestroy() &#123;
    console.log(&#39;beforeDestroy: 实例销毁之前调用&#39;)
    &#x2F;&#x2F; 适合进行清理工作：清除定时器、解绑事件、取消网络请求
    this.cleanup()
  &#125;,
  
  destroyed() &#123;
    console.log(&#39;destroyed: 实例销毁后调用&#39;)
    &#x2F;&#x2F; 所有指令解绑、事件监听器移除、子实例销毁
  &#125;,
  
  methods: &#123;
    updateMessage() &#123;
      this.message &#x3D; &#39;Updated message!&#39;
    &#125;,
    
    fetchData() &#123;
      &#x2F;&#x2F; 模拟API调用
      console.log(&#39;获取数据...&#39;)
    &#125;,
    
    initChart() &#123;
      &#x2F;&#x2F; 模拟图表初始化
      console.log(&#39;初始化图表...&#39;)
    &#125;,
    
    cleanup() &#123;
      &#x2F;&#x2F; 清理工作
      console.log(&#39;执行清理工作...&#39;)
    &#125;
  &#125;
&#125;
&lt;&#x2F;script&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>

<p><strong>Vue 3生命周期（Composition API）：</strong></p>
<figure><div class="code-wrapper"><pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;template&gt;
  &lt;div&gt;
    &lt;p&gt;&#123;&#123; message &#125;&#125;&lt;&#x2F;p&gt;
    &lt;button @click&#x3D;&quot;updateMessage&quot;&gt;更新消息&lt;&#x2F;button&gt;
  &lt;&#x2F;div&gt;
&lt;&#x2F;template&gt;

&lt;script&gt;
import &#123; 
  ref, 
  onBeforeMount, 
  onMounted, 
  onBeforeUpdate, 
  onUpdated, 
  onBeforeUnmount, 
  onUnmounted 
&#125; from &#39;vue&#39;

export default &#123;
  setup() &#123;
    const message &#x3D; ref(&#39;Hello Vue 3!&#39;)
    
    &#x2F;&#x2F; setup() 相当于 beforeCreate 和 created
    console.log(&#39;setup: 组件实例创建&#39;)
    
    &#x2F;&#x2F; 挂载阶段
    onBeforeMount(() &#x3D;&gt; &#123;
      console.log(&#39;onBeforeMount: 挂载开始之前&#39;)
    &#125;)
    
    onMounted(() &#x3D;&gt; &#123;
      console.log(&#39;onMounted: 组件挂载完成&#39;)
      &#x2F;&#x2F; DOM操作、第三方库初始化
      initChart()
    &#125;)
    
    &#x2F;&#x2F; 更新阶段
    onBeforeUpdate(() &#x3D;&gt; &#123;
      console.log(&#39;onBeforeUpdate: 数据更新前&#39;)
    &#125;)
    
    onUpdated(() &#x3D;&gt; &#123;
      console.log(&#39;onUpdated: 数据更新后&#39;)
    &#125;)
    
    &#x2F;&#x2F; 卸载阶段
    onBeforeUnmount(() &#x3D;&gt; &#123;
      console.log(&#39;onBeforeUnmount: 组件卸载前&#39;)
      cleanup()
    &#125;)
    
    onUnmounted(() &#x3D;&gt; &#123;
      console.log(&#39;onUnmounted: 组件卸载后&#39;)
    &#125;)
    
    const updateMessage &#x3D; () &#x3D;&gt; &#123;
      message.value &#x3D; &#39;Updated message!&#39;
    &#125;
    
    const initChart &#x3D; () &#x3D;&gt; &#123;
      console.log(&#39;初始化图表...&#39;)
    &#125;
    
    const cleanup &#x3D; () &#x3D;&gt; &#123;
      console.log(&#39;执行清理工作...&#39;)
    &#125;
    
    return &#123;
      message,
      updateMessage
    &#125;
  &#125;
&#125;
&lt;&#x2F;script&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>

<h3 id="8-父子组件的生命周期执行顺序"><a href="#8-父子组件的生命周期执行顺序" class="headerlink" title="8. 父子组件的生命周期执行顺序"></a>8. 父子组件的生命周期执行顺序</h3><p><strong>标准回答：</strong></p>
<p><strong>挂载阶段顺序：</strong></p>
<ol>
<li>父组件 beforeCreate</li>
<li>父组件 created</li>
<li>父组件 beforeMount</li>
<li>子组件 beforeCreate</li>
<li>子组件 created</li>
<li>子组件 beforeMount</li>
<li>子组件 mounted</li>
<li>父组件 mounted</li>
</ol>
<p><strong>更新阶段顺序：</strong></p>
<ol>
<li>父组件 beforeUpdate</li>
<li>子组件 beforeUpdate</li>
<li>子组件 updated</li>
<li>父组件 updated</li>
</ol>
<p><strong>销毁阶段顺序：</strong></p>
<ol>
<li>父组件 beforeDestroy</li>
<li>子组件 beforeDestroy</li>
<li>子组件 destroyed</li>
<li>父组件 destroyed</li>
</ol>
<figure><div class="code-wrapper"><pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;!-- 父组件 --&gt;
&lt;template&gt;
  &lt;div&gt;
    &lt;h2&gt;父组件&lt;&#x2F;h2&gt;
    &lt;child-component v-if&#x3D;&quot;showChild&quot; &#x2F;&gt;
    &lt;button @click&#x3D;&quot;toggleChild&quot;&gt;切换子组件&lt;&#x2F;button&gt;
  &lt;&#x2F;div&gt;
&lt;&#x2F;template&gt;

&lt;script&gt;
import ChildComponent from &#39;.&#x2F;ChildComponent.vue&#39;

export default &#123;
  name: &#39;ParentComponent&#39;,
  components: &#123; ChildComponent &#125;,
  data() &#123;
    return &#123;
      showChild: true
    &#125;
  &#125;,
  beforeCreate() &#123; console.log(&#39;父组件 beforeCreate&#39;) &#125;,
  created() &#123; console.log(&#39;父组件 created&#39;) &#125;,
  beforeMount() &#123; console.log(&#39;父组件 beforeMount&#39;) &#125;,
  mounted() &#123; console.log(&#39;父组件 mounted&#39;) &#125;,
  beforeUpdate() &#123; console.log(&#39;父组件 beforeUpdate&#39;) &#125;,
  updated() &#123; console.log(&#39;父组件 updated&#39;) &#125;,
  beforeDestroy() &#123; console.log(&#39;父组件 beforeDestroy&#39;) &#125;,
  destroyed() &#123; console.log(&#39;父组件 destroyed&#39;) &#125;,
  methods: &#123;
    toggleChild() &#123;
      this.showChild &#x3D; !this.showChild
    &#125;
  &#125;
&#125;
&lt;&#x2F;script&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>

<h1 id="四、Vue路由面试问题"><a href="#四、Vue路由面试问题" class="headerlink" title="四、Vue路由面试问题"></a>四、Vue路由面试问题</h1><h2 id="（一）Vue-Router基础"><a href="#（一）Vue-Router基础" class="headerlink" title="（一）Vue Router基础"></a>（一）Vue Router基础</h2><h3 id="9-Vue-Router的路由模式有哪些？"><a href="#9-Vue-Router的路由模式有哪些？" class="headerlink" title="9. Vue Router的路由模式有哪些？"></a>9. Vue Router的路由模式有哪些？</h3><p><strong>标准回答：</strong></p>
<p><strong>1. Hash模式（默认）：</strong></p>
<ul>
<li>URL中带有#号</li>
<li>利用hashchange事件监听路由变化</li>
<li>兼容性好，支持所有浏览器</li>
<li>SEO不友好</li>
</ul>
<figure><div class="code-wrapper"><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// router/index.js</span>
<span class="token keyword">import</span> <span class="token punctuation">&#123;</span> createRouter<span class="token punctuation">,</span> createWebHashHistory <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'vue-router'</span>

<span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token function">createRouter</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
  <span class="token literal-property property">history</span><span class="token operator">:</span> <span class="token function">createWebHashHistory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token literal-property property">routes</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">&#123;</span>
      <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'/'</span><span class="token punctuation">,</span>
      <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'Home'</span><span class="token punctuation">,</span>
      <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'@/views/Home.vue'</span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    <span class="token punctuation">&#123;</span>
      <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'/about'</span><span class="token punctuation">,</span>
      <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'About'</span><span class="token punctuation">,</span>
      <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'@/views/About.vue'</span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>

<span class="token comment">// URL示例：http://localhost:8080/#/about</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>

<p><strong>2. History模式：</strong></p>
<ul>
<li>URL正常，无#号</li>
<li>利用HTML5 History API</li>
<li>需要服务器配置支持</li>
<li>SEO友好</li>
</ul>
<figure><div class="code-wrapper"><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// router/index.js</span>
<span class="token keyword">import</span> <span class="token punctuation">&#123;</span> createRouter<span class="token punctuation">,</span> createWebHistory <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'vue-router'</span>

<span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token function">createRouter</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
  <span class="token literal-property property">history</span><span class="token operator">:</span> <span class="token function">createWebHistory</span><span class="token punctuation">(</span>process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">BASE_URL</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token literal-property property">routes</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">&#123;</span>
      <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'/'</span><span class="token punctuation">,</span>
      <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'Home'</span><span class="token punctuation">,</span>
      <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'@/views/Home.vue'</span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    <span class="token punctuation">&#123;</span>
      <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'/about'</span><span class="token punctuation">,</span>
      <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'About'</span><span class="token punctuation">,</span>
      <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'@/views/About.vue'</span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    <span class="token punctuation">&#123;</span>
      <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'/:pathMatch(.*)*'</span><span class="token punctuation">,</span>
      <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'NotFound'</span><span class="token punctuation">,</span>
      <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'@/views/404.vue'</span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>

<span class="token comment">// URL示例：http://localhost:8080/about</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>

<p><strong>服务器配置（Nginx）：</strong></p>
<figure><div class="code-wrapper"><pre class="line-numbers language-nginx" data-language="nginx"><code class="language-nginx"><span class="token directive"><span class="token keyword">location</span> /</span> <span class="token punctuation">&#123;</span>
  <span class="token directive"><span class="token keyword">try_files</span> <span class="token variable">$uri</span> <span class="token variable">$uri</span>/ /index.html</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></div></figure>

<p><strong>3. Memory模式：</strong></p>
<ul>
<li>不依赖浏览器环境</li>
<li>主要用于SSR或测试环境</li>
</ul>
<figure><div class="code-wrapper"><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">import</span> <span class="token punctuation">&#123;</span> createRouter<span class="token punctuation">,</span> createMemoryHistory <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'vue-router'</span>

<span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token function">createRouter</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
  <span class="token literal-property property">history</span><span class="token operator">:</span> <span class="token function">createMemoryHistory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token literal-property property">routes</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token operator">...</span><span class="token punctuation">]</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>

<h3 id="10-路由守卫有哪些类型？"><a href="#10-路由守卫有哪些类型？" class="headerlink" title="10. 路由守卫有哪些类型？"></a>10. 路由守卫有哪些类型？</h3><p><strong>标准回答：</strong></p>
<p><strong>1. 全局守卫：</strong></p>
<figure><div class="code-wrapper"><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// router/index.js</span>
<span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token function">createRouter</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span><span class="token operator">...</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span>

<span class="token comment">// 全局前置守卫</span>
router<span class="token punctuation">.</span><span class="token function">beforeEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">to<span class="token punctuation">,</span> from<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'全局前置守卫'</span><span class="token punctuation">)</span>
  
  <span class="token comment">// 检查用户是否已登录</span>
  <span class="token keyword">const</span> isAuthenticated <span class="token operator">=</span> localStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">'token'</span><span class="token punctuation">)</span>
  
  <span class="token keyword">if</span> <span class="token punctuation">(</span>to<span class="token punctuation">.</span>meta<span class="token punctuation">.</span>requiresAuth <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>isAuthenticated<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token comment">// 需要登录但未登录，跳转到登录页</span>
    <span class="token function">next</span><span class="token punctuation">(</span><span class="token string">'/login'</span><span class="token punctuation">)</span>
  <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
    <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 继续导航</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>

<span class="token comment">// 全局解析守卫</span>
router<span class="token punctuation">.</span><span class="token function">beforeResolve</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">to<span class="token punctuation">,</span> from<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'全局解析守卫'</span><span class="token punctuation">)</span>
  <span class="token comment">// 在导航被确认之前，同时在所有组件内守卫和异步路由组件被解析之后调用</span>
  <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>

<span class="token comment">// 全局后置钩子</span>
router<span class="token punctuation">.</span><span class="token function">afterEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">to<span class="token punctuation">,</span> <span class="token keyword">from</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'全局后置钩子'</span><span class="token punctuation">)</span>
  <span class="token comment">// 设置页面标题</span>
  document<span class="token punctuation">.</span>title <span class="token operator">=</span> to<span class="token punctuation">.</span>meta<span class="token punctuation">.</span>title <span class="token operator">||</span> <span class="token string">'默认标题'</span>
  
  <span class="token comment">// 发送页面访问统计</span>
  analytics<span class="token punctuation">.</span><span class="token function">track</span><span class="token punctuation">(</span><span class="token string">'page_view'</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>
    <span class="token literal-property property">page</span><span class="token operator">:</span> to<span class="token punctuation">.</span>path<span class="token punctuation">,</span>
    <span class="token literal-property property">title</span><span class="token operator">:</span> to<span class="token punctuation">.</span>meta<span class="token punctuation">.</span>title
  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>

<p><strong>2. 路由独享守卫：</strong></p>
<figure><div class="code-wrapper"><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">const</span> routes <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">&#123;</span>
    <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'/admin'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">component</span><span class="token operator">:</span> AdminPanel<span class="token punctuation">,</span>
    <span class="token function-variable function">beforeEnter</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">to<span class="token punctuation">,</span> from<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'路由独享守卫'</span><span class="token punctuation">)</span>
      
      <span class="token comment">// 检查管理员权限</span>
      <span class="token keyword">const</span> userRole <span class="token operator">=</span> store<span class="token punctuation">.</span>getters<span class="token punctuation">.</span>userRole
      
      <span class="token keyword">if</span> <span class="token punctuation">(</span>userRole <span class="token operator">===</span> <span class="token string">'admin'</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
        <span class="token function">next</span><span class="token punctuation">(</span><span class="token string">'/unauthorized'</span><span class="token punctuation">)</span>
      <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">meta</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>
      <span class="token literal-property property">requiresAuth</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token literal-property property">requiresAdmin</span><span class="token operator">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">&#125;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>

<p><strong>3. 组件内守卫：</strong></p>
<figure><div class="code-wrapper"><pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;template&gt;
  &lt;div&gt;
    &lt;h2&gt;用户详情&lt;&#x2F;h2&gt;
    &lt;p&gt;用户ID：&#123;&#123; userId &#125;&#125;&lt;&#x2F;p&gt;
  &lt;&#x2F;div&gt;
&lt;&#x2F;template&gt;

&lt;script&gt;
export default &#123;
  data() &#123;
    return &#123;
      userId: null,
      userData: null
    &#125;
  &#125;,
  
  &#x2F;&#x2F; 进入组件前
  beforeRouteEnter(to, from, next) &#123;
    console.log(&#39;beforeRouteEnter&#39;)
    &#x2F;&#x2F; 此时组件实例还未创建，无法访问this
    
    &#x2F;&#x2F; 可以通过next回调访问组件实例
    next(vm &#x3D;&gt; &#123;
      vm.userId &#x3D; to.params.id
      vm.fetchUserData()
    &#125;)
  &#125;,
  
  &#x2F;&#x2F; 路由更新时（同一组件，不同参数）
  beforeRouteUpdate(to, from, next) &#123;
    console.log(&#39;beforeRouteUpdate&#39;)
    &#x2F;&#x2F; 可以访问this
    this.userId &#x3D; to.params.id
    this.fetchUserData()
    next()
  &#125;,
  
  &#x2F;&#x2F; 离开组件前
  beforeRouteLeave(to, from, next) &#123;
    console.log(&#39;beforeRouteLeave&#39;)
    
    &#x2F;&#x2F; 检查是否有未保存的更改
    if (this.hasUnsavedChanges) &#123;
      const answer &#x3D; window.confirm(&#39;有未保存的更改，确定要离开吗？&#39;)
      if (answer) &#123;
        next()
      &#125; else &#123;
        next(false) &#x2F;&#x2F; 取消导航
      &#125;
    &#125; else &#123;
      next()
    &#125;
  &#125;,
  
  methods: &#123;
    async fetchUserData() &#123;
      try &#123;
        this.userData &#x3D; await api.getUser(this.userId)
      &#125; catch (error) &#123;
        console.error(&#39;获取用户数据失败：&#39;, error)
      &#125;
    &#125;
  &#125;
&#125;
&lt;&#x2F;script&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>

<p><strong>守卫执行顺序：</strong></p>
<ol>
<li>导航被触发</li>
<li>在失活的组件里调用 beforeRouteLeave 守卫</li>
<li>调用全局的 beforeEach 守卫</li>
<li>在重用的组件里调用 beforeRouteUpdate 守卫</li>
<li>在路由配置里调用 beforeEnter</li>
<li>解析异步路由组件</li>
<li>在被激活的组件里调用 beforeRouteEnter</li>
<li>调用全局的 beforeResolve 守卫</li>
<li>导航被确认</li>
<li>调用全局的 afterEach 钩子</li>
<li>触发 DOM 更新</li>
<li>调用 beforeRouteEnter 守卫中传给 next 的回调函数</li>
</ol>
<h1 id="五、Vuex状态管理面试问题"><a href="#五、Vuex状态管理面试问题" class="headerlink" title="五、Vuex状态管理面试问题"></a>五、Vuex状态管理面试问题</h1><h2 id="（一）Vuex核心概念"><a href="#（一）Vuex核心概念" class="headerlink" title="（一）Vuex核心概念"></a>（一）Vuex核心概念</h2><h3 id="11-请解释Vuex的核心概念"><a href="#11-请解释Vuex的核心概念" class="headerlink" title="11. 请解释Vuex的核心概念"></a>11. 请解释Vuex的核心概念</h3><p><strong>标准回答：</strong></p>
<p><strong>Vuex的五个核心概念：</strong></p>
<p><strong>1. State（状态）：</strong></p>
<ul>
<li>存储应用的状态数据</li>
<li>单一状态树，一个对象包含全部应用状态</li>
</ul>
<p><strong>2. Getters（获取器）：</strong></p>
<ul>
<li>从state中派生出一些状态</li>
<li>类似于组件的计算属性</li>
</ul>
<p><strong>3. Mutations（变更）：</strong></p>
<ul>
<li>更改state的唯一方法</li>
<li>必须是同步函数</li>
</ul>
<p><strong>4. Actions（动作）：</strong></p>
<ul>
<li>提交mutations，而不是直接变更状态</li>
<li>可以包含异步操作</li>
</ul>
<p><strong>5. Modules（模块）：</strong></p>
<ul>
<li>将store分割成模块</li>
<li>每个模块拥有自己的state、mutations、actions、getters</li>
</ul>
<figure><div class="code-wrapper"><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// store/index.js</span>
<span class="token keyword">import</span> <span class="token punctuation">&#123;</span> createStore <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'vuex'</span>
<span class="token keyword">import</span> userModule <span class="token keyword">from</span> <span class="token string">'./modules/user'</span>
<span class="token keyword">import</span> productModule <span class="token keyword">from</span> <span class="token string">'./modules/product'</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">createStore</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
  <span class="token comment">// 根状态</span>
  <span class="token literal-property property">state</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>
    <span class="token literal-property property">appName</span><span class="token operator">:</span> <span class="token string">'Vue商城'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">version</span><span class="token operator">:</span> <span class="token string">'1.0.0'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">loading</span><span class="token operator">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  
  <span class="token comment">// 根获取器</span>
  <span class="token literal-property property">getters</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>
    <span class="token function-variable function">appInfo</span><span class="token operator">:</span> <span class="token parameter">state</span> <span class="token operator">=></span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>state<span class="token punctuation">.</span>appName<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string"> v</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>state<span class="token punctuation">.</span>version<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
    <span class="token function-variable function">isLoading</span><span class="token operator">:</span> <span class="token parameter">state</span> <span class="token operator">=></span> state<span class="token punctuation">.</span>loading
  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  
  <span class="token comment">// 根变更</span>
  <span class="token literal-property property">mutations</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>
    <span class="token constant">SET_LOADING</span><span class="token punctuation">(</span><span class="token parameter">state<span class="token punctuation">,</span> loading</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
      state<span class="token punctuation">.</span>loading <span class="token operator">=</span> loading
    <span class="token punctuation">&#125;</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  
  <span class="token comment">// 根动作</span>
  <span class="token literal-property property">actions</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">async</span> <span class="token function">initApp</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">&#123;</span> commit<span class="token punctuation">,</span> dispatch <span class="token punctuation">&#125;</span></span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
      <span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">'SET_LOADING'</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span>
      <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">await</span> <span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token string">'user/fetchCurrentUser'</span><span class="token punctuation">)</span>
        <span class="token keyword">await</span> <span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token string">'product/fetchProducts'</span><span class="token punctuation">)</span>
      <span class="token punctuation">&#125;</span> <span class="token keyword">finally</span> <span class="token punctuation">&#123;</span>
        <span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">'SET_LOADING'</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span>
      <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  
  <span class="token comment">// 模块</span>
  <span class="token literal-property property">modules</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>
    <span class="token literal-property property">user</span><span class="token operator">:</span> userModule<span class="token punctuation">,</span>
    <span class="token literal-property property">product</span><span class="token operator">:</span> productModule
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>

<p><strong>用户模块示例：</strong></p>
<figure><div class="code-wrapper"><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// store/modules/user.js</span>
<span class="token keyword">const</span> userModule <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
  <span class="token literal-property property">namespaced</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 启用命名空间</span>
  
  <span class="token literal-property property">state</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>
    <span class="token literal-property property">currentUser</span><span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
    <span class="token literal-property property">userList</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token literal-property property">permissions</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  
  <span class="token literal-property property">getters</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>
    <span class="token function-variable function">isLoggedIn</span><span class="token operator">:</span> <span class="token parameter">state</span> <span class="token operator">=></span> <span class="token operator">!</span><span class="token operator">!</span>state<span class="token punctuation">.</span>currentUser<span class="token punctuation">,</span>
    <span class="token function-variable function">userName</span><span class="token operator">:</span> <span class="token parameter">state</span> <span class="token operator">=></span> state<span class="token punctuation">.</span>currentUser<span class="token operator">?.</span>name <span class="token operator">||</span> <span class="token string">'游客'</span><span class="token punctuation">,</span>
    <span class="token function-variable function">hasPermission</span><span class="token operator">:</span> <span class="token parameter">state</span> <span class="token operator">=></span> <span class="token parameter">permission</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
      <span class="token keyword">return</span> state<span class="token punctuation">.</span>permissions<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span>permission<span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    <span class="token function-variable function">userCount</span><span class="token operator">:</span> <span class="token parameter">state</span> <span class="token operator">=></span> state<span class="token punctuation">.</span>userList<span class="token punctuation">.</span>length
  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  
  <span class="token literal-property property">mutations</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>
    <span class="token constant">SET_CURRENT_USER</span><span class="token punctuation">(</span><span class="token parameter">state<span class="token punctuation">,</span> user</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
      state<span class="token punctuation">.</span>currentUser <span class="token operator">=</span> user
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    <span class="token constant">SET_USER_LIST</span><span class="token punctuation">(</span><span class="token parameter">state<span class="token punctuation">,</span> users</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
      state<span class="token punctuation">.</span>userList <span class="token operator">=</span> users
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    <span class="token constant">SET_PERMISSIONS</span><span class="token punctuation">(</span><span class="token parameter">state<span class="token punctuation">,</span> permissions</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
      state<span class="token punctuation">.</span>permissions <span class="token operator">=</span> permissions
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    <span class="token constant">ADD_USER</span><span class="token punctuation">(</span><span class="token parameter">state<span class="token punctuation">,</span> user</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
      state<span class="token punctuation">.</span>userList<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    <span class="token constant">UPDATE_USER</span><span class="token punctuation">(</span><span class="token parameter">state<span class="token punctuation">,</span> updatedUser</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
      <span class="token keyword">const</span> index <span class="token operator">=</span> state<span class="token punctuation">.</span>userList<span class="token punctuation">.</span><span class="token function">findIndex</span><span class="token punctuation">(</span><span class="token parameter">user</span> <span class="token operator">=></span> user<span class="token punctuation">.</span>id <span class="token operator">===</span> updatedUser<span class="token punctuation">.</span>id<span class="token punctuation">)</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>index <span class="token operator">!==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        state<span class="token punctuation">.</span>userList<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span>index<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> updatedUser<span class="token punctuation">)</span>
      <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    <span class="token constant">REMOVE_USER</span><span class="token punctuation">(</span><span class="token parameter">state<span class="token punctuation">,</span> userId</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
      state<span class="token punctuation">.</span>userList <span class="token operator">=</span> state<span class="token punctuation">.</span>userList<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token parameter">user</span> <span class="token operator">=></span> user<span class="token punctuation">.</span>id <span class="token operator">!==</span> userId<span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  
  <span class="token literal-property property">actions</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">async</span> <span class="token function">login</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">&#123;</span> commit <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> credentials</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
      <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">const</span> response <span class="token operator">=</span> <span class="token keyword">await</span> api<span class="token punctuation">.</span><span class="token function">login</span><span class="token punctuation">(</span>credentials<span class="token punctuation">)</span>
        <span class="token keyword">const</span> <span class="token punctuation">&#123;</span> user<span class="token punctuation">,</span> token<span class="token punctuation">,</span> permissions <span class="token punctuation">&#125;</span> <span class="token operator">=</span> response<span class="token punctuation">.</span>data
        
        <span class="token comment">// 存储token</span>
        localStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span><span class="token string">'token'</span><span class="token punctuation">,</span> token<span class="token punctuation">)</span>
        
        <span class="token comment">// 更新状态</span>
        <span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">'SET_CURRENT_USER'</span><span class="token punctuation">,</span> user<span class="token punctuation">)</span>
        <span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">'SET_PERMISSIONS'</span><span class="token punctuation">,</span> permissions<span class="token punctuation">)</span>
        
        <span class="token keyword">return</span> <span class="token punctuation">&#123;</span> <span class="token literal-property property">success</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> user <span class="token punctuation">&#125;</span>
      <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">'登录失败：'</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span>
        <span class="token keyword">return</span> <span class="token punctuation">&#123;</span> <span class="token literal-property property">success</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token literal-property property">error</span><span class="token operator">:</span> error<span class="token punctuation">.</span>message <span class="token punctuation">&#125;</span>
      <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    
    <span class="token keyword">async</span> <span class="token function">logout</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">&#123;</span> commit <span class="token punctuation">&#125;</span></span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
      <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">await</span> api<span class="token punctuation">.</span><span class="token function">logout</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token punctuation">&#125;</span> <span class="token keyword">finally</span> <span class="token punctuation">&#123;</span>
        <span class="token comment">// 清除本地数据</span>
        localStorage<span class="token punctuation">.</span><span class="token function">removeItem</span><span class="token punctuation">(</span><span class="token string">'token'</span><span class="token punctuation">)</span>
        
        <span class="token comment">// 重置状态</span>
        <span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">'SET_CURRENT_USER'</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span>
        <span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">'SET_PERMISSIONS'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
      <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    
    <span class="token keyword">async</span> <span class="token function">fetchCurrentUser</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">&#123;</span> commit <span class="token punctuation">&#125;</span></span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
      <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">const</span> response <span class="token operator">=</span> <span class="token keyword">await</span> api<span class="token punctuation">.</span><span class="token function">getCurrentUser</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">'SET_CURRENT_USER'</span><span class="token punctuation">,</span> response<span class="token punctuation">.</span>data<span class="token punctuation">)</span>
      <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">'获取当前用户失败：'</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span>
      <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    
    <span class="token keyword">async</span> <span class="token function">fetchUsers</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">&#123;</span> commit <span class="token punctuation">&#125;</span></span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
      <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">const</span> response <span class="token operator">=</span> <span class="token keyword">await</span> api<span class="token punctuation">.</span><span class="token function">getUsers</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">'SET_USER_LIST'</span><span class="token punctuation">,</span> response<span class="token punctuation">.</span>data<span class="token punctuation">)</span>
      <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">'获取用户列表失败：'</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span>
      <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    
    <span class="token keyword">async</span> <span class="token function">createUser</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">&#123;</span> commit <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> userData</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
      <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">const</span> response <span class="token operator">=</span> <span class="token keyword">await</span> api<span class="token punctuation">.</span><span class="token function">createUser</span><span class="token punctuation">(</span>userData<span class="token punctuation">)</span>
        <span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">'ADD_USER'</span><span class="token punctuation">,</span> response<span class="token punctuation">.</span>data<span class="token punctuation">)</span>
        <span class="token keyword">return</span> <span class="token punctuation">&#123;</span> <span class="token literal-property property">success</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token literal-property property">user</span><span class="token operator">:</span> response<span class="token punctuation">.</span>data <span class="token punctuation">&#125;</span>
      <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">'创建用户失败：'</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span>
        <span class="token keyword">return</span> <span class="token punctuation">&#123;</span> <span class="token literal-property property">success</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token literal-property property">error</span><span class="token operator">:</span> error<span class="token punctuation">.</span>message <span class="token punctuation">&#125;</span>
      <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> userModule<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>

<p><strong>在组件中使用Vuex：</strong></p>
<figure><div class="code-wrapper"><pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;template&gt;
  &lt;div&gt;
    &lt;div v-if&#x3D;&quot;isLoading&quot;&gt;加载中...&lt;&#x2F;div&gt;
    &lt;div v-else&gt;
      &lt;h2&gt;&#123;&#123; appInfo &#125;&#125;&lt;&#x2F;h2&gt;
      &lt;p&gt;当前用户：&#123;&#123; userName &#125;&#125;&lt;&#x2F;p&gt;
      &lt;p&gt;用户总数：&#123;&#123; userCount &#125;&#125;&lt;&#x2F;p&gt;
      
      &lt;button v-if&#x3D;&quot;!isLoggedIn&quot; @click&#x3D;&quot;handleLogin&quot;&gt;登录&lt;&#x2F;button&gt;
      &lt;button v-else @click&#x3D;&quot;handleLogout&quot;&gt;退出&lt;&#x2F;button&gt;
      
      &lt;div v-if&#x3D;&quot;canManageUsers&quot;&gt;
        &lt;h3&gt;用户管理&lt;&#x2F;h3&gt;
        &lt;button @click&#x3D;&quot;fetchUsers&quot;&gt;刷新用户列表&lt;&#x2F;button&gt;
        &lt;!-- 用户列表 --&gt;
      &lt;&#x2F;div&gt;
    &lt;&#x2F;div&gt;
  &lt;&#x2F;div&gt;
&lt;&#x2F;template&gt;

&lt;script&gt;
import &#123; mapState, mapGetters, mapActions &#125; from &#39;vuex&#39;

export default &#123;
  computed: &#123;
    &#x2F;&#x2F; 映射根状态
    ...mapState([&#39;loading&#39;]),
    
    &#x2F;&#x2F; 映射根获取器
    ...mapGetters([&#39;appInfo&#39;, &#39;isLoading&#39;]),
    
    &#x2F;&#x2F; 映射模块状态（带命名空间）
    ...mapState(&#39;user&#39;, [&#39;currentUser&#39;]),
    
    &#x2F;&#x2F; 映射模块获取器（带命名空间）
    ...mapGetters(&#39;user&#39;, [&#39;isLoggedIn&#39;, &#39;userName&#39;, &#39;userCount&#39;]),
    
    &#x2F;&#x2F; 自定义计算属性
    canManageUsers() &#123;
      return this.$store.getters[&#39;user&#x2F;hasPermission&#39;](&#39;manage_users&#39;)
    &#125;
  &#125;,
  
  methods: &#123;
    &#x2F;&#x2F; 映射根动作
    ...mapActions([&#39;initApp&#39;]),
    
    &#x2F;&#x2F; 映射模块动作（带命名空间）
    ...mapActions(&#39;user&#39;, [&#39;login&#39;, &#39;logout&#39;, &#39;fetchUsers&#39;]),
    
    async handleLogin() &#123;
      const credentials &#x3D; &#123;
        username: &#39;admin&#39;,
        password: &#39;123456&#39;
      &#125;
      
      const result &#x3D; await this.login(credentials)
      if (result.success) &#123;
        this.$message.success(&#39;登录成功&#39;)
      &#125; else &#123;
        this.$message.error(result.error)
      &#125;
    &#125;,
    
    async handleLogout() &#123;
      await this.logout()
      this.$message.success(&#39;已退出登录&#39;)
    &#125;
  &#125;,
  
  async created() &#123;
    await this.initApp()
  &#125;
&#125;
&lt;&#x2F;script&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>

<h3 id="12-Vuex和Pinia的区别"><a href="#12-Vuex和Pinia的区别" class="headerlink" title="12. Vuex和Pinia的区别"></a>12. Vuex和Pinia的区别</h3><p><strong>标准回答：</strong></p>
<table>
<thead>
<tr>
<th>特性</th>
<th>Vuex</th>
<th>Pinia</th>
</tr>
</thead>
<tbody><tr>
<td>TypeScript支持</td>
<td>有限</td>
<td>原生支持</td>
</tr>
<tr>
<td>代码结构</td>
<td>单一store，模块化</td>
<td>多个独立store</td>
</tr>
<tr>
<td>语法复杂度</td>
<td>较复杂（mutations&#x2F;actions）</td>
<td>简洁（直接修改state）</td>
</tr>
<tr>
<td>DevTools支持</td>
<td>支持</td>
<td>更好的支持</td>
</tr>
<tr>
<td>包大小</td>
<td>较大</td>
<td>更小</td>
</tr>
<tr>
<td>Vue 3兼容性</td>
<td>需要Vuex 4</td>
<td>原生支持</td>
</tr>
</tbody></table>
<p><strong>Pinia示例：</strong></p>
<figure><div class="code-wrapper"><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// stores/user.js</span>
<span class="token keyword">import</span> <span class="token punctuation">&#123;</span> defineStore <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'pinia'</span>
<span class="token keyword">import</span> <span class="token punctuation">&#123;</span> ref<span class="token punctuation">,</span> computed <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>

<span class="token comment">// 组合式API风格</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> useUserStore <span class="token operator">=</span> <span class="token function">defineStore</span><span class="token punctuation">(</span><span class="token string">'user'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
  <span class="token comment">// state</span>
  <span class="token keyword">const</span> currentUser <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> userList <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
  
  <span class="token comment">// getters</span>
  <span class="token keyword">const</span> isLoggedIn <span class="token operator">=</span> <span class="token function">computed</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token operator">!</span><span class="token operator">!</span>currentUser<span class="token punctuation">.</span>value<span class="token punctuation">)</span>
  <span class="token keyword">const</span> userName <span class="token operator">=</span> <span class="token function">computed</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> currentUser<span class="token punctuation">.</span>value<span class="token operator">?.</span>name <span class="token operator">||</span> <span class="token string">'游客'</span><span class="token punctuation">)</span>
  
  <span class="token comment">// actions</span>
  <span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">login</span><span class="token punctuation">(</span><span class="token parameter">credentials</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>
      <span class="token keyword">const</span> response <span class="token operator">=</span> <span class="token keyword">await</span> api<span class="token punctuation">.</span><span class="token function">login</span><span class="token punctuation">(</span>credentials<span class="token punctuation">)</span>
      currentUser<span class="token punctuation">.</span>value <span class="token operator">=</span> response<span class="token punctuation">.</span>data<span class="token punctuation">.</span>user
      <span class="token keyword">return</span> <span class="token punctuation">&#123;</span> <span class="token literal-property property">success</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
      <span class="token keyword">return</span> <span class="token punctuation">&#123;</span> <span class="token literal-property property">success</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token literal-property property">error</span><span class="token operator">:</span> error<span class="token punctuation">.</span>message <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
  <span class="token punctuation">&#125;</span>
  
  <span class="token keyword">function</span> <span class="token function">logout</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    currentUser<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token keyword">null</span>
    localStorage<span class="token punctuation">.</span><span class="token function">removeItem</span><span class="token punctuation">(</span><span class="token string">'token'</span><span class="token punctuation">)</span>
  <span class="token punctuation">&#125;</span>
  
  <span class="token keyword">return</span> <span class="token punctuation">&#123;</span>
    currentUser<span class="token punctuation">,</span>
    userList<span class="token punctuation">,</span>
    isLoggedIn<span class="token punctuation">,</span>
    userName<span class="token punctuation">,</span>
    login<span class="token punctuation">,</span>
    logout
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>

<span class="token comment">// 选项式API风格</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> useUserStore2 <span class="token operator">=</span> <span class="token function">defineStore</span><span class="token punctuation">(</span><span class="token string">'user2'</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>
  <span class="token function-variable function">state</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
    <span class="token literal-property property">currentUser</span><span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
    <span class="token literal-property property">userList</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  
  <span class="token literal-property property">getters</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>
    <span class="token function-variable function">isLoggedIn</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">state</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token operator">!</span><span class="token operator">!</span>state<span class="token punctuation">.</span>currentUser<span class="token punctuation">,</span>
    <span class="token function-variable function">userName</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">state</span><span class="token punctuation">)</span> <span class="token operator">=></span> state<span class="token punctuation">.</span>currentUser<span class="token operator">?.</span>name <span class="token operator">||</span> <span class="token string">'游客'</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  
  <span class="token literal-property property">actions</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">async</span> <span class="token function">login</span><span class="token punctuation">(</span><span class="token parameter">credentials</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
      <span class="token comment">// 可以直接修改state，无需mutations</span>
      <span class="token keyword">const</span> response <span class="token operator">=</span> <span class="token keyword">await</span> api<span class="token punctuation">.</span><span class="token function">login</span><span class="token punctuation">(</span>credentials<span class="token punctuation">)</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>currentUser <span class="token operator">=</span> response<span class="token punctuation">.</span>data<span class="token punctuation">.</span>user
    <span class="token punctuation">&#125;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>

<p><strong>在组件中使用Pinia：</strong></p>
<figure><div class="code-wrapper"><pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;template&gt;
  &lt;div&gt;
    &lt;p&gt;当前用户：&#123;&#123; userName &#125;&#125;&lt;&#x2F;p&gt;
    &lt;button @click&#x3D;&quot;handleLogin&quot;&gt;登录&lt;&#x2F;button&gt;
  &lt;&#x2F;div&gt;
&lt;&#x2F;template&gt;

&lt;script&gt;
import &#123; useUserStore &#125; from &#39;@&#x2F;stores&#x2F;user&#39;

export default &#123;
  setup() &#123;
    const userStore &#x3D; useUserStore()
    
    const handleLogin &#x3D; async () &#x3D;&gt; &#123;
      const result &#x3D; await userStore.login(&#123;
        username: &#39;admin&#39;,
        password: &#39;123456&#39;
      &#125;)
      
      if (result.success) &#123;
        console.log(&#39;登录成功&#39;)
      &#125;
    &#125;
    
    return &#123;
      userName: userStore.userName,
      handleLogin
    &#125;
  &#125;
&#125;
&lt;&#x2F;script&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>

<h1 id="六、Vue性能优化面试问题"><a href="#六、Vue性能优化面试问题" class="headerlink" title="六、Vue性能优化面试问题"></a>六、Vue性能优化面试问题</h1><h2 id="（一）性能优化策略"><a href="#（一）性能优化策略" class="headerlink" title="（一）性能优化策略"></a>（一）性能优化策略</h2><h3 id="13-Vue应用有哪些性能优化方法？"><a href="#13-Vue应用有哪些性能优化方法？" class="headerlink" title="13. Vue应用有哪些性能优化方法？"></a>13. Vue应用有哪些性能优化方法？</h3><p><strong>标准回答：</strong></p>
<p><strong>1. 代码层面优化：</strong></p>
<p><strong>使用v-show vs v-if：</strong></p>
<figure><div class="code-wrapper"><pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;template&gt;
  &lt;div&gt;
    &lt;!-- 频繁切换使用v-show --&gt;
    &lt;div v-show&#x3D;&quot;isVisible&quot;&gt;频繁切换的内容&lt;&#x2F;div&gt;
    
    &lt;!-- 条件很少改变使用v-if --&gt;
    &lt;div v-if&#x3D;&quot;userRole &#x3D;&#x3D;&#x3D; &#39;admin&#39;&quot;&gt;管理员内容&lt;&#x2F;div&gt;
  &lt;&#x2F;div&gt;
&lt;&#x2F;template&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>

<p><strong>合理使用key：</strong></p>
<figure><div class="code-wrapper"><pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;template&gt;
  &lt;div&gt;
    &lt;!-- 正确使用key --&gt;
    &lt;div v-for&#x3D;&quot;item in items&quot; :key&#x3D;&quot;item.id&quot;&gt;
      &#123;&#123; item.name &#125;&#125;
    &lt;&#x2F;div&gt;
    
    &lt;!-- 避免使用index作为key（当列表会变化时） --&gt;
    &lt;div v-for&#x3D;&quot;(item, index) in items&quot; :key&#x3D;&quot;index&quot;&gt;
      &#123;&#123; item.name &#125;&#125;
    &lt;&#x2F;div&gt;
  &lt;&#x2F;div&gt;
&lt;&#x2F;template&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>

<p><strong>使用计算属性缓存：</strong></p>
<figure><div class="code-wrapper"><pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;script&gt;
export default &#123;
  data() &#123;
    return &#123;
      items: []
    &#125;
  &#125;,
  computed: &#123;
    &#x2F;&#x2F; 计算属性会缓存结果
    expensiveValue() &#123;
      console.log(&#39;计算属性执行&#39;) &#x2F;&#x2F; 只在依赖变化时执行
      return this.items.reduce((sum, item) &#x3D;&gt; sum + item.price, 0)
    &#125;
  &#125;,
  methods: &#123;
    &#x2F;&#x2F; 方法每次都会执行
    getExpensiveValue() &#123;
      console.log(&#39;方法执行&#39;) &#x2F;&#x2F; 每次调用都执行
      return this.items.reduce((sum, item) &#x3D;&gt; sum + item.price, 0)
    &#125;
  &#125;
&#125;
&lt;&#x2F;script&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>

<p><strong>2. 组件优化：</strong></p>
<p><strong>使用异步组件：</strong></p>
<figure><div class="code-wrapper"><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// 路由级别的代码分割</span>
<span class="token keyword">const</span> routes <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">&#123;</span>
    <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'/about'</span><span class="token punctuation">,</span>
    <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'@/views/About.vue'</span><span class="token punctuation">)</span> <span class="token comment">// 懒加载</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">]</span>

<span class="token comment">// 组件级别的异步加载</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">&#123;</span>
  <span class="token literal-property property">components</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>
    <span class="token function-variable function">HeavyComponent</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'@/components/HeavyComponent.vue'</span><span class="token punctuation">)</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>

<p><strong>使用keep-alive缓存组件：</strong></p>
<figure><div class="code-wrapper"><pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;template&gt;
  &lt;div&gt;
    &lt;!-- 缓存动态组件 --&gt;
    &lt;keep-alive :include&#x3D;&quot;[&#39;ComponentA&#39;, &#39;ComponentB&#39;]&quot;&gt;
      &lt;component :is&#x3D;&quot;currentComponent&quot; &#x2F;&gt;
    &lt;&#x2F;keep-alive&gt;
    
    &lt;!-- 缓存路由组件 --&gt;
    &lt;router-view v-slot&#x3D;&quot;&#123; Component &#125;&quot;&gt;
      &lt;keep-alive&gt;
        &lt;component :is&#x3D;&quot;Component&quot; &#x2F;&gt;
      &lt;&#x2F;keep-alive&gt;
    &lt;&#x2F;router-view&gt;
  &lt;&#x2F;div&gt;
&lt;&#x2F;template&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>

<p><strong>使用函数式组件：</strong></p>
<figure><div class="code-wrapper"><pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;!-- 函数式组件（Vue 2） --&gt;
&lt;template functional&gt;
  &lt;div class&#x3D;&quot;item&quot;&gt;
    &lt;h3&gt;&#123;&#123; props.title &#125;&#125;&lt;&#x2F;h3&gt;
    &lt;p&gt;&#123;&#123; props.content &#125;&#125;&lt;&#x2F;p&gt;
  &lt;&#x2F;div&gt;
&lt;&#x2F;template&gt;

&lt;script&gt;
export default &#123;
  functional: true,
  props: [&#39;title&#39;, &#39;content&#39;]
&#125;
&lt;&#x2F;script&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>

<figure><div class="code-wrapper"><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// Vue 3函数式组件</span>
<span class="token keyword">import</span> <span class="token punctuation">&#123;</span> h <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">SimpleComponent</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">return</span> <span class="token function">h</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span> <span class="token keyword">class</span><span class="token operator">:</span> <span class="token string">'item'</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>
    <span class="token function">h</span><span class="token punctuation">(</span><span class="token string">'h3'</span><span class="token punctuation">,</span> props<span class="token punctuation">.</span>title<span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">h</span><span class="token punctuation">(</span><span class="token string">'p'</span><span class="token punctuation">,</span> props<span class="token punctuation">.</span>content<span class="token punctuation">)</span>
  <span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>

<p><strong>3. 打包优化：</strong></p>
<p><strong>Webpack配置优化：</strong></p>
<figure><div class="code-wrapper"><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// vue.config.js</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
  <span class="token literal-property property">configureWebpack</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>
    <span class="token literal-property property">optimization</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>
      <span class="token literal-property property">splitChunks</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>
        <span class="token literal-property property">chunks</span><span class="token operator">:</span> <span class="token string">'all'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">cacheGroups</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>
          <span class="token literal-property property">vendor</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>
            <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'chunk-vendors'</span><span class="token punctuation">,</span>
            <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">[\\/]node_modules[\\/]</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
            <span class="token literal-property property">priority</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
            <span class="token literal-property property">chunks</span><span class="token operator">:</span> <span class="token string">'initial'</span>
          <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
          <span class="token literal-property property">common</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>
            <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'chunk-common'</span><span class="token punctuation">,</span>
            <span class="token literal-property property">minChunks</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
            <span class="token literal-property property">priority</span><span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
            <span class="token literal-property property">chunks</span><span class="token operator">:</span> <span class="token string">'initial'</span><span class="token punctuation">,</span>
            <span class="token literal-property property">reuseExistingChunk</span><span class="token operator">:</span> <span class="token boolean">true</span>
          <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span>
      <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  
  <span class="token comment">// 生产环境关闭source map</span>
  <span class="token literal-property property">productionSourceMap</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  
  <span class="token comment">// 开启gzip压缩</span>
  <span class="token function-variable function">chainWebpack</span><span class="token operator">:</span> <span class="token parameter">config</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NODE_ENV</span> <span class="token operator">===</span> <span class="token string">'production'</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
      config<span class="token punctuation">.</span><span class="token function">plugin</span><span class="token punctuation">(</span><span class="token string">'compressionPlugin'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token string">'compression-webpack-plugin'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">&#123;</span>
        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.(js|css|html)$</span><span class="token regex-delimiter">/</span><span class="token regex-flags">i</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">threshold</span><span class="token operator">:</span> <span class="token number">10240</span><span class="token punctuation">,</span>
        <span class="token literal-property property">deleteOriginalAssets</span><span class="token operator">:</span> <span class="token boolean">false</span>
      <span class="token punctuation">&#125;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>

<p><strong>4. 运行时优化：</strong></p>
<p><strong>虚拟滚动：</strong></p>
<figure><div class="code-wrapper"><pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;template&gt;
  &lt;div class&#x3D;&quot;virtual-list&quot; @scroll&#x3D;&quot;handleScroll&quot;&gt;
    &lt;div class&#x3D;&quot;list-phantom&quot; :style&#x3D;&quot;&#123; height: totalHeight + &#39;px&#39; &#125;&quot;&gt;&lt;&#x2F;div&gt;
    &lt;div class&#x3D;&quot;list-container&quot; :style&#x3D;&quot;&#123; transform: &#96;translateY($&#123;startOffset&#125;px)&#96; &#125;&quot;&gt;
      &lt;div 
        v-for&#x3D;&quot;item in visibleItems&quot; 
        :key&#x3D;&quot;item.id&quot;
        class&#x3D;&quot;list-item&quot;
        :style&#x3D;&quot;&#123; height: itemHeight + &#39;px&#39; &#125;&quot;
      &gt;
        &#123;&#123; item.content &#125;&#125;
      &lt;&#x2F;div&gt;
    &lt;&#x2F;div&gt;
  &lt;&#x2F;div&gt;
&lt;&#x2F;template&gt;

&lt;script&gt;
export default &#123;
  props: &#123;
    items: Array,
    itemHeight: &#123; type: Number, default: 50 &#125;
  &#125;,
  data() &#123;
    return &#123;
      containerHeight: 300,
      scrollTop: 0
    &#125;
  &#125;,
  computed: &#123;
    totalHeight() &#123;
      return this.items.length * this.itemHeight
    &#125;,
    visibleCount() &#123;
      return Math.ceil(this.containerHeight &#x2F; this.itemHeight)
    &#125;,
    startIndex() &#123;
      return Math.floor(this.scrollTop &#x2F; this.itemHeight)
    &#125;,
    endIndex() &#123;
      return Math.min(this.startIndex + this.visibleCount, this.items.length)
    &#125;,
    visibleItems() &#123;
      return this.items.slice(this.startIndex, this.endIndex)
    &#125;,
    startOffset() &#123;
      return this.startIndex * this.itemHeight
    &#125;
  &#125;,
  methods: &#123;
    handleScroll(e) &#123;
      this.scrollTop &#x3D; e.target.scrollTop
    &#125;
  &#125;
&#125;
&lt;&#x2F;script&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>

<p><strong>防抖和节流：</strong></p>
<figure><div class="code-wrapper"><pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;template&gt;
  &lt;div&gt;
    &lt;input @input&#x3D;&quot;debouncedSearch&quot; placeholder&#x3D;&quot;搜索...&quot;&gt;
    &lt;div @scroll&#x3D;&quot;throttledScroll&quot;&gt;滚动内容&lt;&#x2F;div&gt;
  &lt;&#x2F;div&gt;
&lt;&#x2F;template&gt;

&lt;script&gt;
import &#123; debounce, throttle &#125; from &#39;lodash&#39;

export default &#123;
  methods: &#123;
    search(keyword) &#123;
      console.log(&#39;搜索：&#39;, keyword)
      &#x2F;&#x2F; 执行搜索逻辑
    &#125;,
    
    handleScroll() &#123;
      console.log(&#39;滚动事件&#39;)
      &#x2F;&#x2F; 处理滚动逻辑
    &#125;
  &#125;,
  
  created() &#123;
    &#x2F;&#x2F; 防抖：延迟执行，适用于搜索
    this.debouncedSearch &#x3D; debounce((e) &#x3D;&gt; &#123;
      this.search(e.target.value)
    &#125;, 300)
    
    &#x2F;&#x2F; 节流：限制执行频率，适用于滚动
    this.throttledScroll &#x3D; throttle(this.handleScroll, 100)
  &#125;
&#125;
&lt;&#x2F;script&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>

<h3 id="14-如何检测和分析Vue应用性能？"><a href="#14-如何检测和分析Vue应用性能？" class="headerlink" title="14. 如何检测和分析Vue应用性能？"></a>14. 如何检测和分析Vue应用性能？</h3><p><strong>标准回答：</strong></p>
<p><strong>1. Vue DevTools：</strong></p>
<ul>
<li>组件性能分析</li>
<li>查看组件渲染时间</li>
<li>监控状态变化</li>
</ul>
<p><strong>2. 浏览器性能工具：</strong></p>
<figure><div class="code-wrapper"><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// 使用Performance API</span>
<span class="token keyword">const</span> observer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">PerformanceObserver</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">list</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> entry <span class="token keyword">of</span> list<span class="token punctuation">.</span><span class="token function">getEntries</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'性能指标：'</span><span class="token punctuation">,</span> entry<span class="token punctuation">)</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>

observer<span class="token punctuation">.</span><span class="token function">observe</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span> <span class="token literal-property property">entryTypes</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'measure'</span><span class="token punctuation">,</span> <span class="token string">'navigation'</span><span class="token punctuation">]</span> <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>

<span class="token comment">// 自定义性能标记</span>
performance<span class="token punctuation">.</span><span class="token function">mark</span><span class="token punctuation">(</span><span class="token string">'component-start'</span><span class="token punctuation">)</span>
<span class="token comment">// ... 组件渲染逻辑</span>
performance<span class="token punctuation">.</span><span class="token function">mark</span><span class="token punctuation">(</span><span class="token string">'component-end'</span><span class="token punctuation">)</span>
performance<span class="token punctuation">.</span><span class="token function">measure</span><span class="token punctuation">(</span><span class="token string">'component-render'</span><span class="token punctuation">,</span> <span class="token string">'component-start'</span><span class="token punctuation">,</span> <span class="token string">'component-end'</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>

<p><strong>3. 代码分析工具：</strong></p>
<figure><div class="code-wrapper"><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// webpack-bundle-analyzer</span>
npm install <span class="token operator">--</span>save<span class="token operator">-</span>dev webpack<span class="token operator">-</span>bundle<span class="token operator">-</span>analyzer

<span class="token comment">// package.json</span>
<span class="token punctuation">&#123;</span>
  <span class="token string-property property">"scripts"</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>
    <span class="token string-property property">"analyze"</span><span class="token operator">:</span> <span class="token string">"vue-cli-service build --analyze"</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>

<p><strong>4. 性能监控组件：</strong></p>
<figure><div class="code-wrapper"><pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;template&gt;
  &lt;div&gt;
    &lt;performance-monitor&gt;
      &lt;heavy-component &#x2F;&gt;
    &lt;&#x2F;performance-monitor&gt;
  &lt;&#x2F;div&gt;
&lt;&#x2F;template&gt;

&lt;script&gt;
const PerformanceMonitor &#x3D; &#123;
  name: &#39;PerformanceMonitor&#39;,
  render(h) &#123;
    return h(&#39;div&#39;, this.$slots.default)
  &#125;,
  beforeUpdate() &#123;
    this.startTime &#x3D; performance.now()
  &#125;,
  updated() &#123;
    const endTime &#x3D; performance.now()
    console.log(&#96;组件更新耗时：$&#123;endTime - this.startTime&#125;ms&#96;)
  &#125;
&#125;

export default &#123;
  components: &#123;
    PerformanceMonitor
  &#125;
&#125;
&lt;&#x2F;script&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>

<h1 id="七、Vue进阶特性面试问题"><a href="#七、Vue进阶特性面试问题" class="headerlink" title="七、Vue进阶特性面试问题"></a>七、Vue进阶特性面试问题</h1><h2 id="（一）自定义指令"><a href="#（一）自定义指令" class="headerlink" title="（一）自定义指令"></a>（一）自定义指令</h2><h3 id="15-如何创建和使用自定义指令？"><a href="#15-如何创建和使用自定义指令？" class="headerlink" title="15. 如何创建和使用自定义指令？"></a>15. 如何创建和使用自定义指令？</h3><p><strong>标准回答：</strong></p>
<p><strong>全局自定义指令：</strong></p>
<figure><div class="code-wrapper"><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// main.js</span>
<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">createApp</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span>

<span class="token comment">// 自动聚焦指令</span>
app<span class="token punctuation">.</span><span class="token function">directive</span><span class="token punctuation">(</span><span class="token string">'focus'</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>
  <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token parameter">el</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    el<span class="token punctuation">.</span><span class="token function">focus</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>

<span class="token comment">// 权限控制指令</span>
app<span class="token punctuation">.</span><span class="token function">directive</span><span class="token punctuation">(</span><span class="token string">'permission'</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>
  <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token parameter">el<span class="token punctuation">,</span> binding</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">const</span> <span class="token punctuation">&#123;</span> value <span class="token punctuation">&#125;</span> <span class="token operator">=</span> binding
    <span class="token keyword">const</span> userPermissions <span class="token operator">=</span> store<span class="token punctuation">.</span>getters<span class="token punctuation">.</span>userPermissions
    
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>userPermissions<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
      el<span class="token punctuation">.</span>style<span class="token punctuation">.</span>display <span class="token operator">=</span> <span class="token string">'none'</span>
      <span class="token comment">// 或者移除元素</span>
      <span class="token comment">// el.parentNode?.removeChild(el)</span>
    <span class="token punctuation">&#125;</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  <span class="token function">updated</span><span class="token punctuation">(</span><span class="token parameter">el<span class="token punctuation">,</span> binding</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token comment">// 权限变化时重新检查</span>
    <span class="token keyword">const</span> <span class="token punctuation">&#123;</span> value <span class="token punctuation">&#125;</span> <span class="token operator">=</span> binding
    <span class="token keyword">const</span> userPermissions <span class="token operator">=</span> store<span class="token punctuation">.</span>getters<span class="token punctuation">.</span>userPermissions
    
    el<span class="token punctuation">.</span>style<span class="token punctuation">.</span>display <span class="token operator">=</span> userPermissions<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token string">''</span> <span class="token operator">:</span> <span class="token string">'none'</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>

<p><strong>局部自定义指令：</strong></p>
<figure><div class="code-wrapper"><pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;template&gt;
  &lt;div&gt;
    &lt;input v-focus placeholder&#x3D;&quot;自动聚焦&quot;&gt;
    &lt;button v-permission&#x3D;&quot;&#39;delete&#39;&quot; @click&#x3D;&quot;deleteItem&quot;&gt;删除&lt;&#x2F;button&gt;
    &lt;div v-loading&#x3D;&quot;isLoading&quot;&gt;加载中的内容&lt;&#x2F;div&gt;
  &lt;&#x2F;div&gt;
&lt;&#x2F;template&gt;

&lt;script&gt;
export default &#123;
  directives: &#123;
    &#x2F;&#x2F; 加载指令
    loading: &#123;
      mounted(el, binding) &#123;
        if (binding.value) &#123;
          el.classList.add(&#39;loading&#39;)
          const loadingEl &#x3D; document.createElement(&#39;div&#39;)
          loadingEl.className &#x3D; &#39;loading-spinner&#39;
          loadingEl.innerHTML &#x3D; &#39;加载中...&#39;
          el.appendChild(loadingEl)
        &#125;
      &#125;,
      updated(el, binding) &#123;
        if (binding.value !&#x3D;&#x3D; binding.oldValue) &#123;
          if (binding.value) &#123;
            el.classList.add(&#39;loading&#39;)
            if (!el.querySelector(&#39;.loading-spinner&#39;)) &#123;
              const loadingEl &#x3D; document.createElement(&#39;div&#39;)
              loadingEl.className &#x3D; &#39;loading-spinner&#39;
              loadingEl.innerHTML &#x3D; &#39;加载中...&#39;
              el.appendChild(loadingEl)
            &#125;
          &#125; else &#123;
            el.classList.remove(&#39;loading&#39;)
            const loadingEl &#x3D; el.querySelector(&#39;.loading-spinner&#39;)
            if (loadingEl) &#123;
              el.removeChild(loadingEl)
            &#125;
          &#125;
        &#125;
      &#125;
    &#125;
  &#125;,
  data() &#123;
    return &#123;
      isLoading: false
    &#125;
  &#125;
&#125;
&lt;&#x2F;script&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>

<h2 id="（二）插件开发"><a href="#（二）插件开发" class="headerlink" title="（二）插件开发"></a>（二）插件开发</h2><h3 id="16-如何开发Vue插件？"><a href="#16-如何开发Vue插件？" class="headerlink" title="16. 如何开发Vue插件？"></a>16. 如何开发Vue插件？</h3><p><strong>标准回答：</strong></p>
<figure><div class="code-wrapper"><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// plugins/toast.js</span>
<span class="token keyword">const</span> Toast <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
  <span class="token function">install</span><span class="token punctuation">(</span><span class="token parameter">app<span class="token punctuation">,</span> options <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span></span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">const</span> defaultOptions <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
      <span class="token literal-property property">duration</span><span class="token operator">:</span> <span class="token number">3000</span><span class="token punctuation">,</span>
      <span class="token literal-property property">position</span><span class="token operator">:</span> <span class="token string">'top'</span>
    <span class="token punctuation">&#125;</span>
    
    <span class="token keyword">const</span> config <span class="token operator">=</span> <span class="token punctuation">&#123;</span> <span class="token operator">...</span>defaultOptions<span class="token punctuation">,</span> <span class="token operator">...</span>options <span class="token punctuation">&#125;</span>
    
    <span class="token comment">// 创建Toast组件</span>
    <span class="token keyword">const</span> ToastComponent <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
      <span class="token literal-property property">template</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
        &lt;transition name="toast-fade">
          &lt;div v-if="visible" :class="toastClass">
            &#123;&#123; message &#125;&#125;
          &lt;/div>
        &lt;/transition>
      </span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
      <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">return</span> <span class="token punctuation">&#123;</span>
          <span class="token literal-property property">visible</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
          <span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
          <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'info'</span>
        <span class="token punctuation">&#125;</span>
      <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">computed</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>
        <span class="token function">toastClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
          <span class="token keyword">return</span> <span class="token punctuation">[</span>
            <span class="token string">'toast'</span><span class="token punctuation">,</span>
            <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">toast-</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span><span class="token keyword">this</span><span class="token punctuation">.</span>type<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
            <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">toast-</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>config<span class="token punctuation">.</span>position<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token template-punctuation string">`</span></span>
          <span class="token punctuation">]</span>
        <span class="token punctuation">&#125;</span>
      <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>
        <span class="token function">show</span><span class="token punctuation">(</span>message<span class="token punctuation">,</span> type <span class="token operator">=</span> <span class="token string">'info'</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
          <span class="token keyword">this</span><span class="token punctuation">.</span>message <span class="token operator">=</span> message
          <span class="token keyword">this</span><span class="token punctuation">.</span>type <span class="token operator">=</span> type
          <span class="token keyword">this</span><span class="token punctuation">.</span>visible <span class="token operator">=</span> <span class="token boolean">true</span>
          
          <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>visible <span class="token operator">=</span> <span class="token boolean">false</span>
          <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> config<span class="token punctuation">.</span>duration<span class="token punctuation">)</span>
        <span class="token punctuation">&#125;</span>
      <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
    
    <span class="token comment">// 创建Toast实例</span>
    <span class="token keyword">let</span> toastInstance <span class="token operator">=</span> <span class="token keyword">null</span>
    
    <span class="token keyword">const</span> <span class="token function-variable function">createToast</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>toastInstance<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">const</span> container <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">)</span>
        document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>container<span class="token punctuation">)</span>
        
        toastInstance <span class="token operator">=</span> app<span class="token punctuation">.</span><span class="token function">createApp</span><span class="token punctuation">(</span>ToastComponent<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">mount</span><span class="token punctuation">(</span>container<span class="token punctuation">)</span>
      <span class="token punctuation">&#125;</span>
      <span class="token keyword">return</span> toastInstance
    <span class="token punctuation">&#125;</span>
    
    <span class="token comment">// 添加全局方法</span>
    <span class="token keyword">const</span> toast <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
      <span class="token function">success</span><span class="token punctuation">(</span><span class="token parameter">message</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token function">createToast</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span>message<span class="token punctuation">,</span> <span class="token string">'success'</span><span class="token punctuation">)</span>
      <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
      <span class="token function">error</span><span class="token punctuation">(</span><span class="token parameter">message</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token function">createToast</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span>message<span class="token punctuation">,</span> <span class="token string">'error'</span><span class="token punctuation">)</span>
      <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
      <span class="token function">warning</span><span class="token punctuation">(</span><span class="token parameter">message</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token function">createToast</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span>message<span class="token punctuation">,</span> <span class="token string">'warning'</span><span class="token punctuation">)</span>
      <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
      <span class="token function">info</span><span class="token punctuation">(</span><span class="token parameter">message</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token function">createToast</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span>message<span class="token punctuation">,</span> <span class="token string">'info'</span><span class="token punctuation">)</span>
      <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
    
    <span class="token comment">// 添加到全局属性</span>
    app<span class="token punctuation">.</span>config<span class="token punctuation">.</span>globalProperties<span class="token punctuation">.</span>$toast <span class="token operator">=</span> toast
    
    <span class="token comment">// 提供inject</span>
    app<span class="token punctuation">.</span><span class="token function">provide</span><span class="token punctuation">(</span><span class="token string">'toast'</span><span class="token punctuation">,</span> toast<span class="token punctuation">)</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> Toast<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>

<p><strong>使用插件：</strong></p>
<figure><div class="code-wrapper"><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// main.js</span>
<span class="token keyword">import</span> <span class="token punctuation">&#123;</span> createApp <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">import</span> App <span class="token keyword">from</span> <span class="token string">'./App.vue'</span>
<span class="token keyword">import</span> Toast <span class="token keyword">from</span> <span class="token string">'./plugins/toast'</span>

<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">createApp</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span>

<span class="token comment">// 安装插件</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>Toast<span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>
  <span class="token literal-property property">duration</span><span class="token operator">:</span> <span class="token number">2000</span><span class="token punctuation">,</span>
  <span class="token literal-property property">position</span><span class="token operator">:</span> <span class="token string">'bottom'</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>

app<span class="token punctuation">.</span><span class="token function">mount</span><span class="token punctuation">(</span><span class="token string">'#app'</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>

<figure><div class="code-wrapper"><pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;!-- 在组件中使用 --&gt;
&lt;template&gt;
  &lt;div&gt;
    &lt;button @click&#x3D;&quot;showSuccess&quot;&gt;成功提示&lt;&#x2F;button&gt;
    &lt;button @click&#x3D;&quot;showError&quot;&gt;错误提示&lt;&#x2F;button&gt;
  &lt;&#x2F;div&gt;
&lt;&#x2F;template&gt;

&lt;script&gt;
import &#123; inject &#125; from &#39;vue&#39;

export default &#123;
  setup() &#123;
    const toast &#x3D; inject(&#39;toast&#39;)
    
    const showSuccess &#x3D; () &#x3D;&gt; &#123;
      toast.success(&#39;操作成功！&#39;)
    &#125;
    
    const showError &#x3D; () &#x3D;&gt; &#123;
      toast.error(&#39;操作失败！&#39;)
    &#125;
    
    return &#123;
      showSuccess,
      showError
    &#125;
  &#125;,
  
  &#x2F;&#x2F; 或者使用Options API
  methods: &#123;
    showToast() &#123;
      this.$toast.info(&#39;这是一个提示&#39;)
    &#125;
  &#125;
&#125;
&lt;&#x2F;script&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>

<h1 id="八、Vue面试技巧和注意事项"><a href="#八、Vue面试技巧和注意事项" class="headerlink" title="八、Vue面试技巧和注意事项"></a>八、Vue面试技巧和注意事项</h1><h2 id="（一）面试准备策略"><a href="#（一）面试准备策略" class="headerlink" title="（一）面试准备策略"></a>（一）面试准备策略</h2><h3 id="17-Vue面试的准备重点"><a href="#17-Vue面试的准备重点" class="headerlink" title="17. Vue面试的准备重点"></a>17. Vue面试的准备重点</h3><p><strong>技术准备：</strong></p>
<ol>
<li><p><strong>基础概念要扎实</strong></p>
<ul>
<li>响应式原理</li>
<li>生命周期</li>
<li>组件通信</li>
<li>指令系统</li>
</ul>
</li>
<li><p><strong>实战经验要丰富</strong></p>
<ul>
<li>项目架构设计</li>
<li>性能优化实践</li>
<li>问题解决经验</li>
<li>最佳实践应用</li>
</ul>
</li>
<li><p><strong>新特性要了解</strong></p>
<ul>
<li>Vue 3新特性</li>
<li>Composition API</li>
<li>TypeScript集成</li>
<li>生态系统更新</li>
</ul>
</li>
</ol>
<p><strong>回答技巧：</strong></p>
<ol>
<li><p><strong>结构化回答</strong></p>
<ul>
<li>先说概念，再举例子</li>
<li>理论结合实践</li>
<li>对比不同方案</li>
</ul>
</li>
<li><p><strong>展示深度思考</strong></p>
<ul>
<li>分析优缺点</li>
<li>考虑使用场景</li>
<li>提及最佳实践</li>
</ul>
</li>
<li><p><strong>体现实战经验</strong></p>
<ul>
<li>结合项目经历</li>
<li>分享解决方案</li>
<li>展示学习能力</li>
</ul>
</li>
</ol>
<h2 id="（二）常见面试陷阱"><a href="#（二）常见面试陷阱" class="headerlink" title="（二）常见面试陷阱"></a>（二）常见面试陷阱</h2><h3 id="18-需要注意的面试陷阱"><a href="#18-需要注意的面试陷阱" class="headerlink" title="18. 需要注意的面试陷阱"></a>18. 需要注意的面试陷阱</h3><p><strong>1. 过度复杂化简单问题</strong></p>
<figure><div class="code-wrapper"><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// 错误示例：过度设计</span>
<span class="token keyword">class</span> <span class="token class-name">ComplexCounter</span> <span class="token punctuation">&#123;</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>observers <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">&#123;</span> <span class="token literal-property property">count</span><span class="token operator">:</span> <span class="token number">0</span> <span class="token punctuation">&#125;</span>
  <span class="token punctuation">&#125;</span>
  
  <span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token parameter">observer</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>observers<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>observer<span class="token punctuation">)</span>
  <span class="token punctuation">&#125;</span>
  
  <span class="token function">notify</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>observers<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">observer</span> <span class="token operator">=></span> <span class="token function">observer</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">&#125;</span>
  
  <span class="token function">increment</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>count<span class="token operator">++</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">notify</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">// 正确示例：简单直接</span>
<span class="token keyword">const</span> counter <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
  <span class="token literal-property property">count</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token function">increment</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>count<span class="token operator">++</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>

<p><strong>2. 忽略边界情况</strong></p>
<figure><div class="code-wrapper"><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// 不完整的实现</span>
<span class="token keyword">function</span> <span class="token function">debounce</span><span class="token punctuation">(</span><span class="token parameter">func<span class="token punctuation">,</span> delay</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">let</span> timer
  <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token function">clearTimeout</span><span class="token punctuation">(</span>timer<span class="token punctuation">)</span>
    timer <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span>func<span class="token punctuation">,</span> delay<span class="token punctuation">)</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">// 完整的实现</span>
<span class="token keyword">function</span> <span class="token function">debounce</span><span class="token punctuation">(</span><span class="token parameter">func<span class="token punctuation">,</span> delay</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">let</span> timer
  <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>args</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">const</span> context <span class="token operator">=</span> <span class="token keyword">this</span>
    <span class="token function">clearTimeout</span><span class="token punctuation">(</span>timer<span class="token punctuation">)</span>
    timer <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
      <span class="token function">func</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> args<span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> delay<span class="token punctuation">)</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>

<p><strong>3. 不考虑性能影响</strong></p>
<figure><div class="code-wrapper"><pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;!-- 性能问题 --&gt;
&lt;template&gt;
  &lt;div&gt;
    &lt;div v-for&#x3D;&quot;item in expensiveComputation()&quot; :key&#x3D;&quot;item.id&quot;&gt;
      &#123;&#123; item.name &#125;&#125;
    &lt;&#x2F;div&gt;
  &lt;&#x2F;div&gt;
&lt;&#x2F;template&gt;

&lt;!-- 优化后 --&gt;
&lt;template&gt;
  &lt;div&gt;
    &lt;div v-for&#x3D;&quot;item in computedItems&quot; :key&#x3D;&quot;item.id&quot;&gt;
      &#123;&#123; item.name &#125;&#125;
    &lt;&#x2F;div&gt;
  &lt;&#x2F;div&gt;
&lt;&#x2F;template&gt;

&lt;script&gt;
export default &#123;
  computed: &#123;
    computedItems() &#123;
      return this.expensiveComputation()
    &#125;
  &#125;
&#125;
&lt;&#x2F;script&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>

<h1 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h1><p>本文详细介绍了Vue前端面试中的核心问题和回答技巧，涵盖了从基础概念到高级特性的各个方面。掌握这些知识点不仅有助于面试成功，更重要的是能够在实际项目中应用这些最佳实践，提升开发效率和代码质量。</p>
<p><strong>面试成功的关键：</strong></p>
<ol>
<li>扎实的基础知识</li>
<li>丰富的实战经验</li>
<li>清晰的表达能力</li>
<li>持续的学习态度</li>
</ol>
<p><strong>持续学习建议：</strong></p>
<ul>
<li>关注Vue官方文档更新</li>
<li>参与开源项目贡献</li>
<li>实践新技术和最佳实践</li>
<li>分享技术心得和经验</li>
</ul>
<p>希望这份面试指南能够帮助你在Vue前端面试中取得成功！</p>

                
              </div>
            
            <hr/>
            <div>
              <div class="post-metas my-3">
  
    <div class="post-meta mr-3 d-flex align-items-center">
      <i class="iconfont icon-category"></i>
      

<span class="category-chains">
  
  
    
      <span class="category-chain">
        
  <a href="/categories/%E6%B1%82%E8%81%8C/" class="category-chain-item">求职</a>
  
  

      </span>
    
  
</span>

    </div>
  
  
    <div class="post-meta">
      <i class="iconfont icon-tags"></i>
      
        <a href="/tags/%E5%89%8D%E7%AB%AF/" class="print-no-link">#前端</a>
      
        <a href="/tags/JavaScript/" class="print-no-link">#JavaScript</a>
      
        <a href="/tags/Vue/" class="print-no-link">#Vue</a>
      
        <a href="/tags/%E9%9D%A2%E8%AF%95/" class="print-no-link">#面试</a>
      
    </div>
  
</div>


              

              
                <div class="post-prevnext my-3">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2025/07/15/%E3%80%90%E6%B1%82%E8%81%8C%E3%80%91%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%A1%8C%E4%B8%9A%E9%9D%A2%E8%AF%95%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98%E4%B8%8E%E5%9B%9E%E7%AD%94%E6%8A%80%E5%B7%A7/" title="【求职】计算机行业面试常见问题与回答技巧">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">【求职】计算机行业面试常见问题与回答技巧</span>
                        <span class="visible-mobile">上一篇</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2025/07/15/%E3%80%90%E6%B1%82%E8%81%8C%E3%80%91Linux%E9%9D%A2%E8%AF%95%E9%97%AE%E9%A2%98/" title="【求职】Linux面试问题">
                        <span class="hidden-mobile">【求职】Linux面试问题</span>
                        <span class="visible-mobile">下一篇</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
          </article>
        </div>
      </div>
    </div>

    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar" style="margin-left: -1rem">
    <div id="toc">
  <p class="toc-header">
    <i class="iconfont icon-list"></i>
    <span>目录</span>
  </p>
  <div class="toc-body" id="toc-body"></div>
</div>



  </aside>


    </div>
  </div>
</div>





  



  



  



  



  







    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    <div class="footer-inner">
  
    <div class="footer-content">
       <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> 
    </div>
  
  
    <div class="statistics">
  
  

  
    
      <span id="busuanzi_container_site_pv" style="display: none">
        总访问量 
        <span id="busuanzi_value_site_pv"></span>
         次
      </span>
    
    
      <span id="busuanzi_container_site_uv" style="display: none">
        总访客数 
        <span id="busuanzi_value_site_uv"></span>
         人
      </span>
    
    

  

</div>

  
  
</div>

  </footer>

  <!-- Scripts -->
  
  <script  src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://lib.baomitu.com/jquery/3.6.4/jquery.min.js" ></script>
<script  src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>


  <script  src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var subtitle = document.getElementById('subtitle');
      if (!subtitle || !typing) {
        return;
      }
      var text = subtitle.getAttribute('data-typed-text');
      
        typing(text);
      
    })(window, document);
  </script>




  
    <script  src="/js/img-lazyload.js" ></script>
  




  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/tocbot/4.20.1/tocbot.min.js', function() {
    var toc = jQuery('#toc');
    if (toc.length === 0 || !window.tocbot) { return; }
    var boardCtn = jQuery('#board-ctn');
    var boardTop = boardCtn.offset().top;

    window.tocbot.init(Object.assign({
      tocSelector     : '#toc-body',
      contentSelector : '.markdown-body',
      linkClass       : 'tocbot-link',
      activeLinkClass : 'tocbot-active-link',
      listClass       : 'tocbot-list',
      isCollapsedClass: 'tocbot-is-collapsed',
      collapsibleClass: 'tocbot-is-collapsible',
      scrollSmooth    : true,
      includeTitleTags: true,
      headingsOffset  : -boardTop,
    }, CONFIG.toc));
    if (toc.find('.toc-list-item').length > 0) {
      toc.css('visibility', 'visible');
    }

    Fluid.events.registerRefreshCallback(function() {
      if ('tocbot' in window) {
        tocbot.refresh();
        var toc = jQuery('#toc');
        if (toc.length === 0 || !tocbot) {
          return;
        }
        if (toc.find('.toc-list-item').length > 0) {
          toc.css('visibility', 'visible');
        }
      }
    });
  });
</script>


  <script  src="https://lib.baomitu.com/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.js" ></script>

  <script src=https://lib.baomitu.com/clipboard.js/2.0.11/clipboard.min.js></script>

  <script>Fluid.plugins.codeWidget();</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/anchor-js/5.0.0/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));

    Fluid.events.registerRefreshCallback(function() {
      if ('anchors' in window) {
        anchors.removeAll();
        var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
        var res = [];
        for (var item of el) {
          res.push('.markdown-body > ' + item.trim());
        }
        if (CONFIG.anchorjs.placement === 'left') {
          anchors.options.class = 'anchorjs-link-left';
        }
        anchors.add(res.join(', '));
      }
    });
  });
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js', function() {
    Fluid.plugins.fancyBox();
  });
</script>


  <script>Fluid.plugins.imageCaption();</script>

  <script  src="/js/local-search.js" ></script>

  <script defer src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" ></script>




  
<script src="/js/custom.js"></script>
<script src="/js/ai-assistant.js"></script>
<script src="https://cdn.jsdelivr.net/npm/mermaid@9.4.0/dist/mermaid.min.js"></script>



<!-- 主题的启动项，将它保持在最底部 -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="/js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">博客在允许 JavaScript 运行的环境下浏览效果更佳</div>
  </noscript>
</body>
</html>
